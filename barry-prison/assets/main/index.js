System.register("chunks:///_virtual/ActivatingButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts"],(function(t){var e,n,i,o,s,a,r,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Node,s=t._decorator,a=t.Component,r=t.tween,c=t.Vec3},function(t){l=t.Interactable},function(t){p=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var u,b,h,g,_,E,f,T;i._RF.push({},"17cfdQneLlDfJLWpmBKfeRA","ActivatingButton",void 0);const{ccclass:I,property:N,requireComponent:d}=s;t("ActivatingButton",(u=I("ActivatingButton"),b=d(l),h=N(o),g=N(l),u(_=b((f=e((E=class extends a{constructor(){super(...arguments),n(this,"toggleNode",f,this),n(this,"interactable",T,this)}onEnable(){this.interactable.on(l.EVENT_INTERACT,this._onInteract,this),this.interactable.on(l.EVENT_RESET,this._onInteractableReset,this)}onDisable(){this.interactable.off(l.EVENT_INTERACT,this._onInteract,this),this.interactable.off(l.EVENT_RESET,this._onInteractableReset,this)}_pressDown(){r(this.toggleNode).tag(p).by(.3,{position:new c(0,0,-.1)},{easing:"sineInOut"}).start()}_pressUp(){r(this.toggleNode).tag(p).by(.3,{position:new c(0,0,.1)},{easing:"sineInOut"}).start()}_onInteract(){this._pressDown()}_onInteractableReset(){this._pressUp()}}).prototype,"toggleNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(E.prototype,"interactable",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=E))||_)||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/AdvCountdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts"],(function(t){var i,e,n,o,s,r,c;return{setters:[function(t){i=t.defineProperty,e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t.Label,r=t._decorator},function(t){c=t.EventifiedComponent}],execute:function(){var d,h,a,u,l,_;o._RF.push({},"f3db38oysZCcbRH6VQ8vn4/","AdvCountdown",void 0);const{ccclass:p,property:m}=r;t("AdvCountdown",(d=p("AdvCountdown"),h=m(s),d((_=class t extends c{constructor(){super(...arguments),n(this,"timeLabel",l,this),i(this,"_time",0)}onLoad(){t.instance=this,this._hide()}startCountdown(t){this._time=t,this.timeLabel.string=t.toString(),this._show(),this.schedule(this._tick,1,this._time+1,1)}_tick(i){this._time-=i,this.timeLabel.string=Math.round(this._time).toString(),this._time<=0&&(this._hide(),this.emit(t.EVENT_COUNTDOWN_FINISHED))}_show(){this.node.active=!0}_hide(){this.node.active=!1}},i(_,"instance",void 0),i(_,"EVENT_COUNTDOWN_FINISHED","countdown-finished"),l=e((u=_).prototype,"timeLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u))||a));o._RF.pop()}}}));

System.register("chunks:///_virtual/AlarmBarryState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BarryBaseState.ts","./Barry.ts"],(function(r){var t,a,e,s,n;return{setters:[function(r){t=r.defineProperty},function(r){a=r.cclegacy},function(r){e=r.BarryBaseState},function(r){s=r.BarryAnimation,n=r.BarryState}],execute:function(){a._RF.push({},"44bdd3RViZMDa8JFPXrqugW","AlarmBarryState",void 0);r("AlarmBarryState",class extends e{constructor(){super(...arguments),t(this,"id",n.Alarm)}onEnter(){this._barry.playSound("barry-alarm"),this._barry.stopMove(),this._barry.needCheckTarget=!1,this._barry.animation.crossFade(s.Alarm,.1),this._barry.scheduleOnce((()=>{this._stateMachine.changeState(n.Chase)}),11/60)}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/AssetBundleName.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"72eccFRw1hBtJpoN8C2Gsij","AssetBundleName",void 0);e("AssetBundleName",{CustomizationWindow:"customization-window"});t._RF.pop()}}}));

System.register("chunks:///_virtual/AssetProviding.ts",["cc"],(function(e){var t,n,r,s,o;return{setters:[function(e){t=e.cclegacy,n=e.assetManager,r=e.resources,s=e.Prefab,o=e.instantiate}],execute:function(){e({getAssetFromBundle:async function(e,t,n){let r=a.get(e);r||(r=await u(e));return new Promise(((e,s)=>{r.load(t,n,((t,n)=>{t?s(t):e(n)}))}))},getAssetFromResources:async function(e,t){return new Promise(((n,s)=>{r.load(e,t,((e,t)=>{e?s(e):n(t)}))}))},loadBundle:u,loadPrefabAndInstantiate:function(e){return new Promise(((t,n)=>{r.load(e,s,((e,r)=>{if(e)return void n(e);const s=o(r);t(s)}))}))}}),t._RF.push({},"a415bYaX4BIoYTMjF7IpG0X","AssetProviding",void 0);const i=new Map,a=new Map;function u(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a.has(e))return Promise.resolve(a.get(e));if(i.has(e))return i.get(e);const r=new Promise((function(r,s){n.loadBundle(e,((n,o)=>{if(n)return i.delete(e),void s(n);i.delete(e),a.set(e,o),t?o.loadDir("/",((e,t)=>{e?s(e):r(o)})):r(o)}))}));return i.set(e,r),r}t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioBufferCache.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,c;return{setters:[function(e){t=e.defineProperty},function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"247b6bLwvNIyb8PSenaH4Hk","AudioBufferCache",void 0);e("audioBufferCache",new class{constructor(){t(this,"_cache",new Map)}add(e,t){this._cache.has(e)||this._cache.set(e,{usedCount:1,buffer:t})}retain(e){if(!this._cache.has(e))return;this._cache.get(e).usedCount++}get(e){return this._cache.get(e)?.buffer}tryRelease(e){if(!this._cache.has(e))return;--this._cache.get(e).usedCount<=0&&this._cache.delete(e)}});c._RF.pop()}}}));

System.register("chunks:///_virtual/AudioChannel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s,u,i;return{setters:[function(e){t=e.defineProperty},function(e){s=e.cclegacy,u=e.EventTarget,i=e.math}],execute:function(){s._RF.push({},"5982amZ4UFIQqAs3D0Gpa1m","AudioChannel",void 0);class n extends u{constructor(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),t(this,"tag",void 0),t(this,"_volume",void 0),t(this,"_paused",!1),this.tag=e,this.volume=s}set volume(e){this._volume=i.clamp01(e),this.emit(n.EVENT_VOLUME_CHANGE)}get volume(){return this._volume}get paused(){return this._paused}pause(){this._paused=!0,this.emit(n.EVENT_PAUSE)}resume(){this._paused=!1,this.emit(n.EVENT_RESUME)}}e("AudioChannel",n),t(n,"EVENT_PAUSE","pause"),t(n,"EVENT_RESUME","resume"),t(n,"EVENT_VOLUME_CHANGE","volume-changed"),s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioChannelTag.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"624b8nr45xGELQ8f0S4v8u/","AudioChannelTag",void 0);n("AudioChannelTag",{UI:"ui",GAMEPLAY:"gameplay",MUSIC:"music"});e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioBufferCache.ts","./Sound.ts"],(function(e){var t,n,s,o,i,d;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy,s=e.EventTarget,o=e.game},function(e){i=e.audioBufferCache},function(e){d=e.Sound}],execute:function(){n._RF.push({},"5f482xRD7NCNa28jaUASJ4K","AudioManager",void 0);let a=e("AudioContextState",function(e){return e.RUNNING="running",e.INTERRUPTED="interrupted",e}({}));const u=["touchstart","click","mousedown"];class r extends s{constructor(){super(),t(this,"context",void 0),t(this,"listener",void 0),t(this,"_sounds",new Map),t(this,"_loadingSounds",new Map),t(this,"_channels",new Map),t(this,"_suspended",!1),t(this,"_unlockHandlerFunc",void 0);const e=new AudioContext;this.context=e,this.listener=e.listener,this._unlockHandlerFunc=this._unlockHandler.bind(this),this.context.state!==a.RUNNING&&this._addUnlockListeners(),this.context.addEventListener("statechange",(()=>{this.context.state===a.INTERRUPTED&&(this._suspended=!0,this._addUnlockListeners())}))}get suspended(){return this._suspended}addChannel(e){this._channels.set(e.tag,e)}pauseChannel(e){const t=this._channels.get(e);t&&t.pause()}resumeChannel(e){const t=this._channels.get(e);t&&t.resume()}setChannelVolume(e,t){const n=this._channels.get(e);n&&(n.volume=t)}suspend(){this._suspended||(this._suspended=!0,this.context&&this.context.state===a.RUNNING&&this._suspend())}resume(){this._suspended&&(this._suspended=!1,this.context&&this.context.state!==a.RUNNING&&this._resume())}async addSound(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this._sounds.has(e))return this._sounds.get(e);const o=`./static/${t}`,i=await this._loadSound(o);if(!i)return void console.error(`Failed to load audio buffer: ${e}, ${o}`);const a=new d(e,i,s.volume,s.instancesLimit);if(n){const e=this._channels.get(n);e&&a.attachToChannel(e)}return this._sounds.set(e,a),a}playSound(e,t){const n=this._sounds.get(e);if(n)return n.play(t);console.error(`Sound "${e}" not found`)}_loadSound(e){const t=i.get(e);if(t)return i.retain(e),Promise.resolve(t);if(this._loadingSounds.has(e))return this._loadingSounds.get(e);const n=new Promise((async(t,n)=>{const s=await fetch(e+".m4a");if(!s.ok)return this._loadingSounds.delete(e),void n(s.statusText);const o=await s.arrayBuffer(),d=await this.context.decodeAudioData(o);if(!d)return this._loadingSounds.delete(e),void n("Failed to decode audio data");this._loadingSounds.delete(e),i.add(e,d),t(d)}));return this._loadingSounds.set(e,n),n}_suspend(){this.context.suspend().then((()=>{this.emit(r.EVENT_SUSPEND)}))}_resume(){this.context.resume().then((()=>{const e=new AudioBufferSourceNode(this.context,{buffer:this.context.createBuffer(1,1,this.context.sampleRate)});e.connect(this.context.destination),e.start(0),e.onended=()=>{e.disconnect(0),this.emit(r.EVENT_RESUME)}}))}_unlockHandler(){this._removeUnlockListeners(),this._suspended||this.context.state===a.RUNNING||this._resume()}_addUnlockListeners(){for(const e of u)o.canvas.addEventListener(e,this._unlockHandlerFunc,!1)}_removeUnlockListeners(){for(const e of u)o.canvas.removeEventListener(e,this._unlockHandlerFunc,!1)}}e("AudioManager",r),t(r,"EVENT_RESUME","resume"),t(r,"EVENT_SUSPEND","suspend");e("audioManager",new r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Barry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./StateMachine.ts","./RestBarryState.ts","./AlarmBarryState.ts","./ChaseBarryState.ts","./PatrolBarryState.ts","./CatchBarryState.ts","./NavMeshSurface.ts","./Math.ts","./ReturnToSpawnBarryState.ts","./EventifiedComponent.ts","./AudioManager.ts","./AudioChannelTag.ts","./MetricaUtils.ts"],(function(t){var e,i,a,n,o,s,r,h,c,l,u,d,p,m,g,P,y,f,_,b,S,w,T,M,E,R,v,A;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Vec3,s=t.PhysicsSystem,r=t.SkeletalAnimation,h=t.Node,c=t.CCFloat,l=t._decorator,u=t.geometry,d=t.toDegree,p=t.Quat},function(t){m=t.gameManager,g=t.GameManager},function(t){P=t.StateMachine},function(t){y=t.RestBarryState},function(t){f=t.AlarmBarryState},function(t){_=t.ChaseBarryState},function(t){b=t.PatrolBarryState},function(t){S=t.CatchBarryState},function(t){w=t.NavMeshSurface},function(t){T=t.smoothDampAngle},function(t){M=t.ReturnToSpawnBarryState},function(t){E=t.EventifiedComponent},function(t){R=t.audioManager},function(t){v=t.AudioChannelTag},function(t){A=t.metricaReachGoal}],execute:function(){var G,C,D,k,B,z,N,x,F,I,L,U,W,Y,V,H,O,j,Q,q,J,K,X,Z,$,tt,et,it,at,nt,ot,st;n._RF.push({},"33a6ceh48tA64RahUS44Gev","Barry",void 0);const{ccclass:rt,property:ht}=l,ct=t("BarryState",{Rest:0,Alarm:1,Patrol:2,Chase:3,Catch:4,ReturnToSpawn:5}),lt=t("BarryAnimation",{Idle:"Idle",Walk:"Walk",Run:"Run",Catch:"Capture",Alarm:"Check"}),ut=new o,dt=new o,pt=new o;t("Barry",(G=rt("Barry"),C=ht({type:s.PhysicsGroup}),D=ht(r),k=ht(h),B=ht(w),z=ht(h),N=ht(h),x=ht([h]),F=ht(c),I=ht(c),L=ht(c),U=ht(c),W=ht(c),Y=ht(c),V=ht(c),G((st=class t extends E{constructor(){super(...arguments),a(this,"navmeshGroup",j,this),a(this,"animation",Q,this),a(this,"meshNode",q,this),a(this,"navMeshSurface",J,this),a(this,"headPoint",K,this),a(this,"grabbedPoint",X,this),a(this,"patrolPoints",Z,this),a(this,"bottomPositionOffset",$,this),a(this,"patrollingSpeed",tt,this),a(this,"restingTime",et,this),a(this,"chasingSpeed",it,this),a(this,"catchDistance",at,this),a(this,"chaseUpdateRate",nt,this),a(this,"checkTargetUpdateRate",ot,this),e(this,"target",null),e(this,"spawnPosition",void 0),e(this,"spawnRotation",void 0),e(this,"groundedTargetPosition",new o),e(this,"canPatrol",!1),e(this,"needCheckTarget",!1),e(this,"_stateMachine",void 0),e(this,"_pathToTarget",void 0),e(this,"_ray",new u.Ray(0,0,0,0,-1,0)),e(this,"_checkPointHalfExtents",void 0),e(this,"_turnSmoothVelocity",{value:0}),e(this,"_currentPathIndex",0),e(this,"_checkTime",0),e(this,"_pathFound",!1)}onLoad(){R.addSound("barry-step","sounds/barry/step",v.GAMEPLAY,{volume:.1}),R.addSound("barry-alarm","sounds/barry/alarm",v.GAMEPLAY,{volume:.5,instancesLimit:1}),R.addSound("barry-angry","sounds/barry/angry",v.GAMEPLAY,{volume:.5,instancesLimit:1}),this._checkPointHalfExtents=new o(this.catchDistance/2,.5,this.catchDistance/2),this.canPatrol=this.patrolPoints.length>1;const t=new P;t.addState(new y(this,t)),t.addState(new f(this,t)),t.addState(new _(this,t)),t.addState(new S(this,t)),this.canPatrol?t.addState(new b(this,t)):t.addState(new M(this,t)),this._stateMachine=t,m.on(g.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),m.on(g.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this)}onDestroy(){m.off(g.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),m.off(g.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this)}start(){this.spawnPosition=this.node.getWorldPosition(),this.spawnPosition.y=this._getGroundYPosition(this.spawnPosition,.6,10)+this.bottomPositionOffset,this.spawnRotation=this.node.getWorldRotation(),this._stateMachine.changeState(ct.Rest)}update(t){if(!m.isGameplayPaused){if(this.target&&(this.target.node.getWorldPosition(this.groundedTargetPosition),this.groundedTargetPosition.y=this._getGroundYPosition(this.groundedTargetPosition,this.target.colliderRadius,6),this.needCheckTarget)){if(this._checkTime>this.checkTargetUpdateRate){this._checkTime=0;return void(this.navMeshSurface.findClosestPoint(this.groundedTargetPosition,this._checkPointHalfExtents).success&&this._stateMachine.changeState(ct.Alarm))}this._checkTime+=t}this._stateMachine.update(t),this._pathFound&&this._move(t)}}setDestination(t,e){const i=this.navMeshSurface.findClosestPoint(t,this._checkPointHalfExtents);if(!i.success)return this._pathFound=!1,!1;const a=i.point,n=this.navMeshSurface.findPath(this.node.worldPosition,a);return n.success&&(this._pathToTarget=n.path,this._currentPathIndex=Math.min(1,this._pathToTarget.length-1)),this._pathFound=n.success,e&&this.animation.crossFade(e,.15),this._pathFound}stopMove(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._pathFound=!1,this._currentPathIndex=1,t&&this.animation.crossFade(lt.Idle,.1)}catchTarget(){this.stopMove(!1),this.rotateMeshToTarget(),this.playSound("barry-angry"),this.target.movementEnabled=!1,this.target.bodyVisible=!1,m.hud.hide(),m.camera.thirdPerson.setPositionAndLookAt(this.grabbedPoint.worldPosition,this.headPoint),this.animation.crossFade(lt.Catch,.1),this.scheduleOnce((()=>{this.target.dieSilently(),this.target=null,this._respawn()}),1.25),A("barry-catch",m.levelData?.currentLevel?.currentPartId)}playSound(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75;R.playSound(t,{position:this.node.worldPosition,maxDistance:e})}rotateMeshToTarget(){const t=o.subtract(ut,this.target.node.worldPosition,this.node.worldPosition);this.rotateMeshToDirection(t)}rotateMeshToDirection(t){const e=d(Math.atan2(t.x,t.z));this.node.setWorldRotationFromEuler(0,e,0)}smoothRotateMeshToDirection(t,e){const i=p.toEuler(pt,this.node.worldRotation),a=d(Math.atan2(t.x,t.z)),n=T(i.y,a,this._turnSmoothVelocity,.1,e);this.node.setWorldRotationFromEuler(0,n,0)}_respawn(){this.meshNode.setPosition(0,0,0),this.node.setWorldPosition(this.spawnPosition),this.node.setWorldRotation(this.spawnRotation),this._stateMachine.changeState(ct.Rest)}_move(e){const i=this.node.worldPosition,a=this._pathToTarget[this._currentPathIndex],n=o.moveTowards(ut,i,a,this.chasingSpeed*e),s=o.subtract(dt,a,n);this.smoothRotateMeshToDirection(s,e);const r=this.meshNode.worldPosition,h=this._getGroundYPosition(r,.6,10)+this.bottomPositionOffset;this.meshNode.setWorldPosition(r.x,h,r.z),this.node.setWorldPosition(n),o.distance(this.node.worldPosition,a)<.02&&(this._currentPathIndex++,this._currentPathIndex>=this._pathToTarget.length&&(this._pathFound=!1,this.emit(t.EVENT_REACH_DESTINATION)))}_getGroundYPosition(t,e,i){const a=this._ray.o;a.set(t),a.y+=e;if(s.instance.sweepSphereClosest(this._ray,e,this.navmeshGroup,i,!1)){return s.instance.sweepCastClosestResult.hitPoint.y}return t.y}_onGameplayPause(){this.animation.pause()}_onGameplayResume(){this.animation.resume()}},e(st,"EVENT_REACH_DESTINATION","reach-destination"),j=i((O=st).prototype,"navmeshGroup",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.PhysicsGroup.DEFAULT}}),Q=i(O.prototype,"animation",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(O.prototype,"meshNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(O.prototype,"navMeshSurface",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(O.prototype,"headPoint",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(O.prototype,"grabbedPoint",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(O.prototype,"patrolPoints",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=i(O.prototype,"bottomPositionOffset",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.08}}),tt=i(O.prototype,"patrollingSpeed",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),et=i(O.prototype,"restingTime",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),it=i(O.prototype,"chasingSpeed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),at=i(O.prototype,"catchDistance",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),nt=i(O.prototype,"chaseUpdateRate",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),ot=i(O.prototype,"checkTargetUpdateRate",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),H=O))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/BarryBaseState.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"e4262kdFg1O7o4H5lwtpFYE","BarryBaseState",void 0);t("BarryBaseState",class{constructor(t,r){e(this,"id",void 0),e(this,"_barry",void 0),e(this,"_barryNode",void 0),e(this,"_stateMachine",void 0),this._barry=t,this._barryNode=t.node,this._stateMachine=r}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/BarryTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Barry.ts"],(function(r){var e,t,i,a,n,o,l,g,s;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.initializerDefineProperty},function(r){i=r.cclegacy,a=r.Enum,n=r.Collider,o=r._decorator,l=r.Component},function(r){g=r.Character},function(r){s=r.Barry}],execute:function(){var c,u,y,h,b,p,T,f,B;i._RF.push({},"22857hqwF9Pxa00MSauYjp6","BarryTrigger",void 0);const{ccclass:C,property:d}=o;let m=r("BarryTriggerAction",function(r){return r[r.SetTarget=0]="SetTarget",r[r.ForgetTarget=1]="ForgetTarget",r[r.DisableBarry=2]="DisableBarry",r}({}));a(m);r("BarryTrigger",(c=C("BarryTrigger"),u=d(n),y=d(s),h=d({type:m}),c((T=e((p=class extends l{constructor(){super(...arguments),t(this,"trigger",T,this),t(this,"barry",f,this),t(this,"action",B,this)}onEnable(){this.trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}onDisable(){this.trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}_onControllerTriggerEnter(r){const e=r.characterController.node.getComponent(g);if(e)switch(this.action){case m.SetTarget:this.barry.target=e;break;case m.ForgetTarget:this.barry.target=null;break;case m.DisableBarry:this.barry.target=null,this.barry.node.active=!1}}}).prototype,"trigger",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(p.prototype,"barry",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(p.prototype,"action",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.SetTarget}}),b=p))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/BasePostLevelPartInitializer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelPart.ts"],(function(e){var t,i,r,a,l,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e._decorator,l=e.Component},function(e){n=e.LevelPart}],execute:function(){var o,s,c;r._RF.push({},"d8c73vWLTxLOIFywXDmOK6I","BasePostLevelPartInitializer",void 0);const{property:u}=a;e("BasePostLevelPartInitializer",(o=u(n),c=t((s=class extends l{constructor(){super(...arguments),i(this,"levelPart",c,this)}onLoad(){this.levelPart.initialized?this._onPartInitialized():this.levelPart.once(n.EVENT_INIT,this._onPartInitialized,this)}_onPartInitialized(){}}).prototype,"levelPart",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s));r._RF.pop()}}}));

System.register("chunks:///_virtual/Billboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var o,t,a,r,n,c,s;return{setters:[function(e){o=e.defineProperty},function(e){t=e.cclegacy,a=e.Vec3,r=e.Quat,n=e.Component,c=e._decorator},function(e){s=e.gameManager}],execute:function(){var i;t._RF.push({},"52f8brT9atBZpWqddU0JcS/","Billboard",void 0);const{ccclass:d,property:l}=c;new a,new r;e("Billboard",d("Billboard")(i=class extends n{constructor(){super(...arguments),o(this,"_cameraNode",void 0)}onLoad(){this._cameraNode=s.camera.node}update(e){this._cameraNode&&this.node.setRotation(this._cameraNode.rotation)}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/BootstrapState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./GameInput.ts","./SDK.ts","./Localization.ts","./PlayerProgress.ts","./WindowsManager.ts","./UIManager.ts","./ProgressStorage.ts","./SettingsWindow.ts","./WindowId.ts","./AudioManager.ts","./AudioChannelTag.ts","./AudioChannel.ts","./PlayerPreferences.ts","./MetricaUtils.ts","./AssetProviding.ts"],(function(t){var e,n,a,o,i,s,r,c,d,u,l,g,f,p,h,S,w,m,M,P;return{setters:[function(t){e=t.defineProperty},function(t){n=t.cclegacy},function(t){a=t.GameState,o=t.gameManager},function(t){i=t.gameInput,s=t.MobileGameInput},function(t){r=t.platformSDK},function(t){c=t.localization},function(t){d=t.playerProgress},function(t){u=t.windowsManager},function(t){l=t.uiManager},function(t){g=t.ProgressStorageType},function(t){f=t.SettingsWindow},function(t){p=t.WindowId},function(t){h=t.audioManager},function(t){S=t.AudioChannelTag},function(t){w=t.AudioChannel},function(t){m=t.playerPreferences},function(t){M=t.metricaReachGoal},function(t){P=t.loadPrefabAndInstantiate}],execute:function(){n._RF.push({},"7cecfq7+OtHxoKCMyfXXtoE","BootstrapState",void 0);t("BootstrapState",class{constructor(){e(this,"id",a.Bootstrap)}async onEnter(){M("bootstrap-state"),await r.init(),d.setStorageType(g.LocalStorage),d.tryLoad(),c.init(r.language),i instanceof s&&await i.initialize(),await this._checkIfPlayingBeforeV2Update(),this._registerWindows(),this._loadSounds(),o.stateMachine.changeState(a.MainMenu)}_registerWindows(){const t=l.rootNode.getChildByPath("Windows/Settings").getComponent(f);u.registerWindow(p.Settings,t)}_loadSounds(){const t=m.getValue("musicVolume"),e=m.getValue("soundsVolume");h.addChannel(new w(S.UI,e)),h.addChannel(new w(S.GAMEPLAY,e)),h.addChannel(new w(S.MUSIC,t)),h.addSound("button-click","sounds/ui/button-click",S.UI),h.addSound("slider-tick","sounds/ui/tick",S.UI,{volume:.35,instancesLimit:1})}async _checkIfPlayingBeforeV2Update(){return new Promise(((t,e)=>{localStorage.getItem("ob-save-data")&&!d.progress.v2UpdateRewardClaimed?P("ui/Update Window").then((e=>{l.rootNode.addChild(e),t()})).catch((()=>{t()})):t()}))}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/Bridge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts"],(function(t){var e,i,r,a,o,n,s,l,c,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,a=t.Node,o=t.CCFloat,n=t._decorator,s=t.Component,l=t.Vec3,c=t.tween},function(t){u=t.Interactable},function(t){d=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var h,f,b,p,P,g,w,m,E,v,y,T,A;r._RF.push({},"76c91kR97JMGq7L9PguWHcG","Bridge",void 0);const{ccclass:_,property:N}=n;t("Bridge",(h=_("Bridge"),f=N(u),b=N(a),p=N(a),P=N(o),g=N(o),h((E=e((m=class extends s{constructor(){super(...arguments),i(this,"interactable",E,this),i(this,"firstPart",v,this),i(this,"secondPart",y,this),i(this,"forwardMovement",T,this),i(this,"duration",A,this)}onEnable(){this.interactable.on(u.EVENT_INTERACT,this.activate,this)}onDisable(){this.interactable.off(u.EVENT_INTERACT,this.activate,this)}activate(){this.interactable.off(u.EVENT_INTERACT,this.activate,this);const t=this.firstPart.getWorldPosition();l.scaleAndAdd(t,t,this.firstPart.forward,this.forwardMovement);const e=c(this.firstPart).to(this.duration,{worldPosition:t}),i=this.secondPart.getWorldPosition();l.scaleAndAdd(i,i,this.secondPart.forward,-this.forwardMovement);const r=c(this.secondPart).to(this.duration,{worldPosition:i});c(this.node).tag(d).parallel(e,r).start()}}).prototype,"interactable",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(m.prototype,"firstPart",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(m.prototype,"secondPart",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(m.prototype,"forwardMovement",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),A=e(m.prototype,"duration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),w=m))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/BuffEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,s,i,r,c,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){i=t.cclegacy,r=t.ParticleSystem,c=t._decorator,o=t.Component}],execute:function(){var n,a,l,p,f;i._RF.push({},"9fd27Hn3URMmbECS7n6x93x","BuffEffect",void 0);const{ccclass:u,property:y}=c;t("BuffEffect",(n=u("BuffEffect"),a=y(r),n((f=e((p=class extends o{constructor(){super(...arguments),s(this,"particleSystem",f,this)}attachToNodeAndPlay(t){this.node.setParent(t),this._play()}stopAndDestroy(){this.particleSystem.stopEmitting(),this.schedule((()=>{this.node.destroy()}),this.particleSystem.duration)}_play(){this.particleSystem.play()}}).prototype,"particleSystem",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/BuffTimerView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,s,l,a,n,o,c,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,s=e.Sprite,l=e.Label,a=e._decorator,n=e.Component,o=e.Tween,c=e.tween,u=e.Vec3}],execute:function(){var p,b,m,f,h,T,L;r._RF.push({},"fdab4EWej9FcpUQ30fb9Yrk","BuffTimerView",void 0);const{ccclass:d,property:w}=a;e("BuffTimerView",(p=d("BuffTimerView"),b=w(s),m=w(l),p((T=i((h=class extends n{constructor(){super(...arguments),t(this,"icon",T,this),t(this,"timeLabel",L,this)}set visible(e){this.node.active=e,e||o.stopAllByTarget(this.timeLabel.node)}init(e,i){this.icon.spriteFrame=e,this._setTimeLabel(i)}setTime(e){this._setTimeLabel(e)}updateTime(e){c(this.timeLabel.node).to(.25,{scale:new u(1.2,1.2,1.2)}).call((()=>{this._setTimeLabel(e)})).to(.25,{scale:u.ONE}).start()}_setTimeLabel(e){this.timeLabel.string=Math.ceil(e).toString()}}).prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(h.prototype,"timeLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/BuffTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterStats.ts","./CharacterStatBuff.ts"],(function(r){var e,t,i,n,o,a,c,s,f,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.initializerDefineProperty,i=r.defineProperty},function(r){n=r.cclegacy,o=r.Enum,a=r._decorator,c=r.Component,s=r.Collider},function(r){f=r.CharacterStats},function(r){l=r.CharacterBuffId}],execute:function(){var u,g,p,h,C,d,y;n._RF.push({},"0e77cIg8rVCYZF37j/PMNVV","BuffTrigger",void 0);const{ccclass:b,property:_}=a;var B=function(r){return r[r.Apply=0]="Apply",r[r.Clear=1]="Clear",r}(B||{});o(B);r("BuffTrigger",(u=b("BuffTrigger"),g=_({type:l}),p=_({type:B}),u((d=e((C=class extends c{constructor(){super(...arguments),t(this,"buffId",d,this),t(this,"action",y,this),i(this,"_trigger",void 0)}onLoad(){this._trigger=this.getComponent(s)}onEnable(){this._trigger.on("onControllerTriggerEnter",this._onCharacterTriggerEnter,this)}onDisable(){this._trigger.off("onControllerTriggerEnter",this._onCharacterTriggerEnter,this)}async _onCharacterTriggerEnter(r){const e=r.characterController.node?.getComponent(f);if(e)switch(this.action){case B.Apply:e.applyBuff(this.buffId);break;case B.Clear:e.removeBuff(this.buffId)}}}).prototype,"buffId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.LevelSpeed}}),y=e(C.prototype,"action",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.Apply}}),h=C))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/CatchBarryState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BarryBaseState.ts","./Barry.ts"],(function(t){var r,e,a,c;return{setters:[function(t){r=t.defineProperty},function(t){e=t.cclegacy},function(t){a=t.BarryBaseState},function(t){c=t.BarryState}],execute:function(){e._RF.push({},"a1cc9kS1hhA/ZMhZbwNixij","CatchBarryState",void 0);t("CatchBarryState",class extends a{constructor(){super(...arguments),r(this,"id",c.Catch)}onEnter(){this._barry.needCheckTarget=!1,this._barry.catchTarget()}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeMaterialColor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,o,t,n,i,a,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){t=e.cclegacy,n=e.Color,i=e._decorator,a=e.Component,l=e.MeshRenderer}],execute:function(){var c,s,p,u,C;t._RF.push({},"1b5d8jyCB9AErsvike7Z1Bt","ChangeMaterialColor",void 0);const{ccclass:h,property:g}=i;e("ChangeMaterialColor",(c=h("ChangeMaterialColor"),s=g(n),c((C=r((u=class extends a{constructor(){super(...arguments),o(this,"color",C,this)}onLoad(){this.getComponent(l).material.setProperty("mainColor",this.color)}}).prototype,"color",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n}}),p=u))||p));t._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./PlayerProgress.ts","./EventifiedComponent.ts","./GameManager.ts","./AudioChannelTag.ts","./CharacterMovement.ts","./CharacterAnimator.ts","./CharacterAppearance.ts","./CharacterDeathEffect.ts","./CharacterStats.ts","./SDK.ts","./MetricaUtils.ts"],(function(e){var t,a,i,r,n,o,s,c,l,d,h,u,p,m,f,b,v,g,C,y,w;return{setters:[function(e){t=e.defineProperty,a=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Vec3,o=e.Node,s=e.CapsuleCharacterController,c=e._decorator,l=e.Quat},function(e){d=e.audioManager},function(e){h=e.playerProgress},function(e){u=e.EventifiedComponent},function(e){p=e.gameManager},function(e){m=e.AudioChannelTag},function(e){f=e.CharacterMovement},function(e){b=e.CharacterAnimator},function(e){v=e.CharacterAppearance},function(e){g=e.CharacterDeathEffect},function(e){C=e.CharacterStats},function(e){y=e.platformSDK},function(e){w=e.metricaReachGoal}],execute:function(){var P,A,E,_,S,D,M,R,N,z,G,k,B,L,T,V,Y,j;r._RF.push({},"72d528b4zNKuav6SBWDHjoo","Character",void 0);const{ccclass:F,property:W}=c,x=new n;e("Character",(P=F("Character"),A=W(o),E=W(v),_=W(b),S=W(s),D=W(C),M=W(f),R=W(g),P((j=class e extends u{constructor(){super(...arguments),i(this,"bodyNode",G,this),i(this,"appearance",k,this),i(this,"animator",B,this),i(this,"controller",L,this),i(this,"stats",T,this),i(this,"movement",V,this),i(this,"deathEffect",Y,this),t(this,"_respawnPoint",void 0),t(this,"_canBeDamaged",!0),t(this,"_calculatedCapsuleRadius",0)}set movementEnabled(e){this.movement.enabled=e,this.animator.resetToIdle()}set bodyVisible(e){this.bodyNode.active=e}get isGrounded(){return this.movement.isGrounded}get colliderRadius(){return this._calculatedCapsuleRadius||(this._calculatedCapsuleRadius=this.controller.radius+this.controller.skinWidth/2),this._calculatedCapsuleRadius}async init(e){d.addSound("character-boost","sounds/character/boost",m.GAMEPLAY,{volume:.1}),d.addSound("character-step","sounds/character/step-1",m.GAMEPLAY,{volume:.1}),d.addSound("character-step-2","sounds/character/step-2",m.GAMEPLAY,{volume:.1}),d.addSound("character-jump","sounds/character/jump",m.GAMEPLAY,{volume:.1}),d.addSound("character-poof","sounds/character/poof",m.GAMEPLAY,{volume:.1}),this.movement.attachCamera(e),await this.appearance.changeSkin(h.selectedCharacterCustomization.skin)}update(){this.node.worldPosition.y<-250&&this.respawn()}setRespawnPoint(e){this._respawnPoint=e}respawn(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.scheduleOnce((()=>{y.showFullscreenAdv()}),.5),this.deathEffect.stop(),this.bodyNode.active=!0,this.movement.enabled=!0,this._canBeDamaged=!0,this.teleport(this._respawnPoint),this.emit(e.EVENT_RESPAWN),p.camera.thirdPerson.continueFollow(),p.isGameplayPaused||p.hud.show()}teleport(e){if(this.movement.enabled=!1,e instanceof o){const t=x.set(e.worldPosition).add3f(0,.1,0),a=l.fromViewUp(new l,e.forward);this.node.setRTS(a,t)}else this.node.setPosition(e);this.movement.enabled=!0}takeDamage(){this._canBeDamaged&&this._die()}dieSilently(){p.hud.hide(),this._canBeDamaged=!1,this.respawn(!0)}_die(){p.hud.hide(),this._canBeDamaged=!1,this.bodyNode.active=!1,this.movement.enabled=!1,this.deathEffect.play(),d.playSound("character-poof"),this.scheduleOnce((()=>{this.respawn(!0)}),.75);const e=p.levelData?.currentLevel;w("character-died",{part:e.currentPartId,checkpoint:e.currentCheckpoint.index})}},t(j,"instance",void 0),t(j,"EVENT_RESPAWN","respawn"),G=a((z=j).prototype,"bodyNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=a(z.prototype,"appearance",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=a(z.prototype,"animator",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=a(z.prototype,"controller",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=a(z.prototype,"stats",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=a(z.prototype,"movement",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=a(z.prototype,"deathEffect",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=z))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var i,t,n,a,o,l,s,r;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.animation,o=e._decorator,l=e.Component},function(e){s=e.gameManager,r=e.GameManager}],execute:function(){var m,u,c,h,g;n._RF.push({},"25e3fiLBSNDh6+Bqp4RNByZ","CharacterAnimator",void 0);const{ccclass:C,property:p}=o;e("CharacterAnimator",(m=C("CharacterAnimator"),u=p(a.AnimationController),m((g=i((h=class extends l{constructor(){super(...arguments),t(this,"animationController",g,this)}onLoad(){s.on(r.EVENT_GAMEPLAY_PAUSE,this._onGamePause,this),s.on(r.EVENT_GAMEPLAY_RESUME,this._onGameResume,this)}onDestroy(){s.off(r.EVENT_GAMEPLAY_PAUSE,this._onGamePause,this),s.off(r.EVENT_GAMEPLAY_RESUME,this._onGameResume,this)}resetToIdle(){this.animationController.setValue("isWalking",!1),this.animationController.setValue("isFalling",!1),this.animationController.setValue("isClimbing",!1)}playJump(){this.animationController.setValue("jump",!0)}setGrounded(e){this.animationController.setValue("isGrounded",e)}setClimbing(e){this.animationController.setValue("isClimbing",e)}setWalking(e){this.animationController.setValue("isWalking",e)}setFalling(e){this.animationController.setValue("isFalling",e)}setClimbingDirection(e){this.animationController.setValue("climbingDirection",e)}setWalkingSpeed(e){this.animationController.setValue("walkingSpeed",e)}_updateClimbingDirection(){const e=this.animationController.getValue("climbingDirection");this.setClimbingDirection(e)}_updateWalkingSpeed(){const e=this.animationController.getValue("walkingSpeed");this.setWalkingSpeed(e)}_onGamePause(){this.animationController.setValue("timeScale",0),this.setWalkingSpeed(0),this.setClimbingDirection(0)}_onGameResume(){this.animationController.setValue("timeScale",1),this.setWalkingSpeed(1),this.setClimbingDirection(0)}}).prototype,"animationController",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h))||c));n._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterAppearance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetProviding.ts"],(function(e){var r,t,n,s,a,i,c,o,u,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.defineProperty},function(e){s=e.cclegacy,a=e.SkinnedMeshRenderer,i=e._decorator,c=e.Component,o=e.Mesh,u=e.Texture2D},function(e){h=e.getAssetFromResources}],execute:function(){var l,p,d,y,k;s._RF.push({},"2f677177EtN/aiuUheD1VBk","CharacterAppearance",void 0);const{ccclass:S,property:_}=i;e("CharacterAppearance",(l=S("CharacterAppearance"),p=_(a),l((k=r((y=class extends c{constructor(){super(...arguments),t(this,"bodyMeshRenderer",k,this),n(this,"_currentSkin",void 0)}get currentSkinId(){return this._currentSkin}async changeSkin(e){if(this._currentSkin!==e){this._currentSkin=e;try{const[r,t]=await Promise.all([this._loadSkinMesh(e),this._loadSkinTexture(e)]);this.bodyMeshRenderer.mesh=r,this.bodyMeshRenderer.material.setProperty("albedoMap",t)}catch(e){console.error(e)}}}async _loadSkinMesh(e){const r=`characters/skins/meshes/${e}/Body`;return await h(r,o)}async _loadSkinTexture(e){const r=`characters/skins/textures/${e}/texture`;return await h(r,u)}}).prototype,"bodyMeshRenderer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterControllerDebugRenderer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DebugDraw.ts"],(function(e){var t,r,o,n,i,s,a,c,l,h,d;return{setters:[function(e){t=e.defineProperty},function(e){r=e.cclegacy,o=e.Component,n=e.Vec3,i=e.CharacterController,s=e.CapsuleCharacterController,a=e.Color,c=e.BoxCharacterController,l=e._decorator},function(e){h=e.drawCapsule,d=e.drawCube}],execute:function(){var u;r._RF.push({},"fb87af7jTRBzLv9jZwz5SNH","CharacterControllerDebugRenderer",void 0);const{ccclass:C,property:f}=l;e("CharacterControllerDebugRenderer",C("CharacterControllerDebugRenderer")(u=class extends o{constructor(){super(...arguments),t(this,"_characterController",void 0),t(this,"_boxExtent",new n)}start(){this._characterController=this.getComponent(i)}update(e){const t=this._characterController;t instanceof s&&(h(this.node.worldPosition,t.center,t.radius,t.height),h(this.node.worldPosition,t.center,t.radius+t.skinWidth,t.height,a.BLACK)),t instanceof c&&(this._boxExtent.set(2*t.halfSideExtent,2*t.halfHeight,2*t.halfForwardExtent),d(this.node.worldPosition,this._boxExtent,a.BLACK),d(this.node.worldPosition,this._boxExtent.add3f(t.skinWidth,t.skinWidth,t.skinWidth),a.GREEN))}})||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterDeathEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,a,i,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t.ParticleSystem,c=t._decorator,l=t.Component}],execute:function(){var s,o,f,u,n,p,h;a._RF.push({},"ff72dTv6glBi52FiQKpWbYA","CharacterDeathEffect",void 0);const{ccclass:P,property:y}=c;t("CharacterDeathEffect",(s=P("CharacterDeathEffect"),o=y(i),f=y(i),s((p=e((n=class extends l{constructor(){super(...arguments),r(this,"flashParticle",p,this),r(this,"cloudPuffParticle",h,this)}play(){this.stop(),this.flashParticle.play(),this.cloudPuffParticle.play()}stop(){this.flashParticle.stop(),this.cloudPuffParticle.stop()}}).prototype,"flashParticle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=e(n.prototype,"cloudPuffParticle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=n))||u));a._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterInteraction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameInput.ts","./GameManager.ts","./Interactable.ts","./InteractHint.ts"],(function(t){var e,n,i,r,a,s,o,c,h,l,_,u,I,b,d,f,g,T,p,E,y,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,i=t.defineProperty},function(t){r=t.cclegacy,a=t.PhysicsSystem,s=t.Prefab,o=t.Collider,c=t._decorator,h=t.Component,l=t.geometry,_=t.Vec2,u=t.sys,I=t.input,b=t.Input,d=t.instantiate,f=t.Vec3},function(t){g=t.gameInput,T=t.GameInput,p=t.MobileGameInput},function(t){E=t.gameManager},function(t){y=t.Interactable},function(t){P=t.InteractHint}],execute:function(){var m,C,N,R,H,A,v,w,V;r._RF.push({},"f7c8eiIS1ZOdrl3Nbbonl4I","CharacterInteraction",void 0);const{ccclass:x,property:G}=c;t("CharacterInteraction",(m=x("CharacterInteraction"),C=G({type:a.PhysicsGroup}),N=G(s),R=G({type:o}),m((v=e((A=class extends h{constructor(){super(...arguments),n(this,"interactionGroup",v,this),n(this,"interactHintPrefab",w,this),n(this,"trigger",V,this),i(this,"_interactHint",void 0),i(this,"_interactables",[]),i(this,"_nearestInteractable",void 0),i(this,"_ray",new l.Ray),i(this,"_touchLocation",new _)}onLoad(){this._interactHint=this._createInteractHint(),u.isMobile&&I.on(b.EventType.TOUCH_START,this._onTouchPressed,this),g.on(T.EVENT_INTERACT,this._onInteractPressed,this),this.trigger.on("onTriggerEnter",this._onTriggerEnter,this),this.trigger.on("onTriggerExit",this._onTriggerExit,this)}onDestroy(){if(u.isMobile&&I.off(b.EventType.TOUCH_START,this._onTouchPressed,this),g.off(T.EVENT_INTERACT,this._onInteractPressed,this),this.trigger.off("onTriggerEnter",this._onTriggerEnter,this),this.trigger.off("onTriggerExit",this._onTriggerExit,this),!(this._interactables.length<1)){for(const t of this._interactables)t.off(y.EVENT_INTERACT,this._onInteractableInteract,this),t.off(y.EVENT_RESET,this._onInteractableReset,this);this._interactables=null}}_createInteractHint(){const t=d(this.interactHintPrefab);return t.active=!1,this.node.scene.addChild(t),t.getComponent(P)}_showInteractHint(t){let e=t.node.worldPosition;t.interactPoint&&(e=t.interactPoint.worldPosition),this._interactHint.showAtPosition(e)}_hideInteractHint(){this._interactHint.hide()}_updateNearestInteractable(){const t=this._findNearestInteractable();if(!t)return this._nearestInteractable=null,this._hideInteractHint(),void(g instanceof p&&(g.interactButtonVisible=!1));this._nearestInteractable=t,g instanceof p&&(g.interactButtonVisible=!0),this._showInteractHint(t)}_findNearestInteractable(){if(0===this._interactables.length)return null;if(1===this._interactables.length)return this._interactables[0].canBeInteracted?this._interactables[0]:null;{const t=this.node.worldPosition;let e=1/0,n=null;for(const i of this._interactables){if(!i.canBeInteracted)continue;const r=f.distance(t,i.node.worldPosition);r<e&&(e=r,n=i)}return n}}_addToArray(t){t.on(y.EVENT_INTERACT,this._onInteractableInteract,this),t.on(y.EVENT_RESET,this._onInteractableReset,this),this._interactables.push(t)}_removeFromArray(t){t.off(y.EVENT_INTERACT,this._onInteractableInteract,this),t.off(y.EVENT_RESET,this._onInteractableReset,this);const e=this._interactables.indexOf(t);-1!==e&&this._interactables.splice(e,1),this._nearestInteractable===t&&(this._nearestInteractable=null)}_onTriggerEnter(t){const e=t.otherCollider.node?.getComponent(y);e&&(this._addToArray(e),this._updateNearestInteractable())}_onTriggerExit(t){const e=t.otherCollider.node?.getComponent(y);e&&(this._removeFromArray(e),this._updateNearestInteractable())}_onInteractableInteract(){this._nearestInteractable.canBeInteracted||this._updateNearestInteractable()}_onInteractableReset(){this._updateNearestInteractable()}_onInteractPressed(){this._nearestInteractable&&this._nearestInteractable.interact()}_onTouchPressed(t){if(this._nearestInteractable&&(t.touch.getLocation(this._touchLocation),E.camera.ccCamera.screenPointToRay(this._touchLocation.x,this._touchLocation.y,this._ray),a.instance.raycastClosest(this._ray,this.interactionGroup,50,!1))){a.instance.raycastClosestResult.collider.node===this._nearestInteractable.node&&this._nearestInteractable.interact()}}}).prototype,"interactionGroup",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.PhysicsGroup.DEFAULT}}),w=e(A.prototype,"interactHintPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(A.prototype,"trigger",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=A))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameInput.ts","./AudioManager.ts","./GameManager.ts","./CharacterAnimator.ts","./CharacterStats.ts","./Math.ts"],(function(t){var e,i,s,r,a,h,n,o,l,c,_,u,m,d,p,y,g,v,C,S,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,s=t.defineProperty},function(t){r=t.cclegacy,a=t.Vec3,h=t.Quat,n=t.PhysicsSystem,o=t.ParticleSystem,l=t.CCFloat,c=t._decorator,_=t.Component,u=t.geometry,m=t.CapsuleCharacterController,d=t.toDegree},function(t){p=t.gameInput,y=t.GameInput},function(t){g=t.audioManager},function(t){v=t.gameManager},function(t){C=t.CharacterAnimator},function(t){S=t.CharacterStats},function(t){f=t.smoothDampAngle}],execute:function(){var b,M,k,A,T,G,E,w,j,P,D;r._RF.push({},"80012zCOtdDY7nJS819tY9+","CharacterMovement",void 0);const{ccclass:R,property:z}=c,I=new a,L=new a,W=new a,O=new h,J=t("CharacterMovementState",{Walking:0,Climbing:1});t("CharacterMovement",(b=R("CharacterMovement"),M=z({type:n.PhysicsGroup}),k=z(o),A=z({type:l}),T=z({type:l}),b((w=e((E=class extends _{constructor(){super(...arguments),i(this,"ladderMask",w,this),i(this,"jumpParticle",j,this),i(this,"coyoteTime",P,this),i(this,"turnSmoothTime",D,this),s(this,"_physicsSystem",void 0),s(this,"_characterStats",void 0),s(this,"_animator",void 0),s(this,"_characterController",void 0),s(this,"_cameraNode",void 0),s(this,"_currentState",J.Walking),s(this,"_accelerationSources",new Map),s(this,"_ladderRay",new u.Ray),s(this,"_turnSmoothVelocity",{value:0}),s(this,"_input",new a),s(this,"_movement",new a),s(this,"_velocity",new a),s(this,"_gravity",new a),s(this,"_impulse",new a),s(this,"_resultAcceleration",new a),s(this,"_airTime",0),s(this,"_fallingTime",0),s(this,"_jumpCounter",0),s(this,"_gravityDisableCounter",0),s(this,"_ladderRayLength",void 0),s(this,"_characterStepOffset",void 0),s(this,"_isMoving",!1),s(this,"_gravityEnabled",!0),s(this,"_jumped",!1),s(this,"_needApplyImpulse",!1),s(this,"_ladderCheckEnabled",!1)}get gravityAcceleration(){return this._gravity}get gravityEnabled(){return this._gravityEnabled}get isGrounded(){return this._characterController.isGrounded}set gravityEnabled(t){t&&(this._gravityDisableCounter=Math.max(this._gravityDisableCounter-1,0),0===this._gravityDisableCounter&&this._enableGravity()),t||(this._gravityDisableCounter++,this._disableGravity())}onLoad(){this._physicsSystem=n.instance,this._characterStats=this.getComponent(S),this._animator=this.getComponent(C),this._characterController=this.getComponent(m),this._characterStepOffset=this._characterController.stepOffset,this._ladderRayLength=this._characterController.radius+this._characterController.skinWidth+.2}onEnable(){p.on(y.EVENT_JUMP,this._onJumpPress,this),this._characterController.enabled=!0}onDisable(){p.off(y.EVENT_JUMP,this._onJumpPress,this),this.reset(),this._characterController.enabled=!1}update(t){if(!v.isGameplayPaused)switch(this._currentState){case J.Walking:{const e=this._checkLadder();if(e||(this._ladderCheckEnabled=!0),e&&this._ladderCheckEnabled){this._changeState(J.Climbing);break}this._checkGrounded(t),this._applyInput(t),this._isMoving&&this._rotateMeshToDirection(this._input,t),this._move(t),this._updateAnimations();break}case J.Climbing:if(!this._checkLadder()){this._characterController.isGrounded||(I.set(a.UP).multiplyScalar(.1),L.set(this.node.forward).multiplyScalar(.1),this._characterController.move(I),this._characterController.move(L)),this._changeState(J.Walking);break}if(p.getMovement(this._input),this._input.set(0,this._input.z,0),this._animator.setClimbingDirection(this._input.y),this._characterController.isGrounded&&this._input.y<0)return this._ladderCheckEnabled=!1,void this._changeState(J.Walking);this._movement.set(this._input).multiplyScalar(this._characterStats.climbingSpeed*t),this._characterController.move(this._movement);break}}attachCamera(t){this._cameraNode=t}applyImpulse(t){this._needApplyImpulse=!0,this._impulse.set(t)}addExternalAcceleration(t,e){this._accelerationSources.has(t)||this._accelerationSources.set(t,e)}removeExternalAcceleration(t){this._accelerationSources.has(t)&&this._accelerationSources.delete(t)}resetGravity(){this._gravity.set(0,0,0)}reset(){this._fallingTime=0,this._airTime=0,this._accelerationSources.clear(),this._impulse.set(0,0,0),this._gravity.set(0,0,0),this._gravityEnabled=!0,this._gravityDisableCounter=0}_changeState(t){t!==this._currentState&&(t===J.Climbing?(this._disableGravity(),this._animator.setClimbing(!0),this._characterController.stepOffset=0):(this._enableGravity(),this._animator.setClimbing(!1)),this._currentState=t)}_checkGrounded(t){if(!this._gravityEnabled)return this._airTime+=t,void(this._fallingTime+=t);this._characterController.isGrounded?(this._fallingTime>.5&&this._onLanding(),this._gravity.set(0,-2,0),this._airTime=0,this._fallingTime=0,this._jumpCounter=0,this._jumped=!1,this._characterController.stepOffset=this._characterStepOffset):(this._gravity.y+=this._characterStats.gravity*t,this._airTime+=t,this._fallingTime+=t,this._characterController.stepOffset=0)}_applyInput(t){if(p.getMovement(this._input),this._isMoving=this._input.lengthSqr()>.1,this._isMoving){const t=I.set(this._cameraNode.forward),e=L.set(this._cameraNode.right);t.y=0,e.y=0,t.normalize(),e.normalize();const i=t.multiplyScalar(this._input.z),s=e.multiplyScalar(this._input.x);this._input.set(i).add(s)}else this._input.set(0,0,0);if(p.isJumpPressed){if(this._jumped||!this._characterController.isGrounded&&this._airTime>this.coyoteTime)return;this._jump()}}_move(t){if(this._velocity.set(0,0,0),this._movement.set(this._input).multiplyScalar(this._characterStats.movementSpeed*t),this._accelerationSources.size>0){this._resultAcceleration.set(0,0,0);for(const t of this._accelerationSources.values())this._resultAcceleration.add(t);if(this._resultAcceleration.lengthSqr()>this._characterStats.movementSpeed*this._characterStats.movementSpeed){const t=a.normalize(I,this._resultAcceleration),e=a.dot(this._movement,t);t.multiplyScalar(e),this._movement.subtract(t)}a.scaleAndAdd(this._velocity,this._velocity,this._resultAcceleration,t)}if(this._impulse.lengthSqr()>0){const e=this._characterController.isGrounded;a.scaleAndAdd(this._velocity,this._velocity,this._impulse,t),!this._needApplyImpulse&&e&&0!==this._impulse.y&&(this._impulse.y=0),this._needApplyImpulse||(this._impulse.lerp(a.ZERO,(e?20:1)*t),this._impulse.lengthSqr()<.05&&this._impulse.set(0,0,0)),this._needApplyImpulse=!1}a.add(this._velocity,this._velocity,this._movement),a.scaleAndAdd(this._velocity,this._velocity,this._gravity,t),this._characterController.move(this._velocity)}_updateAnimations(){const t=!this._jumped&&this._characterController.isGrounded;this._animator.setGrounded(t),this._animator.setWalking(t&&this._isMoving),this._animator.setFalling(this._fallingTime>.25)}_checkLadder(){return this._ladderRay.o.set(this.node.worldPosition),this._ladderRay.d.set(this.node.forward).multiplyScalar(-1),this._ladderRay.o.y+=this._characterController.skinWidth/2,this._physicsSystem.raycastClosest(this._ladderRay,this.ladderMask,this._ladderRayLength,!1)}_jump(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._jumpCounter>=this._characterStats.maxJumps||(this._gravity.y=Math.sqrt(-2*this._characterStats.gravity*this._characterStats.jumpHeight),this._jumpCounter++,this._jumped=!0,this._animator.playJump(),g.playSound("character-jump"),t&&this.jumpParticle.play(),this._characterController.stepOffset=0)}_onJumpPress(){if(this._currentState===J.Walking&&(this._jumped?this._jump(!0):!this._characterController.isGrounded&&this._airTime>this.coyoteTime&&(this._jumpCounter++,this._jump(!0))),this._currentState===J.Climbing)return this._ladderCheckEnabled=!1,void this._changeState(J.Walking)}_onLanding(){}_disableGravity(){this._gravity.set(0,0,0),this._gravityEnabled=!1}_enableGravity(){this._gravity.set(0,0,0),this._gravityEnabled=!0}_rotateMeshToDirection(t,e){const i=h.toEuler(W,this.node.worldRotation),s=d(Math.atan2(t.x,t.z)),r=f(i.y,s,this._turnSmoothVelocity,this.turnSmoothTime,e);h.fromEuler(O,0,r,0),this.node.setWorldRotation(O)}}).prototype,"ladderMask",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n.PhysicsGroup.DEFAULT}}),j=e(E.prototype,"jumpParticle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(E.prototype,"coyoteTime",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),D=e(E.prototype,"turnSmoothTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),G=E))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterSkinSelect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts","./CharacterAppearance.ts"],(function(t){var e,i,n,o,r,a,s,c,l,h,d;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t.Node,a=t._decorator,s=t.Button,c=t.tween,l=t.Vec3},function(t){h=t.EventifiedComponent},function(t){d=t.CharacterAppearance}],execute:function(){var p,u,C,y,g,_,b,f,k,v,E,B,S,N;o._RF.push({},"dcafa4yAYlIr6swEsEbVGFH","CharacterSkinSelect",void 0);const{ccclass:w,property:m}=a;t("CharacterSkinSelect",(p=w("CharacterSkinSelect"),u=m(d),C=m(r),y=m(r),g=m(r),_=m(r),p((N=class t extends h{constructor(){super(...arguments),n(this,"previewAppearance",k,this),n(this,"loadingIndicator",v,this),n(this,"girlButtonNode",E,this),n(this,"boyButtonNode",B,this),n(this,"confirmButtonNode",S,this),e(this,"_selectedSkin",void 0)}onLoad(){this._onGirlOptionClick(),this.girlButtonNode.on(s.EventType.CLICK,this._onGirlOptionClick,this),this.boyButtonNode.on(s.EventType.CLICK,this._onBoyOptionClick,this),this.confirmButtonNode.on(s.EventType.CLICK,this._onConfirmButtonClick,this)}onDestroy(){this.girlButtonNode.off(s.EventType.CLICK,this._onGirlOptionClick,this),this.boyButtonNode.off(s.EventType.CLICK,this._onBoyOptionClick,this)}show(){this.node.active=!0}hide(){this.node.active=!1}async _changePreviewSkin(){this.loadingIndicator.active=!0,await this.previewAppearance.changeSkin(this._selectedSkin),this.loadingIndicator.active=!1}_onGirlOptionClick(){"girl"===this._selectedSkin||this.loadingIndicator.active||(c(this.boyButtonNode).to(.15,{scale:l.ONE},{easing:"sineInOut"}).start(),c(this.girlButtonNode).to(.15,{scale:new l(1.05,1.05,1.05)}).start(),this._selectedSkin="girl",this._changePreviewSkin())}_onBoyOptionClick(){"boy"===this._selectedSkin||this.loadingIndicator.active||(c(this.girlButtonNode).to(.15,{scale:l.ONE}).start(),c(this.boyButtonNode).to(.15,{scale:new l(1.1,1.1,1.1)}).start(),this._selectedSkin="boy",this._changePreviewSkin())}_onConfirmButtonClick(){this.emit(t.EVENT_CHARACTER_SELECTED,this._selectedSkin)}},e(N,"EVENT_CHARACTER_SELECTED","character-selected"),k=i((f=N).prototype,"previewAppearance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(f.prototype,"loadingIndicator",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(f.prototype,"girlButtonNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(f.prototype,"boyButtonNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(f.prototype,"confirmButtonNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterStatBuff.ts",["cc","./CharacterStatName.ts"],(function(e){var t,u,a;return{setters:[function(e){t=e.cclegacy,u=e.Enum},function(e){a=e.CharacterStatName}],execute:function(){t._RF.push({},"16903fEzlBKzbnmqh+x2Ukp","CharacterStatBuff",void 0);let f=e("CharacterBuffId",function(e){return e[e.TestBuff=999]="TestBuff",e[e.RewardedDoubleJump=0]="RewardedDoubleJump",e[e.LevelSpeed=2]="LevelSpeed",e}({}));u(f);const n=e("characterBuffsList",new Map);n.set(f.RewardedDoubleJump,{id:f.RewardedDoubleJump,effectPrefabPath:"effects/Jump Buff Effect",duration:80,stats:[{name:a.JumpsCount,bonus:1},{name:a.GravityMultiplier,bonus:-.5}]}),n.set(f.LevelSpeed,{id:f.LevelSpeed,effectPrefabPath:"effects/Speed Boost Effect",duration:1/0,levelBuff:!0,stats:[{name:a.MovementSpeed,bonus:12},{name:a.JumpForce,bonus:1.5}]}),n.set(f.TestBuff,{id:f.TestBuff,duration:1/0,stats:[{name:a.JumpsCount,bonus:99},{name:a.MovementSpeed,bonus:12}]}),t._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterStatName.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b06fdOj1jNCeJpQbjgjYpQt","CharacterStatName",void 0);e("CharacterStatName",{JumpForce:"jumpForce",MovementSpeed:"movementSpeed",ClimbingSpeed:"climbingSpeed",GravityMultiplier:"gravityMultiplier",JumpsCount:"jumpsCount"});t._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterStats.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterStatBuff.ts","./GameManager.ts","./EventifiedComponent.ts","./CharacterStatName.ts","./BuffEffect.ts","./Character.ts","./AssetProviding.ts","./AudioManager.ts"],(function(e){var t,i,a,s,r,n,u,f,o,c,h,d,p,m,l,b,_,v,g,B,E;return{setters:[function(e){t=e.defineProperty,i=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){s=e.cclegacy,r=e.CCFloat,n=e._decorator,u=e.macro,f=e.input,o=e.Input,c=e.KeyCode,h=e.tween,d=e.Vec3},function(e){p=e.CharacterBuffId,m=e.characterBuffsList},function(e){l=e.gameManager},function(e){b=e.EventifiedComponent},function(e){_=e.CharacterStatName},function(e){v=e.BuffEffect},function(e){g=e.Character},function(e){B=e.loadPrefabAndInstantiate},function(e){E=e.audioManager}],execute:function(){var S,y,C,D,M,P,A,J,T,F,N,x,H,w;s._RF.push({},"8b592AZS0FH3IaY/EbulRth","CharacterStats",void 0);const{ccclass:I,property:V}=n;e("CharacterStats",(S=I("CharacterStats"),y=V(r),C=V(r),D=V(r),M=V(r),P=V(r),S((w=class e extends b{constructor(){super(...arguments),a(this,"baseMovementSpeed",T,this),a(this,"baseClimbingSpeed",F,this),a(this,"baseJumpHeight",N,this),a(this,"baseGravity",x,this),a(this,"baseMaxJumps",H,this),t(this,"_character",void 0),t(this,"_activeBuffs",[]),t(this,"_movementSpeed",void 0),t(this,"_climbingSpeed",void 0),t(this,"_jumpHeight",void 0),t(this,"_gravity",void 0),t(this,"_maxJumps",void 0)}get movementSpeed(){return this._movementSpeed}get climbingSpeed(){return this._climbingSpeed}get jumpHeight(){return this._jumpHeight}get gravity(){return this._gravity}get maxJumps(){return this._maxJumps}onLoad(){this._character=this.getComponent(g),this._recalculateStats(),this.schedule(this.updateBuffsDuration,1,u.REPEAT_FOREVER),window.CC_DEV_MODE&&f.on(o.EventType.KEY_DOWN,(e=>{e.keyCode===c.DIGIT_9&&this.applyBuff(p.TestBuff)}))}applyBuff(t){const i=this._activeBuffs.findIndex((e=>e.buff.id===t));if(-1!==i){const e=this._activeBuffs[i];if(e.buff.duration===1/0)return;return e.duration=e.buff.duration,void(e.timer&&e.timer.setTime(e.duration))}const a=m.get(t);if(!a)return;a.effectPrefabPath&&B(a.effectPrefabPath).then((e=>{const i=e.getComponent(v);if(!i)return;i.attachToNodeAndPlay(this._character.node);const a=this._getActiveBuff(t);a?a.effect=i:i.node.destroy()}));let s=null;t===p.RewardedDoubleJump&&(s=l.hud.doubleJumpBuffTimer),s&&(s.setTime(a.duration),s.visible=!0),h(this.node).to(.2,{scale:new d(1.05,1.05,1.05)},{easing:"sineIn"}).to(.2,{scale:d.ONE},{easing:"sineOut"}).start(),E.playSound("character-boost"),this._activeBuffs.push({duration:a.duration,effect:null,timer:s,buff:a}),this._recalculateStats(),this.emit(e.EVENT_BUFF_APPLIED,t)}removeBuff(t){const i=this._activeBuffs.findIndex((e=>e.buff.id===t));if(-1===i)return;const a=this._activeBuffs[i];a.effect&&a.effect.stopAndDestroy(),a.timer&&(a.timer.visible=!1),this._activeBuffs.splice(i,1),this._recalculateStats(),this.emit(e.EVENT_BUFF_REMOVED,t)}updateBuffsDuration(e){if(!l.isGameplayPaused&&0!==this._activeBuffs.length)for(const t of this._activeBuffs)t.buff.duration!==1/0&&(t.duration-=e,t.timer&&t.timer.updateTime(t.duration),t.duration<=0&&this.removeBuff(t.buff.id))}clearLevelBuffs(){for(const e of this._activeBuffs)e.buff.levelBuff&&this.removeBuff(e.buff.id)}isBuffApplied(e){return!!this._getActiveBuff(e)}_getActiveBuff(e){return this._activeBuffs.find((t=>t.buff.id===e))}_recalculateStats(){this._movementSpeed=this.baseMovementSpeed,this._climbingSpeed=this.baseClimbingSpeed,this._jumpHeight=this.baseJumpHeight,this._gravity=this.baseGravity,this._maxJumps=this.baseMaxJumps;for(const e of this._activeBuffs)for(const t of e.buff.stats)switch(t.name){case _.JumpForce:this._jumpHeight+=t.bonus;break;case _.MovementSpeed:this._movementSpeed+=t.bonus;break;case _.ClimbingSpeed:this._climbingSpeed+=t.bonus;break;case _.GravityMultiplier:this._gravity+=t.bonus;break;case _.JumpsCount:this._maxJumps+=t.bonus}this.emit(e.EVENT_CHANGED)}},t(w,"EVENT_CHANGED","stats:changed"),t(w,"EVENT_BUFF_APPLIED","buff:applied"),t(w,"EVENT_BUFF_REMOVED","buff:removed"),T=i((J=w).prototype,"baseMovementSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),F=i(J.prototype,"baseClimbingSpeed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),N=i(J.prototype,"baseJumpHeight",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),x=i(J.prototype,"baseGravity",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=i(J.prototype,"baseMaxJumps",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=J))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/ChaseBarryState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BarryBaseState.ts","./Barry.ts"],(function(t){var e,a,r,s,i,n;return{setters:[function(t){e=t.defineProperty},function(t){a=t.cclegacy,r=t.Vec3},function(t){s=t.BarryBaseState},function(t){i=t.BarryState,n=t.BarryAnimation}],execute:function(){a._RF.push({},"8822eNtlSFF8KXm2yP8+Z+o","ChaseBarryState",void 0);const h=new r;t("ChaseBarryState",class extends s{constructor(){super(...arguments),e(this,"id",i.Chase),e(this,"_chaseUpdateTime",0)}onEnter(){this._barry.needCheckTarget=!1,this._chaseUpdateTime=0,this._updatePathToTarget()}update(t){this._barryNode.getWorldPosition(h);r.distance(h,this._barry.groundedTargetPosition)<=this._barry.catchDistance?this._stateMachine.changeState(i.Catch):this._chaseUpdateTime>this._barry.chaseUpdateRate?this._updatePathToTarget():this._chaseUpdateTime+=t}_updatePathToTarget(){this._barry.setDestination(this._barry.groundedTargetPosition,n.Run)||(this._barry.canPatrol?this._stateMachine.changeState(i.Rest):this._stateMachine.changeState(i.ReturnToSpawn))}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/Checkpoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts"],(function(t){var e,r,i,n,o;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy,i=t.Collider,n=t._decorator},function(t){o=t.EventifiedComponent}],execute:function(){var s;r._RF.push({},"44f36H8PAtEnKLxtU7YiFnr","Checkpoint",void 0);const{ccclass:g,property:c}=n,h=t("CHECKPOINT_EVENT_REACHED","checkpoint-reached");t("Checkpoint",g("Checkpoint")(s=class extends o{constructor(){super(...arguments),e(this,"_trigger",void 0),e(this,"index",void 0)}onDisable(){this._trigger&&this._trigger.off("onControllerTriggerEnter",this._onTriggerEnter,this)}init(t){this.index=t,this._trigger=this.getComponent(i),this._trigger.on("onControllerTriggerEnter",this._onTriggerEnter,this)}_onTriggerEnter(){this._trigger.off("onControllerTriggerEnter",this._onTriggerEnter,this),this.emit(h,this)}})||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/CloseGatesTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Gates.ts"],(function(e){var r,t,i,o,n,s,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Collider,n=e._decorator,s=e.Component},function(e){l=e.Gates}],execute:function(){var g,a,c,u,p,h,f;i._RF.push({},"57d4fp/82tFhILoDgyNmma5","CloseGatesTrigger",void 0);const{ccclass:C,property:b}=n;e("CloseGatesTrigger",(g=C("CloseGatesTrigger"),a=b(o),c=b(l),g((h=r((p=class extends s{constructor(){super(...arguments),t(this,"trigger",h,this),t(this,"gates",f,this)}onEnable(){this.trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}onDisable(){this.trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}_onControllerTriggerEnter(){this.gates.close()}}).prototype,"trigger",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=r(p.prototype,"gates",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProgress.ts","./AudioManager.ts","./EventifiedComponent.ts","./GameManager.ts"],(function(e){var t,o,n,i,r,s,l,a,c,g,d,u;return{setters:[function(e){t=e.defineProperty},function(e){o=e.cclegacy,n=e._decorator,i=e.Quat,r=e.Collider,s=e.tween,l=e.Vec3},function(e){a=e.playerProgress},function(e){c=e.audioManager},function(e){g=e.EventifiedComponent},function(e){d=e.gameManager,u=e.GameplayEvents}],execute:function(){var h,C;o._RF.push({},"6e249SsE4VDeplVim/8sbbY","Coin",void 0);const{ccclass:_}=n;e("Coin",_("Coin")((C=class extends g{constructor(){super(...arguments),t(this,"_trigger",void 0),t(this,"_rotation",new i),t(this,"_isCollected",!1),t(this,"id",void 0)}onLoad(){this._trigger=this.getComponent(r)}onEnable(){this._trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}onDisable(){this._trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}update(e){this._rotation.set(0,e,0,1),this.node.rotate(this._rotation)}_onControllerTriggerEnter(){this._isCollected||(this._isCollected=!0,s(this.node).to(.2,{scale:new l(1.25,1.25,1.25)},{easing:"sineIn"}).to(.2,{scale:l.ZERO},{easing:"sineOut"}).destroySelf().start(),a.wallet.add("coins",1),c.playSound("coin"),d.emit(u.CoinCollected,this.id))}},t(C,"EVENT_COLLECTED","collected"),h=C))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts","./AudioManager.ts"],(function(t){var e,i,n,o,s,r,a,c,l,u,d;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t.Sprite,r=t._decorator,a=t.NodeEventType,c=t.tween,l=t.Vec3},function(t){u=t.EventifiedComponent},function(t){d=t.audioManager}],execute:function(){var p,g,h,m,E,f,_,C;o._RF.push({},"9d6a4LMME5ADa8J9FgLfqrn","CustomizationItem",void 0);const{ccclass:b,property:y}=r;t("CustomizationItem",(p=b("CustomizationItem"),g=y(s),h=y(s),p((C=class t extends u{constructor(){super(...arguments),n(this,"background",f,this),n(this,"image",_,this),e(this,"id",void 0),e(this,"_tweening",!1)}init(t){this.id=t,this.node.on(a.TOUCH_END,this._onClick,this)}setBackgroundColor(t){this.background.color=t}setImage(t){this.image.spriteFrame=t}_onClick(){this._tweening||(d.playSound("button-click"),this._tweening=!0,c(this.node).to(.15,{scale:new l(.95,.95,.95)}).to(.15,{scale:l.ONE}).call((()=>{this._tweening=!1})).start(),this.emit(t.EVENT_SELECTED,this.id))}},e(C,"EVENT_SELECTED","selected"),f=i((E=C).prototype,"background",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(E.prototype,"image",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=E))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIWindow.ts","./CustomizationWindowStyles.ts","./CustomizationItem.ts","./CharacterAppearance.ts","./PlayerProgress.ts","./UIUtils.ts","./GameManager.ts","./SDK.ts","./AudioManager.ts","./AudioChannelTag.ts"],(function(t){var e,i,n,a,o,s,r,c,l,u,d,h,p,m,b,k,y,S,C,_,g,w,I,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.defineProperty},function(t){a=t.cclegacy,o=t.Prefab,s=t.Node,r=t.Label,c=t.Sprite,l=t._decorator,u=t.Button,d=t.resources,h=t.JsonAsset,p=t.instantiate,m=t.SpriteFrame},function(t){b=t.UIWindow},function(t){k=t.CustomizationWindowStyles},function(t){y=t.CustomizationItem},function(t){S=t.CharacterAppearance},function(t){C=t.playerProgress},function(t){_=t.adjustContainerSize},function(t){g=t.gameManager},function(t){w=t.platformSDK},function(t){I=t.audioManager},function(t){f=t.AudioChannelTag}],execute:function(){var v,B,z,A,T,N,P,E,L,D,W,q,F,K,M,U,R,j,V,x,G,H,J;a._RF.push({},"ccfdddTFXlJL4T9yS+wWXGS","CustomizationWindow",void 0);const{ccclass:X,property:$}=l;t("CustomizationWindow",(v=X("CustomizationWindow"),B=$(o),z=$(S),A=$(s),T=$(s),N=$(s),P=$(s),E=$(s),L=$(r),D=$(c),W=$(k),v((K=e((F=class extends b{constructor(){super(...arguments),i(this,"skinItemPrefab",K,this),i(this,"previewCharacterAppearance",M,this),i(this,"skinsContainer",U,this),i(this,"loadingIndicator",R,this),i(this,"selectSkinButtonNode",j,this),i(this,"advButtonNode",V,this),i(this,"buyButtonNode",x,this),i(this,"buyButtonLabel",G,this),i(this,"buyButtonSprite",H,this),i(this,"styles",J,this),n(this,"_customizationData",void 0),n(this,"_skinItems",[]),n(this,"_selectedSkinItem",void 0),n(this,"_initialized",!1)}onLoad(){I.addSound("item-buy","sounds/ui/buy",f.UI,{volume:.5}),this.buyButtonNode.on(u.EventType.CLICK,this._onBuyButtonClick,this),this.advButtonNode.on(u.EventType.CLICK,this._onAdvButtonClick,this),this.selectSkinButtonNode.on(u.EventType.CLICK,this._onSelectButtonClick,this)}async _onShow(){this._disableAllActions(),this.loadingIndicator.active=!0,this._initialized||(this._initialized=!0,await this._init());const t=C.selectedCharacterCustomization;t.skin&&await this.previewCharacterAppearance.changeSkin(t.skin),this.loadingIndicator.active=!1}_onHide(){C.save()}async _init(){new Promise(((t,e)=>{d.load("characters/customizationDataV2",h,((e,i)=>{if(e)return console.error(e),void t();const n=i.json;for(const t of n.skins){const e=this._createSkinItem(t);e&&(e.on(y.EVENT_SELECTED,this._onSkinItemSelected,this),this._skinItems.push(e))}_(this.skinsContainer),this._customizationData=n,t()}))}))}_createSkinItem(t){const e=p(this.skinItemPrefab),i=e.getComponent(y);return i?(i.init(t.id),d.load(`sprites/skins/${t.id}/spriteFrame`,m,((e,n)=>{let a;switch(e||i.setImage(n),t.priceType){case"coins":a=this.styles.coinsItemColor;break;case"cups":a=this.styles.cupsItemColor;break;case"reward":a=this.styles.rewardItemColor;break;default:a=this.styles.basicItemColor}i.setBackgroundColor(a)})),this.skinsContainer.addChild(e),i):null}async _onSkinItemSelected(t){if(this.loadingIndicator.active||this.previewCharacterAppearance.currentSkinId===t)return;this._skinItems.find((e=>e.id===t))&&(await this._changePreviewSkin(t),this._selectedSkinItem=this._customizationData.skins.find((e=>e.id===t)),this._updateActionsButton())}async _changePreviewSkin(t){this.loadingIndicator.active=!0,await this.previewCharacterAppearance.changeSkin(t),this.loadingIndicator.active=!1}_updateActionsButton(){this._disableAllActions();const t=this._selectedSkinItem,e=C.selectedCharacterCustomization;if(!t||e.skin===t.id)return;const i=C.purchasedCharacterCustomization;t.priceType&&!i.skin.includes(t.id)?"reward"===t.priceType?this.advButtonNode.active=!0:(this._updateBuyButton(t),this.buyButtonNode.active=!0):this.selectSkinButtonNode.active=!0}_disableAllActions(){this.buyButtonNode.active=!1,this.selectSkinButtonNode.active=!1,this.advButtonNode.active=!1}_updateBuyButton(t){let e;switch(t.priceType){case"coins":e=this.styles.coinSprite;break;case"cups":e=this.styles.cupSprite}this.buyButtonSprite.spriteFrame=e,this.buyButtonLabel.string=t.price.toString()}_equipSelectedSkinToCharacter(){this._selectedSkinItem&&(C.progress.customization.selected.skin=this._selectedSkinItem.id,g.character&&g.character.appearance.changeSkin(this._selectedSkinItem.id))}_addSkinAndEquipToCharacter(){I.playSound("item-buy"),C.addSkinToPurchases(this._selectedSkinItem.id),C.save(),this._equipSelectedSkinToCharacter(),this._updateActionsButton()}_onSelectButtonClick(){this._equipSelectedSkinToCharacter(),this._updateActionsButton()}_onBuyButtonClick(){C.wallet.trySpend(this._selectedSkinItem.priceType,this._selectedSkinItem.price)&&this._addSkinAndEquipToCharacter()}_onAdvButtonClick(){this.loadingIndicator.active=!0,w.showRewardedVideo({onClose:()=>{this.loadingIndicator.active=!1},onError:t=>{console.error("Something went wrong",t),this.loadingIndicator.active=!1},onRewarded:()=>{this._addSkinAndEquipToCharacter()}})}}).prototype,"skinItemPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(F.prototype,"previewCharacterAppearance",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(F.prototype,"skinsContainer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(F.prototype,"loadingIndicator",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(F.prototype,"selectSkinButtonNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(F.prototype,"advButtonNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(F.prototype,"buyButtonNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(F.prototype,"buyButtonLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(F.prototype,"buyButtonSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(F.prototype,"styles",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new k}}),q=F))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/CustomizationWindowStyles.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,n,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,o=e.SpriteFrame,n=e._decorator,l=e.Color}],execute:function(){var a,s,c,u,p,b,m,y,h,w,C,f,g,S,z,d,I,k,v;r._RF.push({},"80c8c5HOklCC6TqnjEJhnyn","CustomizationWindowStyles",void 0);const{ccclass:W,property:_}=n;e("CustomizationWindowStyles",(a=W("CustomizationWindowStyles"),s=_({group:{name:"Colors",style:"section"}}),c=_({group:{name:"Colors",style:"section"}}),u=_({group:{name:"Colors",style:"section"}}),p=_({group:{name:"Colors",style:"section"}}),b=_(o),m=_(o),y=_(o),h=_(o),a((f=t((C=class{constructor(){i(this,"basicItemColor",f,this),i(this,"coinsItemColor",g,this),i(this,"cupsItemColor",S,this),i(this,"rewardItemColor",z,this),i(this,"checkMarkSprite",d,this),i(this,"coinSprite",I,this),i(this,"cupSprite",k,this),i(this,"rewardSprite",v,this)}}).prototype,"basicItemColor",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),g=t(C.prototype,"coinsItemColor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),S=t(C.prototype,"cupsItemColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),z=t(C.prototype,"rewardItemColor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),d=t(C.prototype,"checkMarkSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(C.prototype,"coinSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(C.prototype,"cupSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(C.prototype,"rewardSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/CustomResolutionPolicy.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(){var t,e,o,n,i,s;return{setters:[function(e){t=e.defineProperty},function(t){e=t.cclegacy,o=t.ResolutionPolicy,n=t.screen,i=t.Rect,s=t.view}],execute:function(){e._RF.push({},"591ebf9HCpJ5qOgT48Z9zFC","CustomResolutionPolicy",void 0);class c extends o.ContentStrategy{constructor(){super(...arguments),t(this,"name","CustomExactFit")}apply(t,e){const o=n.windowSize,s=o.width,c=o.height,r=s/e.width,u=c/e.height,l=Math.min(r,u);return{scale:[l,l],viewport:new i(0,0,s,c)}}}(()=>{const t=new c,e=new o(o.ContainerStrategy.EQUAL_TO_FRAME,t);s.setResolutionPolicy(e)})(),e._RF.pop()}}}));

System.register("chunks:///_virtual/DamageTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts"],(function(r){var e,t,o,n,g,i;return{setters:[function(r){e=r.defineProperty},function(r){t=r.cclegacy,o=r.Component,n=r.Collider,g=r._decorator},function(r){i=r.Character}],execute:function(){var a;t._RF.push({},"7c2f9IuhZNKho5G+/qyu5jb","DamageTrigger",void 0);const{ccclass:s}=g;r("DamageTrigger",s("DamageTrigger")(a=class extends o{constructor(){super(...arguments),e(this,"_trigger",void 0)}onLoad(){this._trigger=this.getComponent(n)}onEnable(){this._trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}onDisable(){this._trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}_onControllerTriggerEnter(r){r.characterController.node.getComponent(i)?.takeDamage()}})||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/DebugDraw.ts",["cc"],(function(e){var n,t,r,i,d,o,a;return{setters:[function(e){n=e.cclegacy,t=e.Color,r=e.Vec3,i=e.geometry,d=e.find,o=e.Camera,a=e.director}],execute:function(){function u(){let e;if(e=d("Main Camera")?.getComponent(o)?.camera,e)return e&&e.initGeometryRenderer(),e&&e.geometryRenderer||a.root?.pipeline.geometryRenderer}e({drawCapsule:function(e,n,i,d){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.GREEN;const a=u();if(!a)return;a.addCapsule(r.add(new r,e,n),i,d,o,10,4,!0)},drawCube:function(e,n){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.WHITE;const o=u();if(!o)return o;"number"==typeof n&&(n=new r(n,n,n));o.addBoundingBox(i.AABB.fromPoints(new i.AABB,r.scaleAndAdd(new r,e,n,-.5),r.scaleAndAdd(new r,e,n,.5)),d,!0)},drawLineFromTo:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.WHITE;const i=u();if(!i)return i;i.addLine(e,n,r)},drawLineOriginDirLen:function(e,n,i){let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.WHITE;const o=u();if(!o)return o;o.addLine(e,r.scaleAndAdd(new r,e,n,i),d)},drawSphere:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.GREEN;const i=u();if(!i)return;i.addSphere(e,n,r,10,4,!0)}}),n._RF.push({},"28b7f7JdiJI47MW6SJyBtuV","DebugDraw",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/DistanceModel.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.Enum}],execute:function(){n._RF.push({},"456b2yNULRGNYjxUgfObfEb","DistanceModel",void 0);let c=e("DistanceModel",function(e){return e.LINEAR="linear",e.INVERSE="inverse",e.EXPONENTIAL="exponential",e}({}));t(c),n._RF.pop()}}}));

System.register("chunks:///_virtual/Door.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts"],(function(t){var e,i,n,o,r,a,s,c,l,u,p,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.defineProperty},function(t){o=t.cclegacy,r=t.CCFloat,a=t.CCString,s=t.Vec3,c=t._decorator,l=t.Component,u=t.Quat,p=t.tween},function(t){h=t.Interactable},function(t){b=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var f,g,d,_,y,E,m,R,T,w,C;o._RF.push({},"7f8afium1VIXrCYEsWXhQbd","Door",void 0);const{ccclass:D,property:z}=c;t("Door",(f=D("Door"),g=z(h),d=z(r),_=z(a),y=z(s),f((R=e((m=class extends l{constructor(){super(...arguments),i(this,"interactable",R,this),i(this,"openingSpeed",T,this),i(this,"easing",w,this),i(this,"targetRotation",C,this),n(this,"_opened",!1)}onEnable(){this.interactable.on(h.EVENT_INTERACT,this._open,this)}onDisable(){this.interactable.off(h.EVENT_INTERACT,this._open,this)}_open(){if(this._opened)return;this._opened=!0;const t=u.fromEuler(new u,this.targetRotation.x,this.targetRotation.y,this.targetRotation.z);p(this.node).tag(b).to(this.openingSpeed,{rotation:t},{easing:this.easing}).start()}}).prototype,"interactable",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(m.prototype,"openingSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=e(m.prototype,"easing",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"cubicInOut"}}),C=e(m.prototype,"targetRotation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,0)}}),E=m))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/Elevator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./Character.ts","./GameplayTweenSystem.ts"],(function(t){var e,o,i,n,r,s,a,l,h,c,_,p,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.defineProperty},function(t){n=t.cclegacy,r=t.Collider,s=t.Node,a=t.CCFloat,l=t._decorator,h=t.Component,c=t.Vec3,_=t.tween},function(t){p=t.Interactable},function(t){g=t.Character},function(t){v=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var d,u,b,w,C,m,E,P,f,T,y,I,M;n._RF.push({},"31dffNmFCBCAbLjnqySI8bL","Elevator",void 0);const{ccclass:D,property:U}=l,A=0,N=1;t("Elevator",(d=D("Elevator"),u=U(r),b=U(p),w=U(p),C=U(s),m=U(a),d((f=e((P=class extends h{constructor(){super(...arguments),o(this,"trigger",f,this),o(this,"moveUpInteractable",T,this),o(this,"moveDownInteractable",y,this),o(this,"targetPoint",I,this),o(this,"speed",M,this),i(this,"_character",void 0),i(this,"_location",N),i(this,"_initialPosition",void 0),i(this,"_velocity",new c),i(this,"_previousPosition",new c),i(this,"_tween",void 0),i(this,"_isMoving",!1)}onLoad(){this._initialPosition=this.node.getWorldPosition()}onEnable(){this._previousPosition.set(this.node.worldPosition),this.moveUpInteractable.on(p.EVENT_INTERACT,this._onMoveUpInteract,this),this.moveDownInteractable.on(p.EVENT_INTERACT,this._onMoveDownInteract,this),this.trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this),this.trigger.on("onControllerTriggerExit",this._onControllerTriggerExit,this)}onDisable(){this.moveUpInteractable.off(p.EVENT_INTERACT,this._onMoveUpInteract,this),this.moveDownInteractable.off(p.EVENT_INTERACT,this._onMoveDownInteract,this),this.trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this),this.trigger.off("onControllerTriggerExit",this._onControllerTriggerExit,this)}moveUp(){if(this._location!==N)return;this._tween&&this._tween.stop();const t=Math.abs(this.targetPoint.worldPosition.y-this.node.worldPosition.y)/this.speed;this._tween=_(this.node).tag(v).to(t,{worldPosition:this.targetPoint.getWorldPosition()},{onStart:()=>this._onStartMove(),onUpdate:t=>this._updateVelocityAndMoveCharacter(),onComplete:()=>{this._onCompleteMove()}}).start(),this._location=A}moveDown(){if(this._location!==A)return;this._tween&&this._tween.stop();const t=Math.abs(this.node.worldPosition.y-this._initialPosition.y)/this.speed;this._tween=_(this.node).tag(v).to(t,{worldPosition:this._initialPosition},{onStart:()=>this._onStartMove(),onUpdate:t=>this._updateVelocityAndMoveCharacter(),onComplete:()=>{this._onCompleteMove()}}).start(),this._location=N}_onStartMove(){this._previousPosition.set(this.node.worldPosition),this._isMoving=!0}_onCompleteMove(){this._isMoving=!1}_updateVelocityAndMoveCharacter(){this._velocity.set(this.node.worldPosition).subtract(this._previousPosition),this._previousPosition.set(this.node.worldPosition),this._character&&this._character.node.translate(this._velocity)}_onMoveUpInteract(){this.moveDownInteractable.reset(),this.moveUp()}_onMoveDownInteract(){this.moveUpInteractable.reset(),this.moveDown()}_onControllerTriggerEnter(t){const e=t.characterController.node.getComponent(g);e&&(this._character=e)}_onControllerTriggerExit(t){const e=t.characterController.node.getComponent(g);e&&this._character===e&&(this._character=null)}}).prototype,"trigger",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(P.prototype,"moveUpInteractable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(P.prototype,"moveDownInteractable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(P.prototype,"targetPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(P.prototype,"speed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),E=P))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/EmptyPlayerProgress.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7fd9eCRtOBMv6T6m+10mjPu","EmptyPlayerProgress",void 0);e("EMPTY_PLAYER_PROGRESS",{v2UpdateRewardClaimed:!1,wallet:{coins:0,cups:0},customization:{selected:{skin:void 0,backAttachment:void 0,trail:void 0,stepEffect:void 0,landingEffect:void 0},purchases:{skin:[],backAttachment:[],trail:[],stepEffect:[],landingEffect:[]}},levels:{progress:[]}});t._RF.pop()}}}));

System.register("chunks:///_virtual/EventifiedComponent.ts",["cc"],(function(e){var n,t,i;return{setters:[function(e){n=e.cclegacy,t=e.Eventify,i=e.Component}],execute:function(){n._RF.push({},"aea3fwV0z5Br7KRLqneO/t7","EventifiedComponent",void 0);e("EventifiedComponent",t(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/Final.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./WindowsManager.ts","./WindowId.ts","./MetricaUtils.ts","./PlayerProgress.ts","./AudioManager.ts"],(function(e){var r,t,n,o,i,l,a,s,c,g,u,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Collider,i=e._decorator,l=e.Component},function(e){a=e.Character},function(e){s=e.windowsManager},function(e){c=e.WindowId},function(e){g=e.metricaReachGoal},function(e){u=e.playerProgress},function(e){p=e.audioManager}],execute:function(){var d,h,f,C,w;n._RF.push({},"cf733ThX61P1oC9ZWru61eJ","Final",void 0);const{ccclass:y,property:m}=i;e("Final",(d=y("Final"),h=m(o),d((w=r((C=class extends l{constructor(){super(...arguments),t(this,"trigger",w,this)}onLoad(){this.trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}onDestroy(){this.trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}_onControllerTriggerEnter(e){e.characterController.node.getComponent(a)&&(p.playSound("level-complete"),u.wallet.add("cups",1),g("level-completed",{coins:u.wallet.coins,cups:u.wallet.cups}),s.showWindow(c.Win))}}).prototype,"trigger",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=C))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameAudioListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(e){var o,t,i,n,s;return{setters:[function(e){o=e.defineProperty},function(e){t=e.cclegacy,i=e.Component,n=e._decorator},function(e){s=e.audioManager}],execute:function(){var r;t._RF.push({},"da2cbaUYSxFjLHIhgwdqqwB","GameAudioListener",void 0);const{ccclass:a}=n;e("GameAudioListener",a("GameAudioListener")(r=class extends i{constructor(){super(...arguments),o(this,"_listener",void 0)}onLoad(){this._listener=s.listener}lateUpdate(){const e=this._listener,o=this.node.worldPosition,t=this.node.forward,i=this.node.up;e.positionX.value=o.x,e.positionY.value=o.y,e.positionZ.value=o.z,e.forwardX.value=t.x,e.forwardY.value=t.y,e.forwardZ.value=t.z,e.upX.value=i.x,e.upY.value=i.y,e.upZ.value=i.z}})||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameBootstrapper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./UIManager.ts","./LoadingScreen.ts","./ThirdPersonCamera.ts"],(function(e){var i,a,t,r,n,o,s,c,l,u,m,p,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){t=e.cclegacy,r=e.Node,n=e.DirectionalLight,o=e._decorator,s=e.Component,c=e.game,l=e.Camera},function(e){u=e.gameManager},function(e){m=e.uiManager},function(e){p=e.LoadingScreen},function(e){g=e.ThirdPersonCamera}],execute:function(){var h,d,f,b,C,y,L,S,v,z,D;t._RF.push({},"836f7rja0JA4akVyRNIDzla","GameBootstrapper",void 0);const{ccclass:N,property:R}=o;e("GameBootstrapper",(h=N("GameBootstrapper"),d=R(r),f=R(r),b=R(n),C=R(p),h((S=i((L=class extends s{constructor(){super(...arguments),a(this,"mainCamera",S,this),a(this,"uiRootNode",v,this),a(this,"directionalLight",z,this),a(this,"loadingScreen",D,this)}onLoad(){u.canvas=c.canvas,u.mainDirectionalLight=this.directionalLight,u.loadingScreen=this.loadingScreen,u.camera={node:this.mainCamera,thirdPerson:this.mainCamera.getComponent(g),ccCamera:this.mainCamera.getComponent(l)},m.rootNode=this.uiRootNode,u.init(this)}}).prototype,"mainCamera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(L.prototype,"uiRootNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(L.prototype,"directionalLight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(L.prototype,"loadingScreen",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetProviding.ts","./MobileControls.ts","./TouchButton.ts","./UIManager.ts"],(function(t){var e,i,n,s,o,a,u,r,p,_,h;return{setters:[function(t){e=t.defineProperty},function(t){i=t.cclegacy,n=t.EventTarget,s=t.input,o=t.Input,a=t.KeyCode,u=t.sys},function(t){r=t.loadPrefabAndInstantiate},function(t){p=t.MobileControls},function(t){_=t.TouchButton},function(t){h=t.uiManager}],execute:function(){t("gameInput",void 0),i._RF.push({},"a4d5fPABiZIA6Cm3CvV/1yr","GameInput",void 0);class c extends n{constructor(){super(...arguments),e(this,"_enabled",!1)}set enabled(t){this._enabled!==t&&(t?this.onEnable():this.onDisable(),this._enabled=t,this.emit(c.EVENT_STATE_CHANGE,t))}}t("GameInput",c),e(c,"EVENT_STATE_CHANGE","state-change"),e(c,"EVENT_INTERACT","interact"),e(c,"EVENT_JUMP","jump");class l extends c{constructor(){super(...arguments),e(this,"_mobileControls",void 0),e(this,"_movementJoystick",void 0),e(this,"_jumpButton",void 0),e(this,"_interactButton",void 0)}get isJumpPressed(){return this._jumpButton.isPressed}set interactButtonVisible(t){this._mobileControls.interactButtonVisible=t}async initialize(){const t=await r("Mobile Controls");h.rootNode.addChild(t),this._mobileControls=t.getComponent(p),this._movementJoystick=this._mobileControls.movementJoystick,this._jumpButton=this._mobileControls.jumpButton,this._interactButton=this._mobileControls.interactButton,this._jumpButton.on(_.EVENT_PRESSED,this._onJumpButtonPressed,this),this._interactButton.on(_.EVENT_PRESSED,this._onInteractButtonPressed,this),this.interactButtonVisible=!1,t.active=!1}onEnable(){this._mobileControls.node.active=!0}onDisable(){this._mobileControls.node.active=!1}getMovement(t){return t.set(this._movementJoystick.direction.x,0,this._movementJoystick.direction.y),t}_onJumpButtonPressed(){this.emit(c.EVENT_JUMP)}_onInteractButtonPressed(){this.emit(c.EVENT_INTERACT)}}t("MobileGameInput",l);class E extends c{constructor(){super(...arguments),e(this,"_inputMap",{forward:!1,right:!1,back:!1,left:!1,jump:!1})}get isJumpPressed(){return this._inputMap.jump}onEnable(){s.on(o.EventType.KEY_DOWN,this._onKeyDown,this),s.on(o.EventType.KEY_UP,this._onKeyUp,this)}onDisable(){s.off(o.EventType.KEY_DOWN,this._onKeyDown,this),s.off(o.EventType.KEY_UP,this._onKeyUp,this),this._resetInputMap()}getMovement(t){let e=0,i=0;return this._inputMap.forward&&(i+=1),this._inputMap.back&&(i-=1),this._inputMap.right&&(e+=1),this._inputMap.left&&(e-=1),t.set(e,0,i).normalize(),t}_resetInputMap(){this._inputMap.forward=!1,this._inputMap.right=!1,this._inputMap.back=!1,this._inputMap.left=!1,this._inputMap.jump=!1}_onKeyDown(t){switch(t.keyCode){case a.KEY_W:this._inputMap.forward=!0;break;case a.KEY_D:this._inputMap.right=!0;break;case a.KEY_S:this._inputMap.back=!0;break;case a.KEY_A:this._inputMap.left=!0;break;case a.SPACE:this._inputMap.jump=!0,this.emit(c.EVENT_JUMP);break;case a.KEY_E:this.emit(c.EVENT_INTERACT)}}_onKeyUp(t){switch(t.keyCode){case a.KEY_W:this._inputMap.forward=!1;break;case a.KEY_D:this._inputMap.right=!1;break;case a.KEY_S:this._inputMap.back=!1;break;case a.KEY_A:this._inputMap.left=!1;break;case a.SPACE:this._inputMap.jump=!1}}}let m;t("DesktopGameInput",E),m=u.isMobile?t("gameInput",new l):t("gameInput",new E),i._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./BootstrapState.ts","./MainMenuState.ts","./GameplayState.ts","./WindowsManager.ts","./LoadLevelState.ts","./AudioManager.ts"],(function(e){var t,a,s,i,n,o,c,u,h,r,d,l,m;return{setters:[function(e){t=e.defineProperty},function(e){a=e.cclegacy,s=e.EventTarget,i=e.game,n=e.sys,o=e.director},function(e){c=e.StateMachine},function(e){u=e.BootstrapState},function(e){h=e.MainMenuState},function(e){r=e.GameplayState},function(e){d=e.windowsManager},function(e){l=e.LoadLevelState},function(e){m=e.audioManager}],execute:function(){a._RF.push({},"135e6MwgRVOZqj5KA5yaPWy","GameManager",void 0);let p=e("GameState",function(e){return e[e.Bootstrap=0]="Bootstrap",e[e.MainMenu=1]="MainMenu",e[e.LoadLevel=2]="LoadLevel",e[e.Gameplay=3]="Gameplay",e}({}));e("GameplayEvents",function(e){return e.SkipStage="skip-stage",e.CheckpointReached="checkpoint-reached",e.CoinCollected="coin-collected",e.RestartLevel="restart-level",e}({}));class M extends s{constructor(){super(...arguments),t(this,"canvas",void 0),t(this,"stateMachine",void 0),t(this,"hud",void 0),t(this,"loadingScreen",void 0),t(this,"mainDirectionalLight",void 0),t(this,"character",void 0),t(this,"camera",void 0),t(this,"levelData",{}),t(this,"_schedulableComponent",void 0),t(this,"_isGamePaused",!1),t(this,"_isGameplayPaused",!1)}get isPointerLocked(){return!!document.pointerLockElement}get isGameplayPaused(){return this._isGameplayPaused}init(e){this._schedulableComponent=e,this.stateMachine=new c,this.stateMachine.addState(new u),this.stateMachine.addState(new h),this.stateMachine.addState(new l),this.stateMachine.addState(new r),this.stateMachine.changeState(p.Bootstrap),i.frameRate=n.isMobile?60:120}resume(){this._isGamePaused&&(this._isGamePaused=!1,m.resume(),o.resume(),this.emit(M.EVENT_RESUME))}pause(){this._isGamePaused||(this._isGamePaused=!0,m.suspend(),o.pause(),this.emit(M.EVENT_PAUSE))}pauseGameplay(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._isGameplayPaused||(this._isGameplayPaused=!0,e&&this.hud.hide(),this.emit(M.EVENT_GAMEPLAY_PAUSE))}resumeGameplay(){this._isGameplayPaused&&(this._isGameplayPaused=!1,this.emit(M.EVENT_GAMEPLAY_RESUME))}async requestPointerLock(){n.isMobile||d.isAnyWindowOpen||(await this.canvas.requestPointerLock(),this.canvas.focus())}exitPointerLock(){n.isMobile||document.exitPointerLock()}scheduleOnce(e,t){this._schedulableComponent.scheduleOnce(e,t)}}e("GameManager",M),t(M,"EVENT_PAUSE","pause"),t(M,"EVENT_RESUME","resume"),t(M,"EVENT_GAMEPLAY_PAUSE","gameplay-pause"),t(M,"EVENT_GAMEPLAY_RESUME","gameplay-resume");e("gameManager",new M);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(a){var e,n,i,t,o,s,r,m;return{setters:[function(a){e=a.applyDecoratedDescriptor,n=a.initializerDefineProperty},function(a){i=a.cclegacy,t=a.Animation,o=a._decorator,s=a.Component},function(a){r=a.gameManager,m=a.GameManager}],execute:function(){var l,u,p,c,E;i._RF.push({},"58818GuddRNN4ut7bYLTD49","GameplayAnimation",void 0);const{ccclass:_,property:G}=o;a("GameplayAnimation",(l=_("GameplayAnimation"),u=G(t),l((E=e((c=class extends s{constructor(){super(...arguments),n(this,"animation",E,this)}onEnable(){this.animation&&(r.on(m.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),r.on(m.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this))}onDisable(){this.animation&&(r.off(m.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),r.off(m.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this))}_onGameplayPause(){this.animation.pause()}_onGameplayResume(){this.animation.resume()}}).prototype,"animation",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=c))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./GameInput.ts","./WindowsManager.ts","./PlayerProgress.ts","./SDK.ts","./MetricaUtils.ts","./AudioManager.ts","./AudioChannelTag.ts"],(function(e){var t,a,s,n,i,o,h,r,c,l,u,_,d,p,E,m,v,S,g;return{setters:[function(e){t=e.defineProperty},function(e){a=e.cclegacy,s=e.game,n=e.sys,i=e.input,o=e.Input},function(e){h=e.GameState,r=e.gameManager,c=e.GameManager,l=e.GameplayEvents},function(e){u=e.gameInput},function(e){_=e.windowsManager,d=e.WindowsManager},function(e){p=e.playerProgress},function(e){E=e.platformSDK,m=e.PlatformSDK},function(e){v=e.metricaReachGoal},function(e){S=e.audioManager},function(e){g=e.AudioChannelTag}],execute:function(){a._RF.push({},"997abjKe8BCkIuOV4mU3JDE","GameplayState",void 0);e("GameplayState",class{constructor(){t(this,"id",h.Gameplay),t(this,"_level",void 0),t(this,"_character",void 0),t(this,"_stageSkipped",!1),r.on(c.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),r.on(c.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this),r.on(l.SkipStage,(()=>{this._stageSkipped=!0;const e=this._level.nextCheckpoint;e&&(v("stage-skipped",{part:this._level.currentPartId,checkpoint:this._level.currentCheckpoint.index}),this._character.stats.clearLevelBuffs(),this._character.teleport(e.node))})),r.on(l.CheckpointReached,(e=>{this._character.setRespawnPoint(e.node),r.hud.skipStageButtonActive=!this._level.isLastCheckpoint,this._stageSkipped?this._stageSkipped=!1:E.waitingFullscreenAdv||r.scheduleOnce((()=>{E.showFullscreenAdv()}),.5)})),r.on(l.RestartLevel,(async()=>{r.hud.hide(),await r.loadingScreen.show(),p.clearLevelProgress(this._level.id),r.stateMachine.changeState(h.LoadLevel)}))}async onEnter(){this._addEventListeners(),this._level=r.levelData.currentLevel,this._character=r.character,this._character.setRespawnPoint(this._level.currentCheckpoint.node),this._character.respawn(),this._character.movementEnabled=!0,E.isFullscreenAdvShown?E.once(m.EVENT_FULLSCREEN_CLOSED,this._afterInit,this):this._afterInit()}async onExit(){this._removeEventListeners(),this._character.movementEnabled=!1,r.hud.hide(),u.enabled=!1}async _afterInit(){await r.loadingScreen.hide(),r.isGameplayPaused&&r.resumeGameplay(),r.hud.show(),r.hud.skipStageButtonActive=!this._level.isLastCheckpoint,s.canvas.focus(),r.isPointerLocked||r.requestPointerLock(),u.enabled=!0,v("gameplay-started")}_addEventListeners(){n.isMobile||i.on(o.EventType.MOUSE_DOWN,this._onMouseDown,this),r.on(c.EVENT_PAUSE,this._onGamePause,this),r.on(c.EVENT_RESUME,this._onGameResume,this),_.on(d.EVENT_WINDOW_SHOW,this._onWindowShow,this),_.on(d.EVENT_WINDOW_HIDE,this._onWindowHide,this)}_removeEventListeners(){n.isMobile||i.off(o.EventType.MOUSE_DOWN,this._onMouseDown,this),r.off(c.EVENT_PAUSE,this._onGamePause,this),r.off(c.EVENT_RESUME,this._onGameResume,this),_.off(d.EVENT_WINDOW_SHOW,this._onWindowShow,this),_.off(d.EVENT_WINDOW_HIDE,this._onWindowHide,this)}_onWindowShow(){r.hud.hide(),r.pauseGameplay()}_onWindowHide(){r.hud.show(),r.resumeGameplay()}_onGamePause(){r.isGameplayPaused||this._onGameplayPause()}_onGameResume(){r.isGameplayPaused||this._onGameplayResume()}_onGameplayPause(){u.enabled=!1,r.exitPointerLock(),S.pauseChannel(g.GAMEPLAY)}_onGameplayResume(){r.hud.show(),u.enabled=!0,r.requestPointerLock(),S.resumeChannel(g.GAMEPLAY)}_onMouseDown(){r.isPointerLocked||r.requestPointerLock()}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayTweenSystem.ts",["cc","./GameManager.ts"],(function(e){var a,t,n,s,c;return{setters:[function(e){a=e.cclegacy,t=e.System,n=e.TweenSystem},function(e){s=e.gameManager,c=e.GameManager}],execute:function(){a._RF.push({},"366cdQjRydBz5N+I8KyAxJv","GameplayTweenSystem",void 0);const r=e("GAMEPLAY_TWEEN_TAG",999);class o extends t{constructor(){super(),s.on(c.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),s.on(c.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this)}_pauseAllTweens(){const e=n.instance.ActionManager;e._hashTargets.forEach((a=>{for(let t=a.actions.length-1;t>=0;--t){const n=a.actions[t];n&&n.getTag()===r&&e.pauseTarget(a.target)}}))}_resumeAllTweens(){const e=n.instance.ActionManager;e._hashTargets.forEach((a=>{for(let t=a.actions.length-1;t>=0;--t){const n=a.actions[t];n&&n.getTag()===r&&e.resumeTarget(a.target)}}))}_onGameplayPause(){this._pauseAllTweens()}_onGameplayResume(){this._resumeAllTweens()}}e("GameplayTweenManager",o);e("gameplayTweenManager",new o);a._RF.pop()}}}));

System.register("chunks:///_virtual/Gates.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts"],(function(t){var e,i,n,o,s,a,r,c,l,h,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.defineProperty},function(t){o=t.cclegacy,s=t.CCFloat,a=t._decorator,r=t.Component,c=t.tween,l=t.Vec3},function(t){h=t.Interactable},function(t){u=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var p,_,b,f,d,y,E;o._RF.push({},"54683E06exJ96oWLgeQ1o7Q","Gates",void 0);const{ccclass:T,property:g}=a;t("Gates",(p=T("Gates"),_=g(h),b=g(s),p((y=e((d=class extends r{constructor(){super(...arguments),i(this,"interactable",y,this),i(this,"yMovement",E,this),n(this,"_initialPosition",void 0),n(this,"_closed",!0)}onLoad(){this._initialPosition=this.node.getPosition()}onEnable(){this.interactable.on(h.EVENT_INTERACT,this._onInteract,this)}onDisable(){this.interactable.off(h.EVENT_INTERACT,this._onInteract,this)}close(){this._closed||c(this.node).tag(u).to(.75,{position:this._initialPosition},{easing:"expoInOut"}).start()}_onInteract(){this.interactable.off(h.EVENT_INTERACT,this._onInteract,this),this._closed=!1,c(this.node).tag(u).by(1.5,{position:new l(0,this.yMovement,0)}).start()}}).prototype,"interactable",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(d.prototype,"yMovement",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),f=d))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/GroundParallelAccelerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterMovement.ts"],(function(r){var e,t,o,i,n,a,l,s,c,h,g,u;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.initializerDefineProperty,o=r.defineProperty},function(r){i=r.cclegacy,n=r.Collider,a=r.PhysicsSystem,l=r.CCFloat,s=r._decorator,c=r.Component,h=r.geometry,g=r.Vec3},function(r){u=r.CharacterMovement}],execute:function(){var p,d,y,_,C,f,m,T,E;i._RF.push({},"42be5wqkttMoqP+ANCzyYNQ","GroundParallelAccelerator",void 0);const{ccclass:b,property:P}=s;r("GroundParallelAccelerator",(p=b("GroundParallelAccelerator"),d=P(n),y=P({type:a.PhysicsGroup}),_=P(l),p((m=e((f=class extends c{constructor(){super(...arguments),t(this,"trigger",m,this),t(this,"staticGroup",T,this),t(this,"speed",E,this),o(this,"_ray",new h.Ray(0,0,0,0,-1,0)),o(this,"_acceleration",new g),o(this,"_characterNode",void 0),o(this,"_characterInTrigger",!1)}onEnable(){this.trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this),this.trigger.on("onControllerTriggerExit",this._onControllerTriggerExit,this)}onDisable(){this.trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this),this.trigger.off("onControllerTriggerExit",this._onControllerTriggerExit,this)}update(r){if(this._characterInTrigger&&(this._ray.o.set(this._characterNode.worldPosition),this._ray.o.y+=1,a.instance.raycastClosest(this._ray,this.staticGroup,10,!1))){const r=a.instance.raycastClosestResult,e=new g;g.projectOnPlane(e,this.node.right,r.hitNormal),e.normalize(),this._acceleration.set(e).multiplyScalar(this.speed)}}_onControllerTriggerEnter(r){const e=r.characterController.node,t=e.getComponent(u);t&&(t.addExternalAcceleration(this.node.name,this._acceleration),this._characterNode=e,this._characterInTrigger=!0)}_onControllerTriggerExit(r){const e=r.characterController.node.getComponent(u);e&&(e.removeExternalAcceleration(this.node.name),this._characterNode=null,this._characterInTrigger=!1)}}).prototype,"trigger",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(f.prototype,"staticGroup",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.PhysicsGroup.DEFAULT}}),E=e(f.prototype,"speed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),C=f))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/HideWindowOnClick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIWindow.ts"],(function(t){var n,o,e,i,s,r,c,h,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,e=t.defineProperty},function(t){i=t.cclegacy,s=t._decorator,r=t.Component,c=t.Button,h=t.NodeEventType},function(t){d=t.UIWindow}],execute:function(){var l,p,a,u,C;i._RF.push({},"c4f453uCT9LUJ624Eq571tM","HideWindowOnClick",void 0);const{ccclass:_,property:f}=s;t("HideWindowOnClick",(l=_("HideWindowOnClick"),p=f(d),l((C=n((u=class extends r{constructor(){super(...arguments),o(this,"targetWindow",C,this),e(this,"_haveButtonComponent",!1)}onLoad(){this._haveButtonComponent=!!this.getComponent(c),this._haveButtonComponent?this.node.on(c.EventType.CLICK,this._onClick,this):this.node.on(h.TOUCH_END,this._onClick,this)}onDestroy(){this._haveButtonComponent?this.node.off(c.EventType.CLICK,this._onClick,this):this.node.off(h.TOUCH_END,this._onClick,this)}_onClick(){this.targetWindow.hide()}}).prototype,"targetWindow",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u))||a));i._RF.pop()}}}));

System.register("chunks:///_virtual/HorizontalSelect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts","./Localization.ts"],(function(t){var e,i,n,o,l,s,r,u,a,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.defineProperty,n=t.initializerDefineProperty},function(t){o=t.cclegacy,l=t.CCString,s=t.Button,r=t.Label,u=t._decorator},function(t){a=t.EventifiedComponent},function(t){c=t.localization,p=t.Localization}],execute:function(){var h,d,b,_,f,v,C,E,y,x,N,g,z,I,L,m,H,S,P;o._RF.push({},"dbda7N2OulDD6M9dFt+20mH","HorizontalSelect",void 0);const{ccclass:D,property:O}=u;let A=t("HorizontalSelectItem",(h=D("HorizontalSelectItem"),d=O(l),b=O(l),h((v=e((f=class{constructor(){n(this,"labelKey",v,this),n(this,"value",C,this)}}).prototype,"labelKey",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=e(f.prototype,"value",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=f))||_));t("HorizontalSelect",(E=D("HorizontalSelect"),y=O([A]),x=O(s),N=O(s),g=O(r),E((P=class t extends a{constructor(){super(...arguments),n(this,"options",L,this),n(this,"buttonNext",m,this),n(this,"buttonPrev",H,this),n(this,"outputLabel",S,this),i(this,"_selectedIndex",0)}get value(){return this.options[this._selectedIndex].value}onLoad(){c.on(p.EVENT_LANGUAGE_CHANGED,this._updateOutput,this)}onDestroy(){c.off(p.EVENT_LANGUAGE_CHANGED,this._updateOutput,this)}onEnable(){this.buttonNext.node.on(s.EventType.CLICK,this._onNextClick,this),this.buttonPrev.node.on(s.EventType.CLICK,this._onPrevClick,this)}onDisable(){this.buttonNext.node.off(s.EventType.CLICK,this._onNextClick,this),this.buttonPrev.node.off(s.EventType.CLICK,this._onPrevClick,this)}setValue(t){for(let e=0;e<this.options.length;e++)if(this.options[e].value===t)return this._selectedIndex=e,void this._updateOutput()}_updateSelectedOption(){this._updateOutput(),this.emit(t.EVENT_CHANGE,this.value)}_updateOutput(){const t=this.options[this._selectedIndex].labelKey;this.outputLabel.string=c.t(t)}_onNextClick(){this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.options.length-1),this._updateSelectedOption()}_onPrevClick(){this._selectedIndex++,this._selectedIndex>=this.options.length&&(this._selectedIndex=0),this._updateSelectedOption()}},i(P,"EVENT_CHANGE","change"),L=e((I=P).prototype,"options",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(I.prototype,"buttonNext",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(I.prototype,"buttonPrev",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(I.prototype,"outputLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/HUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./CharacterStatBuff.ts","./BuffTimerView.ts","./WindowsManager.ts","./WindowId.ts","./CharacterStats.ts","./SDK.ts","./MetricaUtils.ts"],(function(t){var e,i,o,u,n,a,s,r,c,l,f,p,h,d,B,b,m,_,w,y,v,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.defineProperty},function(t){u=t.cclegacy,n=t.Node,a=t.UIOpacity,s=t._decorator,r=t.Component,c=t.sys,l=t.Button,f=t.input,p=t.Input,h=t.KeyCode},function(t){d=t.gameManager,B=t.GameplayEvents},function(t){b=t.CharacterBuffId},function(t){m=t.BuffTimerView},function(t){_=t.windowsManager},function(t){w=t.WindowId},function(t){y=t.CharacterStats},function(t){v=t.platformSDK},function(t){k=t.metricaReachGoal}],execute:function(){var g,C,D,S,J,A,E,R,K,N,T,F,M,O,V;u._RF.push({},"f65bcnPeqhNtonCffihrjAu","HUD",void 0);const{ccclass:H,property:L}=s;t("HUD",(g=H("HUD"),C=L(n),D=L(a),S=L(n),J=L(a),A=L(m),E=L([n]),g((N=e((K=class extends r{constructor(){super(...arguments),i(this,"skipStageButtonNode",N,this),i(this,"skipStageButtonOpacity",T,this),i(this,"doubleJumpBuffButtonNode",F,this),i(this,"doubleJumpBuffButtonOpacity",M,this),i(this,"doubleJumpBuffTimer",O,this),i(this,"keyHints",V,this),o(this,"_skipStageButtonActive",!0),o(this,"_doubleJumpBuffButtonActive",!0)}onLoad(){c.isMobile&&this._hideKeyHints(),this.skipStageButtonNode.on(l.EventType.CLICK,this._onSkipStageButtonClick,this),this.doubleJumpBuffButtonNode.on(l.EventType.CLICK,this._onDoubleJumpBuffButtonClick,this)}onEnable(){c.isMobile||f.on(p.EventType.KEY_DOWN,this._onKeyDown,this);const t=d.character;t&&(t.stats.on(y.EVENT_BUFF_APPLIED,this._onCharacterBuffApplied,this),t.stats.on(y.EVENT_BUFF_REMOVED,this._onCharacterBuffRemoved,this)),this._updateRewardButtons()}onDisable(){c.isMobile||f.off(p.EventType.KEY_DOWN,this._onKeyDown,this);const t=d.character;t&&(t.stats.off(y.EVENT_BUFF_APPLIED,this._onCharacterBuffApplied,this),t.stats.off(y.EVENT_BUFF_REMOVED,this._onCharacterBuffRemoved,this))}set skipStageButtonActive(t){d.levelData.currentLevel?.isLastCheckpoint&&t||(this._skipStageButtonActive=t,this.skipStageButtonOpacity.opacity=t?255:127.5)}set doubleJumpBuffButtonActive(t){d.character?.stats.isBuffApplied(b.RewardedDoubleJump)&&t||(this._doubleJumpBuffButtonActive=t,this.doubleJumpBuffButtonOpacity.opacity=t?255:127.5)}show(){this.node.active=!0,this.enableRewardButtons()}hide(){this.node.active=!1}disableRewardButtons(){this.skipStageButtonActive=!1,this.doubleJumpBuffButtonActive=!1}enableRewardButtons(){this.skipStageButtonActive=!0,this.doubleJumpBuffButtonActive=!0}_updateRewardButtons(){d.character?.stats.isBuffApplied(b.RewardedDoubleJump)&&this._doubleJumpBuffButtonActive&&(this.doubleJumpBuffButtonActive=!1)}_hideKeyHints(){for(const t of this.keyHints)t.active=!1}_onSkipStageButtonClick(){if(d.levelData.currentLevel?.isLastCheckpoint||!this._skipStageButtonActive)return;let t=!1;v.showRewardedVideo({onClose:()=>{t&&d.emit(B.SkipStage)},onRewarded:()=>{t=!0}})}_onDoubleJumpBuffButtonClick(){if(!this._doubleJumpBuffButtonActive)return;k("double-jump");let t=!1;v.showRewardedVideo({onClose:()=>{t&&d.character.stats.applyBuff(b.RewardedDoubleJump)},onRewarded:()=>{t=!0}})}_onKeyDown(t){switch(t.keyCode){case h.TAB:_.showWindow(w.Settings);break;case h.KEY_C:_.showWindow(w.CharacterCustomization);break;case h.KEY_F:this._onDoubleJumpBuffButtonClick();break;case h.KEY_V:this._onSkipStageButtonClick()}}_onCharacterBuffApplied(t){t===b.RewardedDoubleJump&&(this.doubleJumpBuffButtonActive=!1)}_onCharacterBuffRemoved(t){t===b.RewardedDoubleJump&&(this.doubleJumpBuffButtonActive=!0)}}).prototype,"skipStageButtonNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(K.prototype,"skipStageButtonOpacity",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(K.prototype,"doubleJumpBuffButtonNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(K.prototype,"doubleJumpBuffButtonOpacity",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(K.prototype,"doubleJumpBuffTimer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(K.prototype,"keyHints",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=K))||R));u._RF.pop()}}}));

System.register("chunks:///_virtual/Interactable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./EventifiedComponent.ts"],(function(t){var e,n,i,r,a,c,o,s,u,l;return{setters:[function(t){e=t.defineProperty,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,a=t.CCBoolean,c=t.CCString,o=t.Node,s=t._decorator},function(t){u=t.audioManager},function(t){l=t.EventifiedComponent}],execute:function(){var d,p,h,b,f,_,E,m,I,C;r._RF.push({},"0f82fd8HkFBHoCKbp6iqu6g","Interactable",void 0);const{ccclass:T,property:g}=s;t("Interactable",(d=T("Interactable"),p=g(a),h=g(c),b=g(o),d((C=class t extends l{constructor(){super(...arguments),i(this,"canBeInteractMultipleTimes",E,this),i(this,"interactSoundName",m,this),i(this,"interactPoint",I,this),e(this,"_interactCount",0),e(this,"_canBeInteracted",!0)}get interactCount(){return this._interactCount}get canBeInteracted(){return this._canBeInteracted}interact(){this._canBeInteracted&&(this.interactSoundName&&u.playSound(this.interactSoundName,{position:this.node.worldPosition}),this.canBeInteractMultipleTimes||this.disable(),this._interactCount+=1,this.emit(t.EVENT_INTERACT))}reset(){this._interactCount=0,this._canBeInteracted=!0,this.emit(t.EVENT_RESET)}disable(){this._canBeInteracted=!1}},e(C,"EVENT_INTERACT","interact"),e(C,"EVENT_RESET","reset"),E=n((_=C).prototype,"canBeInteractMultipleTimes",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=n(_.prototype,"interactSoundName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=n(_.prototype,"interactPoint",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/InteractHint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,s,l,a,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.defineProperty},function(e){r=e.cclegacy,o=e.SpriteFrame,s=e.Sprite,l=e.Label,a=e._decorator,c=e.Component,p=e.sys,u=e.tween}],execute:function(){var h,d,b,g,y,S,f,w,_,m,v;r._RF.push({},"aecc8IJD2tM5b+8S2/15EOK","InteractHint",void 0);const{ccclass:H,property:z}=a;e("InteractHint",(h=H("InteractHint"),d=z(o),b=z(o),g=z(s),y=z(l),h((w=t((f=class extends c{constructor(){super(...arguments),i(this,"keyButtonSprite",w,this),i(this,"pointingHandSprite",_,this),i(this,"icon",m,this),i(this,"label",v,this),n(this,"_pulsingTween",void 0),n(this,"_initialScale",void 0)}onLoad(){let e;e=p.isMobile?this.pointingHandSprite:this.keyButtonSprite,this.icon.spriteFrame=e;const t=this.node.getScale(this._initialScale),i=t.clone().multiplyScalar(1.1);this._pulsingTween=u(this.node).sequence(u(this.node).to(.3,{scale:i}),u(this.node).to(.3,{scale:t})).repeatForever()}showAtPosition(e){this.node.setPosition(e),this.node.active=!0,this._pulsingTween.start()}hide(){this.node.active=!1,this._pulsingTween.pause()}}).prototype,"keyButtonSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(f.prototype,"pointingHandSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(f.prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(f.prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=f))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/IState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"762e5KGyCFDh6NeiOtW187a","IState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Key.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,s,l,a,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,o=e.defineProperty},function(e){i=e.cclegacy,n=e.Collider,s=e._decorator,l=e.Component,a=e.Quat,c=e.tween,g=e.Vec3}],execute:function(){var h,u,p,d,f;i._RF.push({},"fbadfnmTO9O353vuL5l3O+7","Key",void 0);const{ccclass:C,property:y}=s;e("Key",(h=C("Key"),u=y(n),h((f=t((d=class extends l{constructor(){super(...arguments),r(this,"trigger",f,this),o(this,"_rotation",new a),o(this,"isCollected",!1)}onEnable(){this.trigger.on("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}onDisable(){this.trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter,this)}update(e){this._rotation.set(0,e,0),this.node.rotate(this._rotation)}_onControllerTriggerEnter(){this.isCollected||(this.isCollected=!0,c(this.node).to(.25,{scale:g.ZERO},{easing:"backOut",onComplete:()=>{this.node.active=!1}}).start(),this.trigger.off("onControllerTriggerEnter",this._onControllerTriggerEnter))}}).prototype,"trigger",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/KnockingVentilationDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts"],(function(t){var e,i,n,o,r,a,s,l,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.defineProperty},function(t){o=t.cclegacy,r=t.CCFloat,a=t.Vec3,s=t._decorator,l=t.Component,c=t.tween},function(t){u=t.Interactable},function(t){h=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var p,b,f,g,d,y,_,R,T,w,E,m,S,A,k;o._RF.push({},"f3580PL3sFKSKEbYT2iN2Zw","KnockingVentilationDoor",void 0);const{ccclass:D,property:z}=s;t("KnockingVentilationDoor",(p=D("KnockingVentilationDoor"),b=z(u),f=z(r),g=z(r),d=z(a),y=z(r),_=z(a),p((w=e((T=class extends l{constructor(){super(...arguments),i(this,"interactable",w,this),i(this,"hitsToOpen",E,this),i(this,"hitSpeed",m,this),i(this,"hitRotation",S,this),i(this,"openSpeed",A,this),i(this,"openRotation",k,this),n(this,"_initialRotation",new a)}onLoad(){this._initialRotation.set(this.node.eulerAngles)}onEnable(){this.interactable.on(u.EVENT_INTERACT,this._onInteract,this)}onDisable(){this.interactable.off(u.EVENT_INTERACT,this._onInteract,this)}_onInteract(){if(this.interactable.interactCount>=this.hitsToOpen)return this.interactable.disable(),void c(this.node).tag(h).to(this.openSpeed,{eulerAngles:this.openRotation},{easing:"backOut"}).start();c(this.node).tag(h).to(this.hitSpeed,{eulerAngles:this.hitRotation},{easing:"backOut"}).to(this.hitSpeed,{eulerAngles:this._initialRotation},{easing:"backOut"}).start()}}).prototype,"interactable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(T.prototype,"hitsToOpen",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),m=e(T.prototype,"hitSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),S=e(T.prototype,"hitRotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(0,0,0)}}),A=e(T.prototype,"openSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),k=e(T.prototype,"openRotation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(0,0,0)}}),R=T))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ladder.ts",["cc"],(function(e){var c,t,r;return{setters:[function(e){c=e.cclegacy,t=e.Component,r=e._decorator}],execute:function(){var s;c._RF.push({},"b97catXFBpCS4sKFZEaCl7H","Ladder",void 0);const{ccclass:a,property:n}=r;e("Ladder",a("Ladder")(s=class extends t{})||s);c._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelPart.ts","./PlaythroughMode.ts","./Levels.ts","./AssetProviding.ts","./Checkpoint.ts","./PlayerProgress.ts","./GameManager.ts","./MetricaUtils.ts"],(function(t){var e,r,s,i,o,n,a,h,c,l,d,p,_,u;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy,s=t.EventTarget,i=t.instantiate,o=t.Prefab},function(t){n=t.LevelPart},function(t){a=t.PlaythroughMode},function(t){h=t.levelsPartConfigs},function(t){c=t.loadBundle},function(t){l=t.CHECKPOINT_EVENT_REACHED},function(t){d=t.playerProgress},function(t){p=t.gameManager,_=t.GameplayEvents},function(t){u=t.metricaReachGoal}],execute:function(){r._RF.push({},"6b513fhbpZMAIonO0t67RB8","Level",void 0);t("Level",class extends s{get id(){return this._id}constructor(t,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Normal;super(),e(this,"_id",void 0),e(this,"_partsData",void 0),e(this,"_playthroughMode",void 0),e(this,"_scene",void 0),e(this,"_progress",void 0),e(this,"_levelParts",[]),e(this,"_currentLevelPart",void 0),this._id=t,this._partsData=h.get(this._id),this._playthroughMode=s,this._scene=r,this._tryLoadProgress()}get isLastCheckpoint(){return!(this._partsData.findIndex((t=>t.id===this._currentLevelPart.partId))<this._partsData.length-1)&&this._progress.checkpoint===this._currentLevelPart.checkpoints.length-1}get currentCheckpoint(){return this._currentLevelPart.getCheckpointByIndex(this._progress.checkpoint)}get nextCheckpoint(){const t=this._currentLevelPart.getCheckpointByIndex(this._progress.checkpoint+1);if(t)return t;const e=this._levelParts.findIndex((t=>t.partId===this._currentLevelPart.partId));return e+1<this._levelParts.length?this._levelParts[e+1].getCheckpointByIndex(0):void 0}get currentPartId(){return this._currentLevelPart.partId}async init(){const t=[],e=this._partsData.findIndex((t=>t.id===this._progress.part));t.push(this._partsData[e]),e+1<this._partsData.length&&t.push(this._partsData[e+1]);for(const e of t){const t=await this._loadPart(e);this._progress.part===e.id&&(this._currentLevelPart=t,this._currentLevelPart.showTransitionNode())}p.on(_.CoinCollected,this._onCoinCollected,this)}destroy(){p.off(_.CoinCollected,this._onCoinCollected,this);for(const t of this._levelParts)t.off(l,this._onCheckpointReached,this),t.node.destroy()}async _loadPart(t){const e=await c(t.bundleName,!0),r=await this._loadScenePrefabFromBundle(e,t.pathToScenePrefab),s=i(r),o=s.getComponent(n);o||console.error(`Error while loading level part, level id - [${t.id}]`),s.setPosition(t.position.x,t.position.y,t.position.z),s.setRotationFromEuler(t.rotation.x,t.rotation.y,t.rotation.z);let a=-1;return this._progress.part===t.id&&(a=this._progress.checkpoint),await o.init(t.id,a,t.coinIdPrefix,this._progress.collectedCoins),o.on(l,this._onCheckpointReached,this),this._scene.addChild(s),this._levelParts.push(o),o}_loadScenePrefabFromBundle(t,e){return new Promise(((r,s)=>{t.load(e,o,((t,e)=>{t?s(t):r(e)}))}))}_tryLoadProgress(){if(this._playthroughMode===a.Speedrun)return void(this._progress={id:this._id,part:this._partsData[0].id,checkpoint:0,collectedCoins:[]});const t=d.getLevelProgress(this._id);if(t)return void(this._progress=t);const e={id:this._id,part:this._partsData[0].id,checkpoint:0,collectedCoins:[]};d.addNewLevelProgress(e),this._progress=e}_onCheckpointReached(t){const e=t.checkpoint;if(this._progress.checkpoint=e.index,this._currentLevelPart.partId!==t.levelPart.partId){const e=this._currentLevelPart.partId;u(`${e}_completed`),this._progress.part=t.levelPart.partId;const r=this._partsData.findIndex((e=>e.id===t.levelPart.partId)),s=r+1>=this._partsData.length;if(this._currentLevelPart.off(l,this._onCheckpointReached,this),this._currentLevelPart.node.active=s,this._currentLevelPart=t.levelPart,!s){this._currentLevelPart.showTransitionNode();const t=this._partsData[r+1];this._loadPart(t)}}this._playthroughMode!==a.Speedrun&&d.save(),p.emit(_.CheckpointReached,e)}_onCoinCollected(t){this._progress.collectedCoins.push(t)}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelPart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Checkpoint.ts","./EventifiedComponent.ts","./AssetProviding.ts","./Coin.ts"],(function(t){var i,e,n,o,s,c,r,h,a,l,d,p,u;return{setters:[function(t){i=t.defineProperty,e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,s=t.Node,c=t._decorator,r=t.Prefab,h=t.instantiate},function(t){a=t.Checkpoint,l=t.CHECKPOINT_EVENT_REACHED},function(t){d=t.EventifiedComponent},function(t){p=t.getAssetFromResources},function(t){u=t.Coin}],execute:function(){var f,C,P,k,v,_,g,y,E,N;o._RF.push({},"1868a5a5+VEq4w2KPrUtDYZ","LevelPart",void 0);const{ccclass:b,property:m}=c;t("LevelPart",(f=b("LevelPart"),C=m(s),P=m([a]),k=m([s]),f((N=class t extends d{constructor(){super(...arguments),n(this,"transitionNode",g,this),n(this,"checkpoints",y,this),n(this,"coinPoints",E,this),i(this,"partId",void 0),i(this,"initialized",!1)}onDestroy(){for(const t of this.checkpoints)t.off(l,this._onCheckpointReached,this)}async init(i,e,n,o){this.partId=i;for(let t=0;t<this.checkpoints.length;t++){if(t<=e)continue;const i=this.checkpoints[t];i.init(t),i.on(l,this._onCheckpointReached,this)}p("Coin",r).then((t=>{t instanceof r&&this._addCoins(t,n,o)})),this.initialized=!0,this.emit(t.EVENT_INIT)}getCheckpointByIndex(t){return this.checkpoints[t]}showTransitionNode(){this.transitionNode&&(this.transitionNode.active=!0)}_addCoins(t,i){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.length>0;for(let o=0;o<this.coinPoints.length;o++){const s=`${i}_${o}`;if(n&&e.includes(s))continue;const c=h(t),r=c.getComponent(u),a=this.coinPoints[o].worldPosition;r&&(r.id=s),this.node.addChild(c),c.setWorldPosition(a.x,a.y+1,a.z)}}_onCheckpointReached(t){const i={levelPart:this,checkpoint:t};t.off(l,this._onCheckpointReached,this),this.emit(l,i)}},i(N,"EVENT_INIT","init"),g=e((_=N).prototype,"transitionNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(_.prototype,"checkpoints",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(_.prototype,"coinPoints",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=_))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/Levels.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"8e2a8Ae4+pMR6cywtNfmbOC","Levels",void 0);const o=e("LevelName",{EscapeFromPrison:"escape-from-prison"});e("levelsPartConfigs",new Map).set(o.EscapeFromPrison,[{id:"prison",bundleName:"prison",pathToScenePrefab:"Prison",coinIdPrefix:"pr",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}},{id:"sewerage",bundleName:"sewerage",pathToScenePrefab:"Sewerage",coinIdPrefix:"sw",position:{x:-45.3946,y:-44.2591,z:21.0685},rotation:{x:0,y:90,z:0}},{id:"dungeon",bundleName:"dungeon",pathToScenePrefab:"Dungeon",coinIdPrefix:"dn",position:{x:367.003,y:-116.973,z:-37.377},rotation:{x:0,y:180,z:0}},{id:"telephones",bundleName:"telephones",pathToScenePrefab:"Telephones",coinIdPrefix:"tp",position:{x:567.981,y:-136.93,z:-67.8},rotation:{x:0,y:90,z:0}},{id:"vent",bundleName:"vent",pathToScenePrefab:"Vent",coinIdPrefix:"vt",position:{x:413.186,y:-61.12,z:68.12},rotation:{x:0,y:90,z:0}},{id:"kitchen",bundleName:"kitchen",pathToScenePrefab:"Kitchen",coinIdPrefix:"kt",position:{x:425.37,y:149.916,z:564.15},rotation:{x:0,y:180,z:0}},{id:"prisonExit",bundleName:"prisonExit",pathToScenePrefab:"PrisonExit",coinIdPrefix:"pe",position:{x:611.68,y:294.949,z:513.531},rotation:{x:0,y:-90,z:0}}]),n._RF.pop()}}}));

System.register("chunks:///_virtual/Lever.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts"],(function(t){var e,i,n,o,r,a,s,l,c,h,u,p,b,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.defineProperty},function(t){o=t.cclegacy,r=t.Node,a=t.CCFloat,s=t._decorator,l=t.Component,c=t.Quat,h=t.tween,u=t.Vec3,p=t.Tween},function(t){b=t.Interactable},function(t){_=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var m,E,R,f,y,T,v,g,P;o._RF.push({},"b5b21yKtVNCD7tezPMYmGc7","Lever",void 0);const{ccclass:d,property:A}=s;t("Lever",(m=d("Lever"),E=A(b),R=A(r),f=A(a),m((v=e((T=class extends l{constructor(){super(...arguments),i(this,"interactable",v,this),i(this,"armPivot",g,this),i(this,"zRotation",P,this),n(this,"_initialArmRotation",new c)}onLoad(){this.armPivot.getWorldRotation(this._initialArmRotation),this.interactable.on(b.EVENT_INTERACT,this._onInteract,this),this.interactable.on(b.EVENT_RESET,this._onReset,this)}onDestroy(){this.interactable.off(b.EVENT_INTERACT,this._onInteract,this),this.interactable.off(b.EVENT_RESET,this._onReset,this)}_onInteract(){h(this.armPivot).tag(_).by(.5,{eulerAngles:new u(0,0,this.zRotation)},{easing:"expoIn"}).start()}_onReset(){p.stopAllByTarget(this.armPivot),this.armPivot.setWorldRotation(this._initialArmRotation)}}).prototype,"interactable",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(T.prototype,"armPivot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(T.prototype,"zRotation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-80}}),y=T))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LiftingPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./AudioManager.ts","./GameplayTweenSystem.ts"],(function(t){var e,i,n,a,o,r,l,s,c,u,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.CCFloat,o=t.Vec3,r=t._decorator,l=t.Component,s=t.Quat,c=t.tween},function(t){u=t.Interactable},function(t){f=t.audioManager},function(t){p=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var g,h,b,d,y,m,E,_,w,P,R;n._RF.push({},"3d3913+ZnhFM5vQBNnt6jLP","LiftingPlatform",void 0);const{ccclass:T,property:v}=r;t("LiftingPlatform",(g=T("LiftingPlatform"),h=v(u),b=v(a),d=v(a),y=v(o),g((_=e((E=class extends l{constructor(){super(...arguments),i(this,"interactable",_,this),i(this,"liftingSpeed",w,this),i(this,"delay",P,this),i(this,"targetRotation",R,this)}onEnable(){this.interactable.on(u.EVENT_INTERACT,this._activate,this)}onDisable(){this.interactable.off(u.EVENT_INTERACT,this._activate,this)}_activate(){const t=s.fromEuler(new s,this.targetRotation.x,this.targetRotation.y,this.targetRotation.z);c(this.node).tag(p).delay(this.delay).to(this.liftingSpeed,{rotation:t},{easing:"cubicInOut",onStart:()=>{f.playSound("lifting-platform",{position:this.node.worldPosition})}}).start()}}).prototype,"interactable",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(E.prototype,"liftingSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),P=e(E.prototype,"delay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(E.prototype,"targetRotation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new o(0,0,0)}}),m=E))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,a,c,o,n,r,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,a=t.defineProperty},function(t){c=t.cclegacy,o=t.UIOpacity,n=t._decorator,r=t.Component,s=t.tween}],execute:function(){var p,l,u,y,d;c._RF.push({},"dae60tM1T5AMZPkpgNLazh8","LoadingScreen",void 0);const{ccclass:h,property:g}=n;t("LoadingScreen",(p=h("LoadingScreen"),l=g(o),p((d=i((y=class extends r{constructor(){super(...arguments),e(this,"uiOpacity",d,this),a(this,"_opacity",void 0)}onLoad(){this._opacity=this.uiOpacity.opacity}async show(){this.node.active=!0,await new Promise((t=>{s(this.uiOpacity).to(.75,{opacity:255}).call((()=>{t()})).start()}))}async hide(){await new Promise((t=>{s(this.uiOpacity).to(.75,{opacity:0}).call((()=>{t(),this.node.active=!1})).start()}))}}).prototype,"uiOpacity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadLevelState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WindowsManager.ts","./GameManager.ts","./NavMeshSystem.ts","./AudioManager.ts","./UIManager.ts","./WindowId.ts","./Level.ts","./Levels.ts","./Character.ts","./CustomizationWindow.ts","./HUD.ts","./AudioChannelTag.ts","./AssetProviding.ts"],(function(e){var t,a,n,o,i,s,d,r,c,l,u,v,h,m,f,L,g;return{setters:[function(e){t=e.defineProperty},function(e){a=e.cclegacy,n=e.director},function(e){o=e.windowsManager},function(e){i=e.GameState,s=e.gameManager},function(e){d=e.navMeshSystem},function(e){r=e.audioManager},function(e){c=e.uiManager},function(e){l=e.WindowId},function(e){u=e.Level},function(e){v=e.LevelName},function(e){h=e.Character},function(e){m=e.CustomizationWindow},function(e){f=e.HUD},function(e){L=e.AudioChannelTag},function(e){g=e.loadPrefabAndInstantiate}],execute:function(){a._RF.push({},"98d18Cbj7ZHUbdqSjE+hE74","LoadLevelState",void 0);e("LoadLevelState",class{constructor(){t(this,"id",i.LoadLevel),t(this,"_scene",void 0),t(this,"_firstLoad",!0)}async onEnter(){if(o.hideActiveWindow(),this._scene=n.getScene(),this._firstLoad){this._loadSounds(),this._registerWindows(),await d.initialize(),await this._createCharacter();const e=await g("ui/HUD");e.active=!1,c.rootNode.addChild(e),s.hud=e.getComponent(f),this._firstLoad=!1}await this._initLevel(),s.stateMachine.changeState(i.Gameplay)}async _initLevel(){s.levelData.currentLevel&&s.levelData.currentLevel.destroy();const e=new u(v.EscapeFromPrison,this._scene);await e.init(),s.levelData.currentLevel=e}async _registerWindows(){const e=[{id:l.CharacterCustomization,pathToPrefab:"ui/customization-window/Customization Window",componentClass:m}];for(const t of e){const e=await g(t.pathToPrefab),a=e.getComponent(t.componentClass);e.active=!1,o.registerWindow(t.id,a),c.addWindowNode(e)}}async _createCharacter(){const e=await g("characters/Character"),t=e.getComponent(h);await t.init(s.camera.node),this._scene.addChild(e),t.movementEnabled=!1,s.camera.thirdPerson.setTarget(e),s.character=t}_loadSounds(){r.addSound("coin","sounds/level/coin",L.GAMEPLAY,{volume:.2}),r.addSound("button-press","sounds/level/button-press",L.GAMEPLAY,{volume:.2}),r.addSound("hatch-open","sounds/level/hatch-open",L.GAMEPLAY,{volume:.5}),r.addSound("metal-hit","sounds/level/metal-hit",L.GAMEPLAY,{volume:.1}),r.addSound("lifting-platform","sounds/level/lifting-platform",L.GAMEPLAY,{volume:.1}),r.addSound("valve-squeak","sounds/level/valve-squeak",L.GAMEPLAY,{volume:.25})}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/Localization.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Translations.ts"],(function(t){var n,i,e,a;return{setters:[function(t){n=t.defineProperty},function(t){i=t.cclegacy,e=t.EventTarget},function(t){a=t.translations}],execute:function(){i._RF.push({},"545eca+R+NNsIm9BXcQcfuU","Localization",void 0);class r extends e{constructor(){super(...arguments),n(this,"_currentLanguage",void 0),n(this,"_translations",a),n(this,"_currentTranslation",void 0),n(this,"_initialized",!1)}get initialized(){return this._initialized}get currentLanguage(){return this._currentLanguage}init(t){this.changeLanguage(t),this._initialized=!0,this.emit(r.EVENT_INITIALIZED)}changeLanguage(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentLanguage!==t){if(this._checkLanguage(t))this._currentLanguage=t;else{let n;console.info(`Language "${t}" not found`),n="be"===t||"kk"===t||"uk"===t||"uz"===t?"ru":"en",console.info(`Falling back to "${n}"`),this._currentLanguage=n}this._currentTranslation=this._translations[this._currentLanguage],n||this.emit(r.EVENT_LANGUAGE_CHANGED,this._currentLanguage)}}t(t){return function(t,n){const i=n.split(".");let e=t;for(const t of i){if(!e)return null;e=e[t]}return e}(this._currentTranslation,t)||t}_checkLanguage(t){return!!this._translations[t]}}t("Localization",r),n(r,"EVENT_LANGUAGE_CHANGED","language-changed"),n(r,"EVENT_INITIALIZED","initialized");t("localization",new r);i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Localization.ts"],(function(e){var t,i,a,l,n,o,r,s,c,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.defineProperty},function(e){l=e.cclegacy,n=e.Label,o=e.CCString,r=e.CCBoolean,s=e._decorator,c=e.Component},function(e){p=e.localization,b=e.Localization}],execute:function(){var u,h,L,y,_,d,f,g,z;l._RF.push({},"67d28C1n3FMVIvO/KpSbNmz","LocalizationLabel",void 0);const{ccclass:E,property:C}=s;e("LocalizationLabel",(u=E("LocalizationLabel"),h=C(n),L=C(o),y=C(r),u((f=t((d=class extends c{constructor(){super(...arguments),i(this,"label",f,this),i(this,"labelKey",g,this),i(this,"uppercaseText",z,this),a(this,"_labelKey",void 0)}onLoad(){this._labelKey=this.labelKey?this.labelKey:this.label.string,this._labelKey&&(p.initialized?this._updateLabelString():p.once(b.EVENT_INITIALIZED,this._updateLabelString,this),p.on(b.EVENT_LANGUAGE_CHANGED,this._updateLabelString,this))}onDestroy(){p.off(b.EVENT_LANGUAGE_CHANGED,this._updateLabelString,this)}_updateLabelString(){let e=p.t(this._labelKey);e&&this.uppercaseText&&(e=e.toUpperCase()),this.label.string=e}}).prototype,"label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(d.prototype,"labelKey",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=t(d.prototype,"uppercaseText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=d))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Localization.ts"],(function(e){var t,i,r,a,n,o,p,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e.Sprite,n=e.SpriteFrame,o=e._decorator,p=e.Component},function(e){s=e.localization,l=e.Localization}],execute:function(){var c,u,h,S,m,F,b,_,d,z,f;r._RF.push({},"456a8+7yE5Pd6XRnFkoY8qc","LocalizationSprite",void 0);const{ccclass:E,property:L}=o;e("LocalizationSprite",(c=E("LocalizationSprite"),u=L(a),h=L(n),S=L(n),m=L(n),c((_=t((b=class extends p{constructor(){super(...arguments),i(this,"sprite",_,this),i(this,"ruSpriteFrame",d,this),i(this,"enSpriteFrame",z,this),i(this,"trSpriteFrame",f,this)}onLoad(){s.initialized?this._updateSprite():s.once(l.EVENT_INITIALIZED,this._updateSprite,this),s.on(l.EVENT_LANGUAGE_CHANGED,this._updateSprite,this)}onDestroy(){s.off(l.EVENT_LANGUAGE_CHANGED,this._updateSprite,this)}_updateSprite(){switch(s.currentLanguage){case"ru":this.sprite.spriteFrame=this.ruSpriteFrame;break;case"en":this.sprite.spriteFrame=this.enSpriteFrame;break;case"tr":this.sprite.spriteFrame=this.trSpriteFrame}}}).prototype,"sprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(b.prototype,"ruSpriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(b.prototype,"enSpriteFrame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(b.prototype,"trSpriteFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=b))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/LocalProgressStorage.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b3259+wLshOtbjCkSWO5JXv","LocalProgressStorage",void 0);const s="bp-save";e("LocalProgressStorage",class{save(e){const t=JSON.stringify(e,void 0,2);localStorage.setItem(s,t)}load(){const e=localStorage.getItem(s);if(e)return JSON.parse(e)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./EventifiedComponent.ts","./GameplayAnimation.ts","./GameplayTweenSystem.ts","./PlayerPreferences.ts","./PlaythroughMode.ts","./MetricaUtils.ts","./AssetBundleName.ts","./GameManager.ts","./BootstrapState.ts","./GameplayState.ts","./LoadLevelState.ts","./MainMenuState.ts","./GameInput.ts","./Localization.ts","./LocalizationLabel.ts","./LocalizationSprite.ts","./Translations.ts","./EmptyPlayerProgress.ts","./PlayerProgress.ts","./PlayerProgressTypes.ts","./Wallet.ts","./LocalProgressStorage.ts","./ProgressStorage.ts","./SDK.ts","./TestingSDK.ts","./YandexGamesSDK.ts","./AudioBufferCache.ts","./AudioChannel.ts","./AudioChannelTag.ts","./AudioManager.ts","./DistanceModel.ts","./GameAudioListener.ts","./PlaySoundOnClick.ts","./Sound.ts","./SoundInstance.ts","./SoundInstance3D.ts","./IState.ts","./StateMachine.ts","./UIManager.ts","./WindowId.ts","./WindowsManager.ts","./Billboard.ts","./ChangeMaterialColor.ts","./GameBootstrapper.ts","./Barry.ts","./BarryTrigger.ts","./AlarmBarryState.ts","./BarryBaseState.ts","./CatchBarryState.ts","./ChaseBarryState.ts","./PatrolBarryState.ts","./RestBarryState.ts","./ReturnToSpawnBarryState.ts","./BuffEffect.ts","./BuffTrigger.ts","./ThirdPersonCamera.ts","./ThirdPersonCameraInput.ts","./Character.ts","./CharacterAnimator.ts","./CharacterDeathEffect.ts","./CharacterInteraction.ts","./CharacterMovement.ts","./CharacterStats.ts","./StepSounds.ts","./CharacterAppearance.ts","./CharacterStatBuff.ts","./CharacterStatName.ts","./ActivatingButton.ts","./Door.ts","./Interactable.ts","./KnockingVentilationDoor.ts","./LiftingPlatform.ts","./Valve.ts","./WaterLevelController.ts","./Bridge.ts","./Checkpoint.ts","./CloseGatesTrigger.ts","./Coin.ts","./DamageTrigger.ts","./Elevator.ts","./Final.ts","./Gates.ts","./GroundParallelAccelerator.ts","./Key.ts","./Ladder.ts","./Lever.ts","./MovementImpulse.ts","./Rotating.ts","./SpikesTrap.ts","./SteamPipe.ts","./TimedObject.ts","./VelocityAccelerator.ts","./Level.ts","./LevelPart.ts","./Levels.ts","./BasePostLevelPartInitializer.ts","./PrisonExitLevelPart.ts","./PrisonLevelPart.ts","./SewerageLevelPart.ts","./NavMeshSurface.ts","./NavMeshSystem.ts","./AdvCountdown.ts","./BuffTimerView.ts","./CustomResolutionPolicy.ts","./InteractHint.ts","./LoadingScreen.ts","./UIBackdrop.ts","./UIUtils.ts","./HideWindowOnClick.ts","./HorizontalSelect.ts","./PointerOnMouseEnter.ts","./ShowWindowOnClick.ts","./Slider.ts","./SoundOnHover.ts","./UIWindow.ts","./MobileControls.ts","./TouchButton.ts","./TouchJoystick.ts","./TabButton.ts","./TabContent.ts","./Tabs.ts","./HUD.ts","./CharacterSkinSelect.ts","./MainMenu.ts","./WalletView.ts","./RespawnWindow.ts","./SettingsWindow.ts","./UpdateWindow.ts","./WinWindow.ts","./CustomizationItem.ts","./CustomizationWindow.ts","./CustomizationWindowStyles.ts","./AssetProviding.ts","./Math.ts","./StaticBatchGroup.ts","./CharacterControllerDebugRenderer.ts","./DebugDraw.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts","./CharacterSkinSelect.ts","./PlayerProgress.ts","./GameManager.ts","./MetricaUtils.ts"],(function(t){var e,i,a,r,n,o,s,c,l,h,u,d,p,f,_;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Prefab,o=t.Node,s=t._decorator,c=t.Button,l=t.instantiate,h=t.Color},function(t){u=t.EventifiedComponent},function(t){d=t.CharacterSkinSelect},function(t){p=t.playerProgress},function(t){f=t.gameManager},function(t){_=t.metricaReachGoal}],execute:function(){var S,b,m,g,C,E,v,y,M,N,P,T;r._RF.push({},"ebc48ZRUO1PnKsLs7Nb1hJy","MainMenu",void 0);const{ccclass:G,property:k}=s;t("MainMenu",(S=G("MainMenu"),b=k(n),m=k(o),g=k(o),C=k(o),S((T=class t extends u{constructor(){super(...arguments),a(this,"characterSelectPrefab",y,this),a(this,"actionsNode",M,this),a(this,"startButtonNode",N,this),a(this,"settingsButtonNode",P,this),e(this,"_characterSelect",void 0)}onEnable(){this.startButtonNode.on(c.EventType.CLICK,this._onStartGameClick,this)}onDisable(){this.startButtonNode.off(c.EventType.CLICK,this._onStartGameClick,this)}show(){if(!p.haveSavedProgress){const t=l(this.characterSelectPrefab);this._characterSelect=t.getComponent(d),this._characterSelect.once(d.EVENT_CHARACTER_SELECTED,this._onCharacterSelected,this),t.active=!1,this.node.addChild(t)}this.node.active=!0}hide(){this.node.active=!1}_startGame(){this.emit(t.EVENT_START_GAME)}_onStartGameClick(){if(this._characterSelect)return this.actionsNode.active=!1,f.mainDirectionalLight.color=h.WHITE,void this._characterSelect.show();this._startGame()}_onCharacterSelected(t){p.progress.customization.selected.skin=t,_("character-selected",{skin:t}),this._startGame()}},e(T,"EVENT_START_GAME","start-game"),y=i((v=T).prototype,"characterSelectPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(v.prototype,"actionsNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(v.prototype,"startButtonNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(v.prototype,"settingsButtonNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=v))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainMenu.ts","./GameManager.ts","./SDK.ts","./WindowsManager.ts","./AudioManager.ts","./AudioChannelTag.ts","./MetricaUtils.ts"],(function(n){var e,i,t,a,o,s,c,u,d,r,h,M,m;return{setters:[function(n){e=n.defineProperty},function(n){i=n.cclegacy,t=n.find,a=n.Color},function(n){o=n.MainMenu},function(n){s=n.GameState,c=n.gameManager},function(n){u=n.platformSDK},function(n){d=n.windowsManager,r=n.WindowsManager},function(n){h=n.audioManager},function(n){M=n.AudioChannelTag},function(n){m=n.metricaReachGoal}],execute:function(){i._RF.push({},"af179QEGDlJuYMQTQQ3rbnI","MainMenuState",void 0);n("MainMenuState",class{constructor(){e(this,"id",s.MainMenu),e(this,"_mainMenu",void 0),e(this,"_sceneEnvironment",void 0),e(this,"_initialized",!1);const n=t("UI Root Canvas/Main Menu");this._mainMenu=n.getComponent(o),this._sceneEnvironment=t("Main Menu Environment")}async onEnter(){if(!this._initialized){h.addSound("music","music/music",M.MUSIC,{volume:.2,instancesLimit:1}).then((n=>{n.play({loop:!0})})),u.fireReady();const n=document.querySelector("#gameLoadingScreen");n&&(n.classList.add("be-loading-screen--hide"),n.addEventListener("transitionend",(()=>{n.remove()})),setTimeout((()=>{const n=document.querySelector("#gameLoadingScreen");n&&(n.hidden=!0,n.style.display="none",n.remove())}),500)),this._initialized=!0,m("game-menu-ready")}this._mainMenu.show(),this._mainMenu.once(o.EVENT_START_GAME,this._startGame,this),d.on(r.EVENT_WINDOW_SHOW,this._onWindowShow,this),d.on(r.EVENT_WINDOW_HIDE,this._onWindowHide,this)}onExit(){d.off(r.EVENT_WINDOW_SHOW,this._onWindowShow,this),d.off(r.EVENT_WINDOW_HIDE,this._onWindowHide,this),this._mainMenu.hide()}async _startGame(){u.showFullscreenAdv(!1),await c.loadingScreen.show(),this._sceneEnvironment.active=!1,c.mainDirectionalLight.color=a.WHITE,c.stateMachine.changeState(s.LoadLevel)}_onWindowShow(){this._mainMenu.hide()}_onWindowHide(){this._mainMenu.show()}}),i._RF.pop()}}}));

System.register("chunks:///_virtual/Math.ts",["cc"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy,n=t.math}],execute:function(){function a(t,e){let a=n.repeat(e-t,360);return a>180&&(a-=360),a}function c(t,e,a,c,u,o){const r=2/(c=Math.max(1e-4,c)),l=r*o,s=1/(1+l+.48*l*l+.235*l*l*l);let i=t-e;const m=e,h=u*c;i=n.clamp(i,-h,h),e=t-i;const p=(a.value+r*i)*o;a.value=(a.value-r*p)*s;let v=e+(i+p)*s;return m-t>0==v>m&&(v=m,a.value=(v-m)/o),v}t({deltaAngle:a,smoothDamp:c,smoothDampAngle:function(t,e,n,u,o){return e=t+a(t,e),c(t,e,n,u,1/0,o)}}),e._RF.push({},"154c9DWnaNPa6LJkmlyrEIG","Math",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/MetricaUtils.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){t("metricaReachGoal",(function(t,c){if(!window.ym)return;window.ym(99965936,"reachGoal",t,c)})),c._RF.push({},"bf7aaLO7ppFnbSw0dOLwJL3","MetricaUtils",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/MobileControls.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TouchJoystick.ts","./TouchButton.ts"],(function(t){var e,o,i,n,r,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t._decorator,r=t.Component},function(t){s=t.TouchJoystick},function(t){c=t.TouchButton}],execute:function(){var u,l,a,p,b,h,m,y,B;i._RF.push({},"43c27ocbn1J3res7sUvA4kB","MobileControls",void 0);const{ccclass:f,property:v}=n;t("MobileControls",(u=f("MobileControls"),l=v(s),a=v(c),p=v(c),u((m=e((h=class extends r{constructor(){super(...arguments),o(this,"movementJoystick",m,this),o(this,"jumpButton",y,this),o(this,"interactButton",B,this)}onDisable(){this.movementJoystick.reset(),this.jumpButton.reset(),this.interactButton.reset()}set interactButtonVisible(t){this.interactButton.node.active=t}}).prototype,"movementJoystick",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(h.prototype,"jumpButton",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(h.prototype,"interactButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/MovementImpulse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VelocityAccelerator.ts","./CharacterMovement.ts"],(function(e){var t,r,i,o,n,s,l,c,a,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,i=e.defineProperty},function(e){o=e.cclegacy,n=e.Collider,s=e.CCFloat,l=e._decorator,c=e.Component,a=e.Vec3},function(e){u=e.VelocityAccelerationDirection},function(e){p=e.CharacterMovement}],execute:function(){var h,g,m,d,f,y,b,C,v;o._RF.push({},"074e3vql01BJpOu7I7m887H","MovementImpulse",void 0);const{ccclass:_,property:w}=l;e("MovementImpulse",(h=_("MovementImpulse"),g=w(n),m=w({type:u}),d=w(s),h((b=t((y=class extends c{constructor(){super(...arguments),r(this,"trigger",b,this),r(this,"direction",C,this),r(this,"impulseForce",v,this),i(this,"_impulse",new a)}onLoad(){let e;switch(this.direction){case u.Up:e=this.node.up;break;case u.Right:e=this.node.right;break;case u.Forward:e=this.node.forward}this._impulse.set(e).multiplyScalar(this.impulseForce)}onEnable(){this.trigger.on("onControllerTriggerEnter",this._onCharacterTriggerEnter,this)}onDisable(){this.trigger.off("onControllerTriggerEnter",this._onCharacterTriggerEnter,this)}_onCharacterTriggerEnter(e){const t=e.characterController.node.getComponent(p);t&&(t.resetGravity(),t.applyImpulse(this._impulse))}}).prototype,"trigger",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"direction",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Forward}}),v=t(y.prototype,"impulseForce",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/NavMeshSurface.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs","./NavMeshSystem.ts"],(function(e){var s,t,n,a,i,o,r,h,u,c,v,M,l,d,p,f,N;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.defineProperty},function(e){a=e.cclegacy,i=e.BufferAsset,o=e.CCBoolean,r=e._decorator,h=e.Component,u=e.MeshRenderer,c=e.Vec3,v=e.Mesh,M=e.utils,l=e.Node,d=e.Material,p=e.Color},function(e){f=e.NavMeshQuery},function(e){N=e.navMeshSystem}],execute:function(){var _,g,b,y,D,m,w;a._RF.push({},"012c7BxEb9AzrKkwwhqK+ge","NavMeshSurface",void 0);const{ccclass:C,property:S}=r;e("NavMeshSurface",(_=C("NavMeshSurface"),g=S({type:i}),b=S(o),_((m=s((D=class extends h{constructor(){super(...arguments),t(this,"navMeshData",m,this),t(this,"showDebugNavMesh",w,this),n(this,"_navMesh",void 0),n(this,"_navMeshQuery",void 0),n(this,"_debugNavMeshData",void 0)}onLoad(){this.navMeshData&&(this._navMesh=this._loadSavedNavMesh(),this._navMeshQuery=new f(this._navMesh),this.showDebugNavMesh&&this._createDebugNavMesh())}onDestroy(){this._navMeshQuery&&this._navMeshQuery.destroy(),this._navMesh&&this._navMesh.destroy()}findClosestPoint(e,s){return this._navMeshQuery.findClosestPoint(e,{halfExtents:s??{x:1,y:1,z:1}})}findPath(e,s){return this._navMeshQuery.computePath(e,s)}_bakeNavMesh(){const e=this.node.getComponent(u);if(!e)return void console.error("NavMeshSurface "+this.node.name+" has no MeshRenderer component");const s=N.generateNavMesh(e);if(s.success)return s;console.log(s)}async _bakeNavMeshAndExport(){const e=this._bakeNavMesh(),s=N.exportNavMesh(e.navMesh);if(s)return[...s]}_loadSavedNavMesh(){const e=N.importNavMesh(this.navMeshData);if(e)return e.navMesh;console.error(`Error importing navMesh: ${this.node.name}`)}_createDebugData(){const e=this._navMesh.getDebugNavMesh();this._debugNavMeshData={positions:[],indices:[...e[1]]};for(let s=0;s<e[0].length;s+=3){const t=e[0];this._debugNavMeshData.positions.push(new c(t[s],t[s+1],t[s+2]))}return e}_createDebugNavMesh(){const e=this._navMesh.getDebugNavMesh(),s=new v,t={positions:e[0]};M.MeshUtils.createMesh(t,s);const n=new l(`Debug NavMesh (${this.node.name})`),a=n.addComponent(u),i=new d;i.initialize({effectName:"builtin-unlit",technique:1}),i.setProperty("mainColor",new p("#0076F780")),a.mesh=s,a.material=i,this.node.scene.addChild(n)}}).prototype,"navMeshData",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=s(D.prototype,"showDebugNavMesh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=D))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/NavMeshSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs","./index2.mjs"],(function(e){var t,i,a,n,r,s,l,o;return{setters:[function(e){t=e.defineProperty},function(e){i=e.cclegacy,a=e.Vec3,n=e.gfx},function(e){r=e.init,s=e.importNavMesh,l=e.exportNavMesh},function(e){o=e.generateSoloNavMesh}],execute:function(){i._RF.push({},"83f22Log2lMbKJlA1qbvnZD","NavMeshSystem",void 0);const c=new a;class h{constructor(){t(this,"initialized",!1),t(this,"_startInitialize",!1)}async initialize(){this.initialized||this._startInitialize||(this._startInitialize=!0,await r(),this.initialized=!0)}importNavMesh(e){const t=new Uint8Array(e.buffer());return s(t)}exportNavMesh(e){return l(e)}generateNavMesh(e){const t=e.mesh,i=e.node.getWorldMatrix(),a=t.readAttribute(0,n.AttributeName.ATTR_POSITION),r=t.readIndices(0);for(let e=0;e<a.length;e+=3)c.set(a[e],a[e+1],a[e+2]),c.transformMat4(i),a[e]=c.x,a[e+1]=c.y,a[e+2]=c.z;return o(a,r,{cs:.2,ch:.2,walkableSlopeAngle:60,walkableHeight:20,walkableClimb:5,walkableRadius:6,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1})}}e("NavMeshSystem",h);e("navMeshSystem",new h);i._RF.pop()}}}));

System.register("chunks:///_virtual/PatrolBarryState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BarryBaseState.ts","./Barry.ts"],(function(t){var r,n,a,e,o,i;return{setters:[function(t){r=t.defineProperty},function(t){n=t.cclegacy},function(t){a=t.BarryBaseState},function(t){e=t.BarryAnimation,o=t.Barry,i=t.BarryState}],execute:function(){n._RF.push({},"82d1dEgxrBF6JpJTaVcHcbm","PatrolBarryState",void 0);t("PatrolBarryState",class extends a{constructor(){super(...arguments),r(this,"id",i.Patrol),r(this,"_currentPatrolPointIndex",0)}onEnter(){this._barry.needCheckTarget=!0;const t=this._barry.patrolPoints[this._currentPatrolPointIndex].worldPosition;this._barry.setDestination(t,e.Walk)&&this._barry.on(o.EVENT_REACH_DESTINATION,this._onReachPatrolPoint,this),this._currentPatrolPointIndex++,this._currentPatrolPointIndex>=this._barry.patrolPoints.length&&(this._currentPatrolPointIndex=0)}onExit(){this._barry.off(o.EVENT_REACH_DESTINATION,this._onReachPatrolPoint,this)}_onReachPatrolPoint(){this._stateMachine.changeState(i.Rest)}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPreferences.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,s,t;return{setters:[function(e){r=e.defineProperty},function(e){s=e.cclegacy,t=e.EventTarget}],execute:function(){s._RF.push({},"411acVd6X1Jh6mjVXgE5xb5","PlayerPreferences",void 0);const a="be-player-prefs",l={musicVolume:1,soundsVolume:1,cameraSensitivity:1};class c extends t{constructor(){super(),r(this,"_localValues",void 0),this._readyStorage()}save(){localStorage.setItem(a,JSON.stringify(this._localValues,void 0,2))}setValue(e,r){this._localValues[e]=r,this.emit(c.EVENT_PREFERENCE_CHANGED,{name:e,newValue:r})}getValue(e){return this._localValues[e]}_readyStorage(){const e=localStorage.getItem(a);this._localValues=e?JSON.parse(e):{...l}}}e("PlayerPreferences",c),r(c,"EVENT_PREFERENCE_CHANGED","preference-changed");e("playerPreferences",new c);s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProgressStorage.ts","./LocalProgressStorage.ts","./Wallet.ts","./EmptyPlayerProgress.ts","./MetricaUtils.ts"],(function(s){var e,r,t,o,i,a,l,n;return{setters:[function(s){e=s.defineProperty},function(s){r=s.cclegacy,t=s.EventTarget},function(s){o=s.ProgressStorageType},function(s){i=s.LocalProgressStorage},function(s){a=s.Wallet},function(s){l=s.EMPTY_PLAYER_PROGRESS},function(s){n=s.metricaReachGoal}],execute:function(){r._RF.push({},"e68dansZzRK0ahkCHb4+OrB","PlayerProgress",void 0);class c extends t{constructor(){super(),e(this,"_progress",void 0),e(this,"_storage",void 0),e(this,"_wallet",void 0),this._wallet=new a}get wallet(){return this._wallet}setStorageType(s){switch(s){case o.LocalStorage:this._storage=new i}}tryLoad(){const s=this._storage.load();if(s){this._progress=s;const{coins:e,cups:r}=this._progress.wallet;this._wallet.add("coins",e),this._wallet.add("cups",r)}else this._progress={...l},this.save()}save(){this._progress.wallet.coins=this._wallet.coins,this._progress.wallet.cups=this._wallet.cups,this._storage.save(this._progress)}addNewLevelProgress(s){this.progress.levels.progress.push(s)}getLevelProgress(s){return this.progress.levels.progress.find((e=>e.id===s))}addSkinToPurchases(s){const e=this.progress.customization.purchases.skin;e.includes(s)||(e.push(s),n("skin-purchased",{skin:s}))}get progress(){return this._progress}get haveSavedProgress(){return void 0!==this._progress.customization.selected.skin}get selectedCharacterCustomization(){return this._progress.customization.selected}get purchasedCharacterCustomization(){return this._progress.customization.purchases}clearLevelProgress(s){const e=this.progress.levels.progress,r=e.findIndex((e=>e.id===s));-1!==r&&e.splice(r,1)}}s("PlayerProgress",c);s("playerProgress",new c);r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProgressTypes.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"b4ae5u/GABEyp0AzgCD56gq","PlayerProgressTypes",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PlaySoundOnClick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(n){var o,e,t,i,r,c,s,a;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.initializerDefineProperty},function(n){t=n.cclegacy,i=n.CCString,r=n._decorator,c=n.Component,s=n.NodeEventType},function(n){a=n.audioManager}],execute:function(){var l,u,d,p,y;t._RF.push({},"0773cjX2apMNIU59nJxJlAv","PlaySoundOnClick",void 0);const{ccclass:C,property:h}=r;n("PlaySoundOnClick",(l=C("PlaySoundOnClick"),u=h(i),l((y=o((p=class extends c{constructor(){super(...arguments),e(this,"soundName",y,this)}onLoad(){this.node.on(s.TOUCH_END,this._onClick,this)}onDestroy(){this.node.off(s.TOUCH_END,this._onClick,this)}_onClick(){a.playSound(this.soundName)}}).prototype,"soundName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=p))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/PlaythroughMode.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1e695an71BPa7FUVGzf8qic","PlaythroughMode",void 0);e("PlaythroughMode",{Normal:0,NormalWithHealth:1,Speedrun:2});t._RF.pop()}}}));

System.register("chunks:///_virtual/PointerOnMouseEnter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts"],(function(e){var o,s,t,n,r,i,u,E;return{setters:[function(e){o=e.defineProperty},function(e){s=e.cclegacy,t=e.Component,n=e.sys,r=e.Node,i=e._decorator},function(e){u=e.uiManager,E=e.CursorType}],execute:function(){var a;s._RF.push({},"57baauWxUVMrIXR+NKaJ/Ek","PointerOnMouseEnter",void 0);const{ccclass:M}=i;e("PointerOnMouseEnter",M("PointerOnMouseEnter")(a=class extends t{constructor(){super(...arguments),o(this,"_mouseOver",!1)}onLoad(){n.isMobile||(this.node.on(r.EventType.MOUSE_ENTER,this._onMouseEnter,this),this.node.on(r.EventType.MOUSE_LEAVE,this._onMouseLeave,this))}onDisable(){n.isMobile||this._mouseOver&&u.setCursor(E.Default)}onDestroy(){n.isMobile||(this._mouseOver&&u.setCursor(E.Default),this.node.off(r.EventType.MOUSE_ENTER,this._onMouseEnter,this),this.node.off(r.EventType.MOUSE_LEAVE,this._onMouseLeave,this))}_onMouseEnter(){this._mouseOver=!0,u.setCursor(E.Pointer)}_onMouseLeave(){this._mouseOver=!1,u.setCursor(E.Default)}})||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/PrisonExitLevelPart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePostLevelPartInitializer.ts","./AssetProviding.ts","./WinWindow.ts","./WindowsManager.ts","./WindowId.ts","./UIManager.ts","./AudioManager.ts","./AudioChannelTag.ts"],(function(e){var n,t,i,o,r,s,a,l,u,c,d,p,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.TextureCube,r=e._decorator},function(e){s=e.BasePostLevelPartInitializer},function(e){a=e.loadPrefabAndInstantiate},function(e){l=e.WinWindow},function(e){u=e.windowsManager},function(e){c=e.WindowId},function(e){d=e.uiManager},function(e){p=e.audioManager},function(e){g=e.AudioChannelTag}],execute:function(){var x,P,f,v,b;i._RF.push({},"111823aABZC6Z8ACkyMUkRF","PrisonExitLevelPart",void 0);const{ccclass:y,property:W}=r;e("PrisonExitLevelPart",(x=y("PrisonExitLevelPart"),P=W(o),x((b=n((v=class extends s{constructor(){super(...arguments),t(this,"skyboxTexture",b,this)}_onPartInitialized(){if(p.addSound("level-complete","sounds/level/complete",g.UI,{volume:.5}),a("ui/Win Window").then((e=>{const n=e.getComponent(l);e.active=!1,u.registerWindow(c.Win,n),d.addWindowNode(e)})),!this.skyboxTexture)return;const e=this.node.scene;e.globals.skybox.enabled=!0,e.globals.skybox.envmap=this.skyboxTexture}}).prototype,"skyboxTexture",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/PrisonLevelPart.ts",["cc","./BasePostLevelPartInitializer.ts","./AudioManager.ts","./AudioChannelTag.ts"],(function(e){var t,o,n,r,a;return{setters:[function(e){t=e.cclegacy,o=e._decorator},function(e){n=e.BasePostLevelPartInitializer},function(e){r=e.audioManager},function(e){a=e.AudioChannelTag}],execute:function(){var i;t._RF.push({},"31c34ZcuoFJhYGgBVvrwyZ5","PrisonLevelPart",void 0);const{ccclass:s,property:c}=o;e("PrisonLevelPart",s("PrisonLevelPart")(i=class extends n{_onPartInitialized(){r.addSound("toilet-door","sounds/level/toilet-door",a.GAMEPLAY,{volume:.25})}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressStorage.ts",["cc"],(function(r){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"5067dFjJclInrKofrAnvJhg","ProgressStorage",void 0);r("ProgressStorageType",{LocalStorage:0});e._RF.pop()}}}));

System.register("chunks:///_virtual/RespawnWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIWindow.ts"],(function(t){var n,o,e,i,s,r,c,u,p,a,l,h;return{setters:[function(t){n=t.defineProperty,o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,r=t._decorator,c=t.Button,u=t.sys,p=t.input,a=t.Input,l=t.KeyCode},function(t){h=t.UIWindow}],execute:function(){var d,C,y,_,k,w,S,f;i._RF.push({},"0c725Jh8ehOLrpXyBSk6Ioc","RespawnWindow",void 0);const{ccclass:E,property:N}=r;t("RespawnWindow",(d=E("RespawnWindow"),C=N(s),y=N(s),d((n(f=class t extends h{constructor(){super(...arguments),e(this,"continueButtonNode",w,this),e(this,"skipStartButtonNode",S,this)}onLoad(){this.continueButtonNode.on(c.EventType.CLICK,this._onContinueClick,this),this.skipStartButtonNode.on(c.EventType.CLICK,this._onSkipStartClick,this)}onDestroy(){this.continueButtonNode.off(c.EventType.CLICK,this._onContinueClick,this),this.skipStartButtonNode.off(c.EventType.CLICK,this._onSkipStartClick,this)}_onShow(){u.isMobile||p.on(a.EventType.KEY_DOWN,this._onKeyDown,this)}_onHide(){u.isMobile||p.off(a.EventType.KEY_DOWN,this._onKeyDown,this)}_onContinueClick(){this.emit(t.EVENT_RESPAWN_CLICK,!1),this.hide()}async _onSkipStartClick(){}async _on3(){}_onKeyDown(t){t.keyCode===l.SPACE&&this._onContinueClick()}},"EVENT_RESPAWN_CLICK","continue"),w=o((k=f).prototype,"continueButtonNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=o(k.prototype,"skipStartButtonNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=k))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/RestBarryState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Barry.ts","./BarryBaseState.ts"],(function(t){var e,r,s,a;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy},function(t){s=t.BarryState},function(t){a=t.BarryBaseState}],execute:function(){r._RF.push({},"6bab33d10ZDfZETi8N7btFB","RestBarryState",void 0);t("RestBarryState",class extends a{constructor(){super(...arguments),e(this,"id",s.Rest),e(this,"_restTime",0)}onEnter(){this._barry.needCheckTarget=!0,this._barry.stopMove(!0)}onExit(){this._restTime=0}update(t){this._barry.canPatrol&&(this._restTime>this._barry.restingTime?this._stateMachine.changeState(s.Patrol):this._restTime+=t)}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/ReturnToSpawnBarryState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BarryBaseState.ts","./Barry.ts"],(function(t){var e,n,a,r,s,i,o,h;return{setters:[function(t){e=t.defineProperty},function(t){n=t.cclegacy,a=t.Vec3,r=t.tween},function(t){s=t.BarryBaseState},function(t){i=t.BarryAnimation,o=t.Barry,h=t.BarryState}],execute:function(){n._RF.push({},"712deUne5FJuL7zV+KNziXR","ReturnToSpawnBarryState",void 0);t("ReturnToSpawnBarryState",class extends s{constructor(t,n){super(t,n),e(this,"id",h.ReturnToSpawn),e(this,"_rotationTween",void 0),e(this,"_eulerRotationOnSpawn",void 0),e(this,"_pathIsFound",!1),this._eulerRotationOnSpawn=a.clone(this._barryNode.eulerAngles)}onEnter(){this._barry.needCheckTarget=!0,this._barry.stopMove(!0),this._barry.scheduleOnce((()=>{this._stateMachine.currentState.id===this.id&&(this._pathIsFound=this._barry.setDestination(this._barry.spawnPosition,i.Walk),this._pathIsFound?this._barry.on(o.EVENT_REACH_DESTINATION,this._onReachSpawn,this):this._stateMachine.changeState(h.Rest))}),1.5)}onExit(){this._barry.off(o.EVENT_REACH_DESTINATION,this._onReachSpawn,this),this._rotationTween&&(this._rotationTween.stop(),this._rotationTween=null),this._pathIsFound=!1}_onReachSpawn(){this._rotationTween=r(this._barryNode).to(.2,{eulerAngles:this._eulerRotationOnSpawn},{onComplete:()=>{this._stateMachine.changeState(h.Rest)}}).start()}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/Rotating.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var e,o,i,n,a,r,s,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.defineProperty},function(t){n=t.cclegacy,a=t.CCBoolean,r=t.Vec3,s=t._decorator,u=t.Component,c=t.Quat},function(t){p=t.gameManager}],execute:function(){var l,h,y,g,f,m,d;n._RF.push({},"79735M+YvBHP7T+Du2s7XWU","Rotating",void 0);const{ccclass:P,property:b}=s;t("Rotating",(l=P("Rotating"),h=b(a),y=b(r),l((m=e((f=class extends u{constructor(){super(...arguments),o(this,"stopOnGameplayPause",m,this),o(this,"rotation",d,this),i(this,"_rotation",new c)}update(t){this.stopOnGameplayPause&&p.isGameplayPaused||(this._rotation.set(this.rotation.x*t,this.rotation.y*t,this.rotation.z*t,1),this.node.rotate(this._rotation))}}).prototype,"stopOnGameplayPause",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=e(f.prototype,"rotation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),g=f))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/SDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YandexGamesSDK.ts","./TestingSDK.ts","./AdvCountdown.ts","./GameManager.ts","./WindowsManager.ts"],(function(e){var s,n,t,i,r,l,a,o;return{setters:[function(e){s=e.defineProperty},function(e){n=e.cclegacy,t=e.EventTarget},function(e){i=e.YandexGamesSDK},function(e){r=e.TestingSDK},function(e){l=e.AdvCountdown},function(e){a=e.gameManager},function(e){o=e.windowsManager}],execute:function(){n._RF.push({},"9a459Nv0PJM27ghJdEP7WKY","SDK",void 0);class d extends t{get timeFromLastFullscreenAdv(){return(Date.now()-this._lastFullscreenAdvTimestamp)/1e3}get canShowFullscreenAdv(){return this.timeFromLastFullscreenAdv>150}get isFullscreenAdvShown(){return this._isFullscreenAdvShown}get waitingFullscreenAdv(){return this._waitingFullscreenAdv}constructor(){super(),s(this,"_platformSDK",void 0),s(this,"_lastFullscreenAdvTimestamp",0),s(this,"_isFullscreenAdvShown",!1),s(this,"_waitingFullscreenAdv",!1),s(this,"_gameplayWasPaused",!1),window.YaGames?this._platformSDK=new i:this._platformSDK=new r}async init(){try{await this._platformSDK.init(),console.log(`SDK: ${this._platformSDK.name} initialized`)}catch(e){console.error(e)}}fireReady(){this._platformSDK.fireGameReady()}showRewardedVideo(e){e.onError||(e.onError=e=>{console.log("Error while showing rewarded video",e)}),this._platformSDK.showRewardedVideo(e)}showFullscreenAdv(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this._waitingFullscreenAdv&&this.canShowFullscreenAdv&&!o.isAnyWindowOpen){if(e){this._waitingFullscreenAdv=!0,this._gameplayWasPaused=a.isGameplayPaused,a.pauseGameplay(!0);const e=l.instance;return e.startCountdown(2),void e.once(l.EVENT_COUNTDOWN_FINISHED,(()=>{this._waitingFullscreenAdv=!1,this._showFullscreenAdv()}))}this._showFullscreenAdv()}}get language(){return this._platformSDK.language}_showFullscreenAdv(){this._lastFullscreenAdvTimestamp=Date.now(),this._platformSDK.showFullscreenAdv({onOpen:()=>{this._isFullscreenAdvShown=!0},onClose:()=>{this._isFullscreenAdvShown=!1,this._gameplayWasPaused||a.resumeGameplay(),this.emit(d.EVENT_FULLSCREEN_CLOSED)},onError:e=>{console.log("Error while showing fullscreen adv",e)}})}}e("PlatformSDK",d),s(d,"EVENT_FULLSCREEN_CLOSED","fullscreen-closed");e("platformSDK",new d);n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingsWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIWindow.ts","./HorizontalSelect.ts","./Localization.ts","./PlayerPreferences.ts","./Slider.ts","./AudioManager.ts","./AudioChannelTag.ts","./MetricaUtils.ts"],(function(e){var i,t,n,a,l,o,s,u,r,c,g,h,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e._decorator},function(e){l=e.UIWindow},function(e){o=e.HorizontalSelect},function(e){s=e.localization,u=e.Localization},function(e){r=e.playerPreferences},function(e){c=e.Slider},function(e){g=e.audioManager},function(e){h=e.AudioChannelTag},function(e){S=e.metricaReachGoal}],execute:function(){var d,m,V,p,y,C,_,f,E,b,v;n._RF.push({},"1b32culoRNC8ahcnyAYNMby","SettingsWindow",void 0);const{ccclass:L,property:N}=a;e("SettingsWindow",(d=L("SettingsWindow"),m=N(c),V=N(c),p=N(c),y=N(o),d((f=i((_=class extends l{constructor(){super(...arguments),t(this,"musicVolumeSlider",f,this),t(this,"soundsVolumeSlider",E,this),t(this,"cameraSensitivitySlider",b,this),t(this,"languageSelect",v,this)}onLoad(){this.musicVolumeSlider.on(c.EVENT_CHANGE,this._onMusicVolumeChange,this),this.soundsVolumeSlider.on(c.EVENT_CHANGE,this._onSoundsVolumeChange,this),this.cameraSensitivitySlider.on(c.EVENT_CHANGE,this._onCameraSensitivityChange,this),this._initLanguageSelect()}_onShow(){const e=r.getValue("musicVolume"),i=r.getValue("soundsVolume"),t=r.getValue("cameraSensitivity");this.musicVolumeSlider.setValue(100*e),this.soundsVolumeSlider.setValue(100*i),this.cameraSensitivitySlider.setValue(t),S("settings-open")}_onHide(){r.save()}_initLanguageSelect(){s.initialized?this.languageSelect.setValue(s.currentLanguage):s.once(u.EVENT_INITIALIZED,(()=>{this.languageSelect.setValue(s.currentLanguage)})),this.languageSelect.on(o.EVENT_CHANGE,this._onLanguageChange,this)}_onLanguageChange(e){s.changeLanguage(e)}_onMusicVolumeChange(e){const i=e/100;g.setChannelVolume(h.MUSIC,i),r.setValue("musicVolume",i)}_onSoundsVolumeChange(e){const i=e/100;g.setChannelVolume(h.UI,i),g.setChannelVolume(h.GAMEPLAY,i),r.setValue("soundsVolume",i)}_onCameraSensitivityChange(){r.setValue("cameraSensitivity",this.cameraSensitivitySlider.value)}}).prototype,"musicVolumeSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(_.prototype,"soundsVolumeSlider",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(_.prototype,"cameraSensitivitySlider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(_.prototype,"languageSelect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=_))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/SewerageLevelPart.ts",["cc","./BasePostLevelPartInitializer.ts","./AudioManager.ts","./AudioChannelTag.ts"],(function(e){var a,t,r,n,s;return{setters:[function(e){a=e.cclegacy,t=e._decorator},function(e){r=e.BasePostLevelPartInitializer},function(e){n=e.audioManager},function(e){s=e.AudioChannelTag}],execute:function(){var i;a._RF.push({},"12ddaA6xAdGMKAtzmyuGmQZ","SewerageLevelPart",void 0);const{ccclass:o}=t;e("SewerageLevelPart",o("SewerageLevelPart")(i=class extends r{_onPartInitialized(){n.addSound("water-stream","sounds/level/water-stream",s.GAMEPLAY,{volume:.5})}})||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/ShowWindowOnClick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WindowId.ts","./WindowsManager.ts"],(function(t){var n,o,e,i,s,r,c,h,d,a;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,e=t.defineProperty},function(t){i=t.cclegacy,s=t._decorator,r=t.Component,c=t.Button,h=t.NodeEventType},function(t){d=t.WindowId},function(t){a=t.windowsManager}],execute:function(){var l,p,u,C,w;i._RF.push({},"14c68jq4hJP6bNQAtvC0kk+","ShowWindowOnClick",void 0);const{ccclass:_,property:f}=s;t("ShowWindowOnClick",(l=_("ShowWindowOnClick"),p=f({type:d}),l((w=n((C=class extends r{constructor(){super(...arguments),o(this,"targetWindowId",w,this),e(this,"_haveButtonComponent",!1)}onLoad(){this._haveButtonComponent=!!this.getComponent(c),this._haveButtonComponent?this.node.on(c.EventType.CLICK,this._onClick,this):this.node.on(h.TOUCH_END,this._onClick,this)}onDestroy(){this._haveButtonComponent?this.node.off(c.EventType.CLICK,this._onClick,this):this.node.off(h.TOUCH_END,this._onClick,this)}_onClick(){a.showWindow(this.targetWindowId)}}).prototype,"targetWindowId",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=C))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/Slider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts","./AudioManager.ts"],(function(t){var i,e,o,s,n,r,a,h,l,u,p,c,d,_,f,g,b,m,T;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.defineProperty,o=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t.Vec2,r=t.Enum,a=t.Label,h=t.CCString,l=t.Node,u=t.Sprite,p=t.CCBoolean,c=t.CCFloat,d=t._decorator,_=t.Vec3,f=t.UITransform,g=t.NodeEventType,b=t.math},function(t){m=t.EventifiedComponent},function(t){T=t.audioManager}],execute:function(){var y,S,C,V,E,U,v,O,P,w,H,k,z,L,N,x,M,A,D,R,I,F,B,G,X,j,K,W,q,J,Q;s._RF.push({},"a2a83E0+H9KXoezBWNHGvCs","Slider",void 0);const{ccclass:Y,property:Z}=d,$=new n;let tt=t("SliderSymbolPosition",function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t}({}));r(tt);t("SliderOutput",(y=Y("SliderOutput"),S=Z(a),C=Z(h),V=Z({type:tt}),y((v=i((U=class{constructor(){o(this,"label",v,this),o(this,"symbol",O,this),o(this,"symbolPosition",P,this)}}).prototype,"label",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(U.prototype,"symbol",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=i(U.prototype,"symbolPosition",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tt.Left}}),E=U))||E)),t("Slider",(w=Y("Slider"),H=Z(l),k=Z(u),z=Z(l),L=Z(p),N=Z({type:a,visible:function(){return this.haveOutput}}),x=Z(c),M=Z(c),A=Z(c),D=Z(c),w((Q=class t extends m{constructor(){super(...arguments),o(this,"track",F,this),o(this,"filledTrackSprite",B,this),o(this,"handle",G,this),o(this,"haveOutput",X,this),o(this,"output",j,this),o(this,"defaultValue",K,this),o(this,"minValue",W,this),o(this,"maxValue",q,this),o(this,"step",J,this),e(this,"_trackUITransform",void 0),e(this,"_handleLocalPosition",new _),e(this,"_touchPosition",new _),e(this,"_progress",0),e(this,"_steps",1),e(this,"_isDragging",!1)}get value(){return(this.maxValue-this.minValue)*this._progress+this.minValue}onLoad(){this._trackUITransform=this.track.getComponent(f),this._steps=Math.round((this.maxValue-this.minValue)/this.step),this.setValue(this.defaultValue),this.node.on(g.TOUCH_START,this._onTouchStart,this),this.node.on(g.TOUCH_MOVE,this._onTouchMove,this),this.node.on(g.TOUCH_END,this._onTouchEnd,this),this.node.on(g.TOUCH_CANCEL,this._onTouchEnd,this),this.handle.on(g.TOUCH_START,this._onTouchStart,this)}onDestroy(){this.node.off(g.TOUCH_START,this._onTouchStart,this),this.node.off(g.TOUCH_MOVE,this._onTouchMove,this),this.node.off(g.TOUCH_END,this._onTouchEnd,this),this.node.off(g.TOUCH_CANCEL,this._onTouchEnd,this),this.handle.off(g.TOUCH_START,this._onTouchStart,this)}setValue(t){const i=b.clamp(t,this.minValue,this.maxValue);this._progress=Math.round((i-this.minValue)/this.step)/this._steps,this._updateHandlePosition(),this._updateOutput()}_updateOutput(){this.haveOutput&&this.output&&(this.output.string=this.value.toFixed(0))}_handleUpdate(i){const e=this._progress;this._updateProgress(i),this._progress!==e&&(this._updateHandlePosition(),this._updateOutput(),T.playSound("slider-tick"),this.emit(t.EVENT_CHANGE,this.value))}_updateProgress(t){const i=t.getUILocation($);this._touchPosition.set(i.x,0,0);const e=this._trackUITransform.convertToNodeSpaceAR(this._touchPosition),o=b.clamp01(.5+e.x/this._trackUITransform.width);this._progress=Math.round(o*this._steps)/this._steps}_updateHandlePosition(){this._handleLocalPosition.set(this.handle.position),this._handleLocalPosition.x=-this._trackUITransform.width*this._trackUITransform.anchorX+this._trackUITransform.width*this._progress,this.handle.setPosition(this._handleLocalPosition),this.filledTrackSprite.fillRange=this._progress}_onTouchStart(t){this._isDragging=!0,this._handleUpdate(t.touch),t.propagationStopped=!0}_onTouchMove(t){this._isDragging&&(this._handleUpdate(t.touch),t.propagationStopped=!0)}_onTouchEnd(t){this._isDragging=!1,t&&(t.propagationStopped=!0)}},e(Q,"EVENT_CHANGE","change"),F=i((I=Q).prototype,"track",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(I.prototype,"filledTrackSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(I.prototype,"handle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(I.prototype,"haveOutput",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=i(I.prototype,"output",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(I.prototype,"defaultValue",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),W=i(I.prototype,"minValue",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=i(I.prototype,"maxValue",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),J=i(I.prototype,"step",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=I))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/Sound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./SoundInstance.ts","./DistanceModel.ts","./SoundInstance3D.ts","./AudioChannel.ts"],(function(n){var e,t,s,i,o,a,c,h,u,l;return{setters:[function(n){e=n.defineProperty},function(n){t=n.cclegacy,s=n.Vec3,i=n.EventTarget},function(n){o=n.audioManager,a=n.AudioManager},function(n){c=n.SoundInstance},function(n){h=n.DistanceModel},function(n){u=n.SoundInstance3D},function(n){l=n.AudioChannel}],execute:function(){t._RF.push({},"2cf52oL5M9JWa+henkFDghz","Sound",void 0);const _={volume:0,loop:!1,playbackRate:0,position:new s,maxDistance:0,refDistance:0,rollOffFactor:0,distanceModel:h.LINEAR};n("Sound",class extends i{constructor(n,t,s,i){super(),e(this,"name",void 0),e(this,"_audioBuffer",void 0),e(this,"_channel",void 0),e(this,"_instances",[]),e(this,"_volume",void 0),e(this,"_instancesLimit",void 0),this.name=n,this._audioBuffer=t,this._volume=s??1,this._instancesLimit=i??10,o.on(a.EVENT_SUSPEND,this._onManagerSuspended,this),o.on(a.EVENT_RESUME,this._onManagerResume,this)}attachToChannel(n){this._channel=n,this._channel.on(l.EVENT_PAUSE,this.pause,this),this._channel.on(l.EVENT_RESUME,this.resume,this),this._channel.on(l.EVENT_VOLUME_CHANGE,this._onChannelVolumeChange,this)}play(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._instances.length>=this._instancesLimit)return;const e=this._createInstance(n);return this._instances.push(e),e.on(c.EVENT_ENDED,this._onInstanceEnd,this),e.play(),e}stop(){let n=this._instances.length;for(;n--;)this._instances[n].stop()}pause(){for(const n of this._instances)n.pause()}resume(){if(!this._channel||!this._channel.paused)for(const n of this._instances)n.resume()}_createInstance(n){let e;const t=_;return t.volume=n.volume??this._volume,t.playbackRate=n.playbackRate??1,t.loop=n.loop??!1,n.position?(t.position.set(n.position),t.refDistance=n.refDistance??1,t.rollOffFactor=n.rollOffFactor??1,t.maxDistance=n.maxDistance??1e4,t.distanceModel=n.distanceModel??h.LINEAR,e=new u(this._audioBuffer,t)):e=new c(this._audioBuffer,t),this._channel&&(e.channelVolume=this._channel.volume),e}_onInstanceEnd(n){const e=this._instances.indexOf(n);-1!==e&&(this._instances[e].off(c.EVENT_ENDED,this._onInstanceEnd,this),this._instances.splice(e,1))}_onManagerSuspended(){this.pause()}_onManagerResume(){this.resume()}_onChannelVolumeChange(){for(const n of this._instances)n.channelVolume=this._channel.volume}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SoundInstance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var e,i,s,o,n,u;return{setters:[function(t){e=t.defineProperty},function(t){i=t.cclegacy,s=t.EventTarget,o=t.math},function(t){n=t.audioManager,u=t.AudioManager}],execute:function(){i._RF.push({},"2d7bc0cxCBG2aaXYlfFWOYv","SoundInstance",void 0);const a=0,h=1,_=2;class r extends s{constructor(t,i){super(),e(this,"_audioBuffer",void 0),e(this,"_source",void 0),e(this,"_gainNode",void 0),e(this,"_inputNode",void 0),e(this,"_state",_),e(this,"_volume",void 0),e(this,"_channelVolume",1),e(this,"_playbackRate",void 0),e(this,"_loop",void 0),e(this,"_startedAt",void 0),e(this,"_currentTime",void 0),e(this,"_waitingContextResume",!1),this._audioBuffer=t,this._volume=i.volume,this._playbackRate=i.playbackRate,this._loop=i.loop,this._initializeNodes()}set volume(t){t=o.clamp01(t),this._volume=t,this._gainNode&&(this._gainNode.gain.value=t*this._channelVolume)}set channelVolume(t){this._channelVolume=t,this.volume=this._volume}play(){if(this._state!==_&&this.stop(),this._state=a,!this._waitingContextResume)return n.suspended?(n.once(u.EVENT_RESUME,this._playImmediate,this),void(this._waitingContextResume=!0)):void this._playImmediate()}pause(){this._state===a&&(this._state=h,this._waitingContextResume||(this._updateCurrentTime(),this._source.stop(),this._source.onended=null,this._source=null))}resume(){this._state===h&&(this._state=a,this._source||this._createSource(),this._source.start(0,this._currentTime))}stop(){if(this._state===_)return;const t=this._state===a;this._state=_,this._waitingContextResume||(t&&this._source&&(this._source.onended=null,this._source.stop(0)),this._source=null,this._startedAt=0,this._currentTime=0)}_initializeNodes(){this._gainNode=new GainNode(n.context,{gain:this._volume}),this._gainNode.connect(n.context.destination),this._inputNode=this._gainNode}_createSource(){this._source=new AudioBufferSourceNode(n.context,{buffer:this._audioBuffer,loop:this._loop,playbackRate:this._playbackRate}),this.volume=this._volume,this._source.loop&&(this._source.loopStart=0,this._source.loopEnd=this._audioBuffer.duration),this._source.onended=this._onEnded.bind(this),this._source.connect(this._inputNode)}_updateCurrentTime(){this._currentTime=Math.max(n.context.currentTime-this._startedAt,0)*this._playbackRate,this._loop&&(this._currentTime=this._currentTime%this._audioBuffer.duration)}_playImmediate(){this._waitingContextResume=!1,this._state===a&&(this._source||this._createSource(),this._source.start(0),this._startedAt=n.context.currentTime)}_onEnded(){this.emit(r.EVENT_ENDED,this),this.stop()}}t("SoundInstance",r),e(r,"EVENT_ENDED","ended"),i._RF.pop()}}}));

System.register("chunks:///_virtual/SoundInstance3D.ts",["cc","./SoundInstance.ts","./AudioManager.ts"],(function(n){var e,t,o;return{setters:[function(n){e=n.cclegacy},function(n){t=n.SoundInstance},function(n){o=n.audioManager}],execute:function(){e._RF.push({},"28261OahXBNLb8lLGTzxq5w","SoundInstance3D",void 0);n("SoundInstance3D",class extends t{constructor(n,e){super(n,e),this.position=e.position,this.maxDistance=e.maxDistance,this.refDistance=e.refDistance,this.rolloffFactor=e.rollOffFactor,this.distanceModel=e.distanceModel}set position(n){const e=this._pannerNode;e.positionX.value=n.x,e.positionY.value=n.y,e.positionZ.value=n.z}set maxDistance(n){this._pannerNode.maxDistance=n}set refDistance(n){this._pannerNode.refDistance=n}set rolloffFactor(n){this._pannerNode.rolloffFactor=n}set distanceModel(n){this._pannerNode.distanceModel=n}_initializeNodes(){const n=o.context;this._gainNode=new GainNode(n),this._pannerNode=new PannerNode(n),this._pannerNode.connect(this._gainNode),this._gainNode.connect(n.destination),this._inputNode=this._pannerNode}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/SoundOnHover.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,t,r,s,i,u,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){t=e.cclegacy,r=e.CCString,s=e._decorator,i=e.Component,u=e.sys,c=e.NodeEventType}],execute:function(){var l,a,p,d,h;t._RF.push({},"8fe0bLPNcJIPpY5e5R479rj","SoundOnHover",void 0);const{ccclass:E,property:b}=s;e("SoundOnHover",(l=E("SoundOnHover"),a=b(r),l((h=n((d=class extends i{constructor(){super(...arguments),o(this,"sound",h,this)}onEnable(){u.isMobile||this.node.on(c.MOUSE_ENTER,this._onMouseEnter,this)}onDisable(){u.isMobile||this.node.on(c.MOUSE_ENTER,this._onMouseEnter,this)}_onMouseEnter(){this.sound}}).prototype,"sound",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=d))||p));t._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesTrap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayTweenSystem.ts"],(function(e){var t,n,i,r,o,a,s,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,i=e.defineProperty},function(e){r=e.cclegacy,o=e.CCFloat,a=e._decorator,s=e.Component,u=e.tween},function(e){l=e.GAMEPLAY_TWEEN_TAG}],execute:function(){var p,c,y,w,h,d,f,T,b,D,m,g,v,_,z;r._RF.push({},"d7348VTWjtMOZO/0ujmGVFH","SpikesTrap",void 0);const{ccclass:M,property:S}=a;e("SpikesTrap",(p=M("SpikesTrap"),c=S(o),y=S(o),w=S(o),h=S(o),d=S(o),f=S(o),p((D=t((b=class extends s{constructor(){super(...arguments),n(this,"startDelay",D,this),n(this,"yMovement",m,this),n(this,"downTweenDuration",g,this),n(this,"downTweenDelay",v,this),n(this,"upTweenDuration",_,this),n(this,"upTweenDelay",z,this),i(this,"_tween",void 0)}onLoad(){const e=this.node.getPosition(),t=e.clone().add3f(0,this.yMovement,0),n=u(this.node).to(this.downTweenDuration,{position:t},{easing:"sineIn"}).delay(this.downTweenDelay),i=u(this.node).to(this.upTweenDuration,{position:e},{easing:"sineOut"}).delay(this.upTweenDelay);this._tween=u(this.node).tag(l).delay(this.startDelay).sequence(n,i).repeatForever().start()}}).prototype,"startDelay",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=t(b.prototype,"yMovement",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-5}}),g=t(b.prototype,"downTweenDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),v=t(b.prototype,"downTweenDelay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=t(b.prototype,"upTweenDuration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),z=t(b.prototype,"upTweenDelay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),T=b))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"ba7c2Gadt9DSqDctkH4f//Z","StateMachine",void 0);t("StateMachine",class{constructor(){e(this,"_states",new Map),e(this,"_currentState",void 0)}get currentState(){return this._currentState}addState(t){this._states.has(t.id)?console.error(`State with id ${t.id} already exists`):this._states.set(t.id,t)}changeState(t){const e=this._states.get(t);e&&e!==this._currentState&&(this._currentState?.onExit?.(),this._currentState=e,this._currentState.onEnter?.())}update(t){this._currentState&&this._currentState.update&&this._currentState.update(t)}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/StaticBatchGroup.ts",["cc"],(function(t){var c,e,a,o;return{setters:[function(t){c=t.cclegacy,e=t.Component,a=t.BatchingUtility,o=t._decorator}],execute:function(){var r;c._RF.push({},"4de88GEtCRL65kRLJNsTVh0","StaticBatchGroup",void 0);const{ccclass:i,property:s,executionOrder:n}=o;t("StaticBatchGroup",i("StaticBatchGroup")(r=n(999)(r=class extends e{start(){a.batchStaticModel(this.node,this.node)}})||r)||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/SteamPipe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts"],(function(e){var t,i,a,r,n,l,s,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,r=e.ParticleSystem,n=e.Collider,l=e._decorator,s=e.Component},function(e){o=e.Interactable}],execute:function(){var c,p,u,b,h,m,g,f,T;a._RF.push({},"fba18H9xyRD9aRjdiAYqSU+","SteamPipe",void 0);const{ccclass:d,property:E}=l;e("SteamPipe",(c=d("SteamPipe"),p=E(o),u=E(r),b=E(n),c((g=t((m=class extends s{constructor(){super(...arguments),i(this,"interactable",g,this),i(this,"steamParticle",f,this),i(this,"damageTrigger",T,this)}onEnable(){this.interactable.on(o.EVENT_INTERACT,this._onInteract,this)}onDisable(){this.interactable.off(o.EVENT_INTERACT,this._onInteract,this)}_onInteract(){this.steamParticle.stopEmitting(),this.damageTrigger.enabled=!1,this.interactable.off(o.EVENT_INTERACT,this._onInteract,this)}}).prototype,"interactable",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(m.prototype,"steamParticle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(m.prototype,"damageTrigger",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/StepSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var n,o,e,i,s,a,p,r,u,l,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,e=t.defineProperty},function(t){i=t.cclegacy,s=t.CCBoolean,a=t.CCString,p=t._decorator,r=t.Component,u=t.Vec3,l=t.math},function(t){d=t.audioManager}],execute:function(){var c,h,S,y,_,f,m;i._RF.push({},"71ab5Zbd4NI2JiL0zdwQEuf","StepSounds",void 0);const{ccclass:b,property:g}=p;t("StepSounds",(c=b("StepSounds"),h=g(s),S=g([a]),c((f=n((_=class extends r{constructor(){super(...arguments),o(this,"positional",f,this),o(this,"soundNames",m,this),e(this,"_stepIndex",0),e(this,"_playSoundOptions",{playbackRate:1})}onLoad(){this.positional&&(this._playSoundOptions.position=new u,this._playSoundOptions.maxDistance=50)}playStepSound(){if(0===this.soundNames.length)return;const t=this.soundNames[this._stepIndex];this._playSoundOptions.playbackRate=l.randomRange(.8,1.1),this.positional?(this._playSoundOptions.position.set(this.node.worldPosition),d.playSound(t,this._playSoundOptions)):d.playSound(t,this._playSoundOptions),this._stepIndex++,this._stepIndex>=this.soundNames.length&&(this._stepIndex=0)}}).prototype,"positional",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=n(_.prototype,"soundNames",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=_))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/TabButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts","./TabContent.ts"],(function(t){var e,i,o,n,r,l,s,a,c,u,h;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Sprite,l=t.Label,s=t.Color,a=t._decorator,c=t.NodeEventType},function(t){u=t.EventifiedComponent},function(t){h=t.TabContent}],execute:function(){var b,p,C,f,g,_,v,d,m,T,y,w,E,k,B,z;n._RF.push({},"5f17d+qi2lAn5qZCm4ipwD0","TabButton",void 0);const{ccclass:D,property:L,type:R}=a;t("TabButton",(b=D("TabButton"),p=L(h),C=L(r),f=L(r),g=L(l),_=L(s),v=L(s),b((z=class t extends u{constructor(){super(...arguments),o(this,"targetTabContent",T,this),o(this,"background",y,this),o(this,"icon",w,this),o(this,"label",E,this),o(this,"activeBgColor",k,this),o(this,"activeElementsColor",B,this),e(this,"_bgColor",new s),e(this,"_elementsColor",new s),e(this,"_active",!1)}set active(t){if(this._active===t)return;this._active=t;let e=this._bgColor,i=this._elementsColor;t&&(e=this.activeBgColor,i=this.activeElementsColor),this.background.color=e,this.icon.color=i,this.label.color=i}onLoad(){this._bgColor.set(this.background.color),this._elementsColor.set(this.icon.color),this.node.on(c.TOUCH_START,this._onClick,this)}onDestroy(){this.node.off(c.TOUCH_START,this._onClick,this)}_onClick(){this._active||this.emit(t.EVENT_CLICK,this)}},e(z,"EVENT_CLICK","click"),T=i((m=z).prototype,"targetTabContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(m.prototype,"background",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(m.prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(m.prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(m.prototype,"activeBgColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),B=i(m.prototype,"activeElementsColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),d=m))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/TabContent.ts",["cc"],(function(t){var e,n,c;return{setters:[function(t){e=t.cclegacy,n=t.Component,c=t._decorator}],execute:function(){var o;e._RF.push({},"7a543SHMQNEppPbhkpihxvj","TabContent",void 0);const{ccclass:s,property:a}=c;t("TabContent",s("TabContent")(o=class extends n{show(){this.node.active=!0}hide(){this.node.active=!1}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/Tabs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TabButton.ts"],(function(t){var o,i,n,e,s,a,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.defineProperty},function(t){e=t.cclegacy,s=t._decorator,a=t.Component},function(t){c=t.TabButton}],execute:function(){var r,u,h,b,_;e._RF.push({},"5ad16mer49I34Nc24hQ9YHc","Tabs",void 0);const{ccclass:v,property:l,type:f}=s;t("Tabs",(r=v("Tabs"),u=f([c]),r((_=o((b=class extends a{constructor(){super(...arguments),i(this,"buttons",_,this),n(this,"_activeButton",void 0)}onLoad(){for(const t of this.buttons)t.on(c.EVENT_CLICK,this._onTabButtonClick,this)}start(){this._activeButton=this.buttons[0],this._activeButton.targetTabContent.show(),this._activeButton.active=!0}onDestroy(){for(const t of this.buttons)t.off(c.EVENT_CLICK,this._onTabButtonClick,this)}_onTabButtonClick(t){if(this._activeButton){if(this._activeButton===t)return;this._activeButton.targetTabContent.hide(),this._activeButton.active=!1}this._activeButton=t,this._activeButton.targetTabContent.show(),this._activeButton.active=!0}}).prototype,"buttons",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=b))||h));e._RF.pop()}}}));

System.register("chunks:///_virtual/TestingSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var n,t,s,a,o,r,i;return{setters:[function(e){n=e.defineProperty},function(e){t=e.cclegacy,s=e.EventTarget,a=e.game,o=e.Game,r=e.math},function(e){i=e.gameManager}],execute:function(){t._RF.push({},"7b853xf2R9EI7sAYKeDiUGi","TestingSDK",void 0);e("TestingSDK",class extends s{constructor(){super(...arguments),n(this,"name","Testing SDK")}async init(){await new Promise((e=>{setTimeout((()=>{a.on(o.EVENT_HIDE,(()=>{i.pause()})),a.on(o.EVENT_SHOW,(()=>{i.resume()})),e()}),r.randomRange(500,1e3))}))}fireGameReady(){}showRewardedVideo(e){e.onRewarded?.(),e.onClose?.()}showFullscreenAdv(e){e.onRewarded?.(),e.onClose?.()}get language(){return"en"}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/ThirdPersonCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerPreferences.ts","./ThirdPersonCameraInput.ts","./GameInput.ts"],(function(t){var i,e,s,n,a,r,o,h,c,l,p,u,_,d,y,m,b,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,s=t.defineProperty},function(t){n=t.cclegacy,a=t.Vec3,r=t.PhysicsSystem,o=t.CCFloat,h=t._decorator,c=t.Component,l=t.geometry,p=t.sys,u=t.math},function(t){_=t.playerPreferences,d=t.PlayerPreferences},function(t){y=t.MobileThirdPersonCameraInput,m=t.DesktopThirdPersonCameraInput},function(t){b=t.gameInput,f=t.GameInput}],execute:function(){var g,w,P,E,C,M,T,A,D,S,G,v,x,z,I,O,V;n._RF.push({},"713e4SV6W1OOIf91mtXjzn5","ThirdPersonCamera",void 0);const{ccclass:F,property:N}=h;t("ThirdPersonCamera",(g=F("ThirdPersonCamera"),w=N(a),P=N({type:r.PhysicsGroup}),E=N({type:o}),C=N({type:o}),M=N({type:o}),T=N({type:o}),A=N({type:o}),g((G=i((S=class extends c{constructor(){super(...arguments),e(this,"offset",G,this),e(this,"obstaclesGroup",v,this),e(this,"distanceMin",x,this),e(this,"distanceMax",z,this),e(this,"initialDistance",I,this),e(this,"pitchAngleMin",O,this),e(this,"pitchAngleMax",V,this),s(this,"_physicsSystem",r.instance),s(this,"_target",void 0),s(this,"_input",void 0),s(this,"_position",new a),s(this,"_ray",new l.Ray),s(this,"_yaw",45),s(this,"_pitch",-45),s(this,"_currentDistance",void 0),s(this,"_distanceToObstacle",void 0),s(this,"_followEnabled",!0)}get distance(){return this._currentDistance}set distance(t){this._currentDistance=this._clampDistance(t)}get pitch(){return this._pitch}set pitch(t){this._pitch=this._clampPitchAngle(t)}get yaw(){return this._yaw}set yaw(t){this._yaw=t%360}onLoad(){p.isMobile?(this._input=new y(this),_.on(d.EVENT_PREFERENCE_CHANGED,(t=>{"mobileCameraZoom"===t.name&&(this.distance=t.newValue)}))):this._input=new m(this),this._currentDistance=this.initialDistance,this._distanceToObstacle=this.distanceMax,this._input.sensitivity=_.getValue("cameraSensitivity"),_.on("preference-changed",(t=>{"cameraSensitivity"===t.name&&(this._input.sensitivity=t.newValue)}))}onEnable(){b.on(f.EVENT_STATE_CHANGE,this._onGameInputStateChange,this),b.enabled&&(this._input.enabled=!0)}onDisable(){b.on(f.EVENT_STATE_CHANGE,this._onGameInputStateChange,this),this._input.enabled=!1}lateUpdate(){if(!this._target||!this._followEnabled)return;this.node.setRotationFromEuler(this._pitch,this._yaw),this._checkObstaclesOnPath();const t=Math.min(this._currentDistance,this._distanceToObstacle);this._position.set(this.node.forward),this._position.multiplyScalar(-t),this._position.add(this._target.worldPosition),this._position.add(this.offset),this.node.setWorldPosition(this._position)}reset(){this._target&&(this.pitch=0,this.yaw=this._target.eulerAngles.y+180)}setTarget(t){this._target=t}setPositionAndLookAt(t,i){this._followEnabled=!1,this.node.setWorldPosition(t),this.node.lookAt(i.worldPosition,a.UP)}continueFollow(){this.reset(),this._followEnabled=!0}_checkObstaclesOnPath(){this._ray.o.set(this._target.worldPosition).add(this.offset),this._ray.d.set(this.node.worldPosition).subtract(this._ray.o).normalize();const t=this._physicsSystem.sweepSphereClosest(this._ray,.3,this.obstaclesGroup,this._currentDistance-.1,!1);this._distanceToObstacle=t?this._physicsSystem.sweepCastClosestResult.distance-.15:this.distanceMax}_clampDistance(t){return this.distanceMax>0?u.clamp(t,this.distanceMin,this.distanceMax):Math.max(t,this.distanceMin)}_clampPitchAngle(t){return u.clamp(t,-this.pitchAngleMax,-this.pitchAngleMin)}_onGameInputStateChange(t){this._input.enabled=t}}).prototype,"offset",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(0,1.8,0)}}),v=i(S.prototype,"obstaclesGroup",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r.PhysicsGroup.DEFAULT}}),x=i(S.prototype,"distanceMin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),z=i(S.prototype,"distanceMax",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),I=i(S.prototype,"initialDistance",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),O=i(S.prototype,"pitchAngleMin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-90}}),V=i(S.prototype,"pitchAngleMax",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),D=S))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/ThirdPersonCameraInput.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,s,i,n;return{setters:[function(t){e=t.defineProperty},function(t){s=t.cclegacy,i=t.input,n=t.Input}],execute:function(){s._RF.push({},"01436ATYkVIV6iNwGY4wP7E","ThirdPersonCameraInput",void 0);class o{constructor(t){e(this,"_camera",void 0),e(this,"_enabled",!1),e(this,"_cameraSensitivity",1),this._camera=t}set sensitivity(t){this._cameraSensitivity=t}set enabled(t){this._enabled!==t&&(t?this._onEnable():this._onDisable(),this._enabled=t)}_onEnable(){}_onDisable(){}}t("BaseThirdPersonCameraInput",o);t("DesktopThirdPersonCameraInput",class extends o{_onEnable(){i.on(n.EventType.MOUSE_MOVE,this._onMouseMove,this),i.on(n.EventType.MOUSE_WHEEL,this._onMouseWheel,this)}_onDisable(){i.off(n.EventType.MOUSE_MOVE,this._onMouseMove,this),i.off(n.EventType.MOUSE_WHEEL,this._onMouseWheel,this)}_onMouseMove(t){this._camera.yaw+=t.getDeltaX()*(.5*-this._cameraSensitivity),this._camera.pitch+=t.getDeltaY()*(.5*this._cameraSensitivity)}_onMouseWheel(t){const e=this._camera.distance;this._camera.distance=e-Math.sign(t.getScrollY())}});t("MobileThirdPersonCameraInput",class extends o{constructor(){super(...arguments),e(this,"_touchId",-1),e(this,"_touchStarted",!1)}_onEnable(){i.on(n.EventType.TOUCH_START,this._onTouchStart,this),i.on(n.EventType.TOUCH_MOVE,this._onTouchMove,this),i.on(n.EventType.TOUCH_END,this._onTouchEnd,this),i.on(n.EventType.TOUCH_CANCEL,this._onTouchEnd,this)}_onDisable(){i.off(n.EventType.TOUCH_START,this._onTouchStart,this),i.off(n.EventType.TOUCH_MOVE,this._onTouchMove,this),i.off(n.EventType.TOUCH_END,this._onTouchEnd,this),i.off(n.EventType.TOUCH_CANCEL,this._onTouchEnd,this)}_onTouchStart(t){this._touchId=t.getID(),this._touchStarted=!0}_onTouchMove(t){this._touchStarted&&t.getID()===this._touchId&&(this._camera.yaw+=t.getDeltaX()*(.5*-this._cameraSensitivity),this._camera.pitch+=t.getDeltaY()*(.5*this._cameraSensitivity))}_onTouchEnd(t){t.getID()===this._touchId&&(this._touchId=-1,this._touchStarted=!1)}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/TimedObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts","./GameManager.ts"],(function(e){var t,i,r,a,o,n,l,s,c,h,u,m,_,d,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.defineProperty},function(e){a=e.cclegacy,o=e.MeshRenderer,n=e.Collider,l=e.CCFloat,s=e._decorator,c=e.Component,h=e.Color,u=e.tween,m=e.director},function(e){_=e.Interactable},function(e){d=e.GAMEPLAY_TWEEN_TAG},function(e){p=e.gameManager,b=e.GameManager}],execute:function(){var E,g,f,y,T,P,A,G,R,C,M,I,D;a._RF.push({},"e242bxQIrlEKqTJvy34RU1t","TimedObject",void 0);const{ccclass:N,property:w}=s;e("TimedObject",(E=N("TimedObject"),g=w(_),f=w(o),y=w(n),T=w(l),P=w(l),E((R=t((G=class extends c{constructor(){super(...arguments),i(this,"interactable",R,this),i(this,"meshRenderer",C,this),i(this,"collider",M,this),i(this,"toggleDuration",I,this),i(this,"duration",D,this),r(this,"_material",void 0),r(this,"_color",new h)}start(){this._material=this.meshRenderer.material;const e=this.meshRenderer.material.getProperty("mainColor",0);this.collider.enabled=!1,this._color.set(e),this._color.a=0,this._material.setProperty("mainColor",this._color)}onEnable(){this.interactable.on(_.EVENT_INTERACT,this._onInteract,this),p.on(b.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),p.on(b.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this)}onDisable(){this.interactable.off(_.EVENT_INTERACT,this._onInteract,this),p.off(b.EVENT_GAMEPLAY_PAUSE,this._onGameplayPause,this),p.off(b.EVENT_GAMEPLAY_RESUME,this._onGameplayResume,this)}_fadeIn(){u(this._color).tag(d).to(this.toggleDuration,{a:255},{onUpdate:()=>{this._material&&this._material.setProperty("mainColor",this._color)}}).start(),this.scheduleOnce(this._fadeOut,this.duration-this.toggleDuration)}_fadeOut(){u(this._color).to(this.toggleDuration,{a:0},{onUpdate:()=>{this._material&&this._material.setProperty("mainColor",this._color)},onComplete:()=>{this.collider.enabled=!1,this.interactable.reset()}}).start()}_onInteract(){this.collider.enabled=!0,this._fadeIn()}_onGameplayPause(){m.getScheduler().pauseTarget(this.node)}_onGameplayResume(){m.getScheduler().resumeTarget(this.node)}}).prototype,"interactable",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(G.prototype,"meshRenderer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(G.prototype,"collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(G.prototype,"toggleDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),D=t(G.prototype,"duration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),A=G))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/TouchButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts"],(function(t){var e,s,o,n,i,r,c,h;return{setters:[function(t){e=t.defineProperty},function(t){s=t.cclegacy,o=t._decorator,n=t.Node,i=t.Tween,r=t.Vec3,c=t.tween},function(t){h=t.EventifiedComponent}],execute:function(){var u,d;s._RF.push({},"7d261pa4ixJXobrvAl35uEQ","TouchButton",void 0);const{ccclass:E,property:T}=o;t("TouchButton",E("TouchButton")((d=class t extends h{constructor(){super(...arguments),e(this,"_isPressed",!1)}get isPressed(){return this._isPressed}onLoad(){this.node.on(n.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(n.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(n.EventType.TOUCH_CANCEL,this._onTouchEnd,this)}onDisable(){this.reset()}reset(){i.stopAllByTarget(this.node),this.node.setScale(r.ONE),this._isPressed=!1}_onTouchStart(){this.emit(t.EVENT_PRESSED),c(this.node).to(.1,{scale:new r(.9,.9,.9)}).start(),this._isPressed=!0}_onTouchEnd(){c(this.node).to(.1,{scale:r.ONE}).start(),this._isPressed=!1}},e(d,"EVENT_PRESSED","pressed"),u=d))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/TouchJoystick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,s,n,e,h,c,r,u,a,d,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,s=t.defineProperty},function(t){n=t.cclegacy,e=t.Vec2,h=t.Vec3,c=t.Node,r=t.CCFloat,u=t._decorator,a=t.Component,d=t.UITransform,_=t.NodeEventType}],execute:function(){var l,T,g,p,b,k,y,f,C;n._RF.push({},"01e99Z+P9RB1YbW/HDMO5XM","TouchJoystick",void 0);const{ccclass:E,property:P}=u,I=new e,D=new e,O=new h;t("TouchJoystick",(l=E("TouchJoystick"),T=P(c),g=P(c),p=P(r),l((y=i((k=class extends a{constructor(){super(...arguments),o(this,"background",y,this),o(this,"stick",f,this),o(this,"touchEndDuration",C,this),s(this,"_radius",void 0),s(this,"_direction",new e),s(this,"_bgInitialPosition",new h),s(this,"_touchId",-1)}get direction(){return this._direction}onLoad(){const t=this.background.getComponent(d);this._bgInitialPosition.set(this.background.position),this._radius=t.width/2}onEnable(){this.node.on(_.TOUCH_START,this._onTouchStart,this),this.node.on(_.TOUCH_MOVE,this._onTouchMove,this),this.node.on(_.TOUCH_END,this._onTouchEnd,this),this.node.on(_.TOUCH_CANCEL,this._onTouchEnd,this)}onDisable(){this.node.off(_.TOUCH_START,this._onTouchStart,this),this.node.off(_.TOUCH_MOVE,this._onTouchMove,this),this.node.off(_.TOUCH_END,this._onTouchEnd,this),this.node.off(_.TOUCH_CANCEL,this._onTouchEnd,this)}reset(){this.background.setPosition(this._bgInitialPosition),this.stick.setPosition(h.ZERO),this._direction.set(0,0),this._touchId=-1}_updateStickPosition(t){const i=t.touch.getUILocation(I),o=this.background.getWorldPosition(O),s=D.set(i.x-o.x,i.y-o.y);s.lengthSqr()>this._radius*this._radius&&s.normalize().multiplyScalar(this._radius),this.stick.setPosition(s.x,s.y),this._direction.set(s.x/this._radius,s.y/this._radius)}_onTouchStart(t){this._touchId=t.touch.getID(),this._moveBackgroundToTouch(t),this._updateStickPosition(t)}_onTouchMove(t){t.touch.getID()===this._touchId&&this._updateStickPosition(t)}_onTouchEnd(t){t.getID()===this._touchId&&this.reset()}_moveBackgroundToTouch(t){const i=t.touch.getUILocation(I),o=this.node.worldPosition;this.background.setPosition(i.x-o.x,i.y-o.y)}}).prototype,"background",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(k.prototype,"stick",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(k.prototype,"touchEndDuration",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),b=k))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/Translations.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"6ed33O1LTZAAqVGU1PiWYnh","Translations",void 0);e("translations",{en:{back:"Back",get:"Get",select:"Select",settings:"Settings",advPause:"Ad break in:",updateWindow:{title:"Update 2.0",newCharacter:"New character",newSkins:"and new skins",newMap:"Updated map",barryWakeUp:"Barry has awakened",barryChase:"and will now chase you",reward:"We've improved the game, but progress has been reset. Here’s a reward for your patience!",getReward:"Claim Reward"},menu:{startGame:"Start game"},settingsWindow:{music:"Music",sounds:"Sounds",cameraSensitivity:"Camera sensitivity",cameraDescription:"How fast is the camera moving",slow:"Slow",fast:"Fast",gameLanguage:"Game language"},lang:{en:"English",ru:"Russian",tr:"Turkish"},characterSelect:{title:"Select character",hint:"You can change appearance during the game",select:"Start escape"},loadingScreen:{levelName:"Level: Escape from prison",questDesc:"You have to run away from Barry's jail.",loading:"Loading"},hud:{settings:"Settings",character:"Character",doubleJump:"Double\n Jump",skipStage:"Skip\n Stage"},customization:{title:"Character customization"},winWindow:{congratulation:"Congratulations!",questCompleted:"You've made it out of Barry's jail!",reward:"You got a reward:",cupsInfo:"Cups can be spent on buying new skins and decorations for the character",restartLevel:"Start level again"}},ru:{back:"Назад",get:"Получить",select:"Выбрать",settings:"Настройки",advPause:"Рекламная пауза через:",menu:{startGame:"Начать игру"},updateWindow:{title:"Обновление 2.0",newCharacter:"Новый персонаж",newSkins:"А также новые облики",newMap:"Обновленная карта",barryWakeUp:"Барри пробудился",barryChase:"и теперь будет преследовать вас",reward:"Мы улучшили игру, но прогресс сбросился. Вот награда за ваше терпение!",getReward:"Забрать награду"},settingsWindow:{music:"Музыка",sounds:"Звуки",cameraSensitivity:"Чувствительность камеры",cameraDescription:"Насколько быстро двигается камера",slow:"Медленно",fast:"Быстро",gameLanguage:"Язык игры"},lang:{en:"Английский",ru:"Русский",tr:"Турецкий"},characterSelect:{title:"Выберите персонажа",hint:"Внешность можно будет поменять во время игры",select:"Начать побег"},loadingScreen:{levelName:"Уровень: Побег из тюрьмы",questDesc:"Ваша задача - сбежать из тюрьмы Барри",loading:"Загрузка"},hud:{settings:"Настройки",character:"Персонаж",doubleJump:"Двойной\n прыжок",skipStage:"Пропустить\n этап"},customization:{title:"Настройки персонажа"},winWindow:{congratulation:"Поздравляем!",questCompleted:"Вам удалось сбежать из тюрьмы Барри",reward:"Вы получили награду:",cupsInfo:"Кубки можно потратить на покупку новых скинов и украшения для персонажа",restartLevel:"Начать уровень заново"}},tr:{back:"Geri",get:"Al",select:"Seç",settings:"Ayarlar",advPause:"Reklam molası:",updateWindow:{title:"Güncelleme 2.0",newCharacter:"Yeni karakter",newSkins:"ve yeni kostümler",newMap:"Güncellenmiş harita",barryWakeUp:"Barry uyandı",barryChase:"ve şimdi peşinize düşecek",reward:"Oyunu geliştirdik, ancak ilerlemeniz sıfırlandı. Sabırlı olduğunuz için işte bir ödül!",getReward:"Ödülü Al"},menu:{startGame:"Oyunu başlat"},settingsWindow:{music:"Müzik",sounds:"Sesler",cameraSensitivity:"Kamera hassasiyeti",cameraDescription:"Kamera ne kadar hızlı hareket ediyor",slow:"Yavaş",fast:"Hızlı",gameLanguage:"Oyun dili"},lang:{en:"İngilizce",ru:"Rusça",tr:"Türkçe"},characterSelect:{title:"Karakter seçimi",hint:"Görünümü oyun sırasında değiştirebilirsiniz",select:"Kaçışı başlat"},loadingScreen:{levelName:"Seviye: Hapishaneden kaçış",questDesc:"Barry'nin hapishanesinden kaçmalısın.",loading:"Yükleniyor"},hud:{settings:"Ayarlar",character:"Karakter",doubleJump:"Çift\n Zıplama",skipStage:"Bölümü\n Geç"},customization:{title:"Karakter özelleştirme"},winWindow:{congratulation:"Tebrikler!",questCompleted:"Size Barry'nin hapishanesinden\nkaçmayı başardınız!",reward:"Ödül kazandın:",cupsInfo:"Kazanılan kupaları, yeni kostümler ve karakter süslemeleri satın almak için kullanabilirsiniz.",restartLevel:"Seviyeyi tekrar başlat"}}});a._RF.pop()}}}));

System.register("chunks:///_virtual/UIBackdrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts"],(function(t){var i,e,n,o,r,a,c,s,p;return{setters:[function(t){i=t.defineProperty,e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,r=t.UIOpacity,a=t.CCFloat,c=t._decorator,s=t.NodeEventType},function(t){p=t.EventifiedComponent}],execute:function(){var l,u,h,d,y,f,C,_,b,g;o._RF.push({},"bd4caEag6pFfbVs81ktqO5Y","UIBackdrop",void 0);const{ccclass:k,property:E}=c;t("UIBackdrop",(l=k("UIBackdrop"),u=E(r),h=E(a),d=E(a),l((g=class t extends p{constructor(){super(...arguments),n(this,"uiOpacity",C,this),n(this,"transitionDuration",_,this),n(this,"targetOpacity",b,this),i(this,"_tweening",!1),i(this,"_hiding",!1)}onLoad(){this.uiOpacity.opacity=0,this.node.on(s.TOUCH_END,this._onClick,this)}onDestroy(){this.node.off(s.TOUCH_END,this._onClick,this)}show(){this.node.active=!0}hide(){this.node.active=!1}_onClick(){this.emit(t.EVENT_CLICK)}},i(g,"EVENT_CLICK","click"),C=e((f=g).prototype,"uiOpacity",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(f.prototype,"transitionDuration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),b=e(f.prototype,"targetOpacity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 84.15}}),y=f))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t;return{setters:[function(o){e=o.defineProperty},function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"be0d9l3ndRKH6kb/toSNx8w","UIManager",void 0);const r=o("CursorType",{Default:0,Pointer:1});class s{constructor(){e(this,"_rootNode",void 0),e(this,"_windowsRootNode",void 0)}get rootNode(){return this._rootNode}set rootNode(o){this._rootNode=o,this._windowsRootNode=this._rootNode.getChildByName("Windows")}addWindowNode(o){(this._windowsRootNode??this._rootNode).addChild(o)}setCursor(o){switch(o){case r.Pointer:document.body.style.cursor="var(--pointer-cursor)";break;default:document.body.style.cursor="var(--cursor)"}}}o("UIManager",s);o("uiManager",new s);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIUtils.ts",["cc"],(function(t){var n,e,i;return{setters:[function(t){n=t.cclegacy,e=t.Layout,i=t.UITransform}],execute:function(){t("adjustContainerSize",(function(t){const n=t.getComponent(e),c=t.getComponent(i);if(!n||!c)return;const o=t.children.length,s=Math.ceil(o/n.constraintNum);if(n.constraint===e.Constraint.FIXED_COL){const t=n.spacingY*(s-1);c.setContentSize(c.width,s*n.cellSize.height+t)}})),n._RF.push({},"8c8f7yGlf5Cm7oZ85EVuZ8q","UIUtils",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/UIWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventifiedComponent.ts"],(function(e){var i,t,o,n;return{setters:[function(e){i=e.defineProperty},function(e){t=e.cclegacy,o=e._decorator},function(e){n=e.EventifiedComponent}],execute:function(){var s,d;t._RF.push({},"df24c4htEtILb+XES3injdL","UIWindow",void 0);const{ccclass:c,property:h}=o;e("UIWindow",c("UIWindow")((d=class e extends n{constructor(){super(...arguments),i(this,"id",void 0)}show(){this.node.active=!0,this._onShow(),this.emit(e.EVENT_SHOW)}showImmediate(){this.show()}_onShow(){}_onHide(){}hide(){this.node.active=!1,this._onHide(),this.emit(e.EVENT_HIDE)}hideImmediate(){this.hide()}},i(d,"EVENT_SHOW","show"),i(d,"EVENT_HIDE","hide"),s=d))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateWindow.ts",["cc","./UIWindow.ts","./PlayerProgress.ts","./AudioManager.ts","./AudioChannelTag.ts","./MetricaUtils.ts"],(function(a){var e,n,o,i,t,d,s;return{setters:[function(a){e=a.cclegacy,n=a._decorator},function(a){o=a.UIWindow},function(a){i=a.playerProgress},function(a){t=a.audioManager},function(a){d=a.AudioChannelTag},function(a){s=a.metricaReachGoal}],execute:function(){var c;e._RF.push({},"a4001M9OcFE1JRGihlaXEHK","UpdateWindow",void 0);const{ccclass:r,property:u}=n;a("UpdateWindow",r("UpdateWindow")(c=class extends o{onLoad(){t.addSound("claim-coins","sounds/ui/claim-coins",d.UI,{volume:.5})}_onHide(){i.progress.v2UpdateRewardClaimed=!0,i.wallet.add("coins",50),i.save(),t.playSound("claim-coins"),s("v2-update-reward-claimed"),this.node.destroy()}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Valve.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts"],(function(t){var e,n,i,a,r,o,s,l,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.CCFloat,r=t._decorator,o=t.Component,s=t.tween,l=t.Vec3},function(t){c=t.Interactable},function(t){u=t.GAMEPLAY_TWEEN_TAG}],execute:function(){var b,p,h,f,y,_,E;i._RF.push({},"b948ebWXgVOP7uVIUsCoUyz","Valve",void 0);const{ccclass:g,property:I}=r;t("Valve",(b=g("Valve"),p=I(c),h=I(a),b((_=e((y=class extends o{constructor(){super(...arguments),n(this,"interactable",_,this),n(this,"rotationDuration",E,this)}onEnable(){this.interactable.on(c.EVENT_INTERACT,this._onInteract,this)}onDisable(){this.interactable.off(c.EVENT_INTERACT,this._onInteract,this)}_onInteract(){s(this.node).tag(u).by(this.rotationDuration,{eulerAngles:new l(0,0,360)},{easing:"sineInOut"}).start()}}).prototype,"interactable",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(y.prototype,"rotationDuration",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/VelocityAccelerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterMovement.ts"],(function(e){var t,r,i,o,a,n,c,l,s,h,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,i=e.defineProperty},function(e){o=e.cclegacy,a=e.Enum,n=e.CCBoolean,c=e.CCFloat,l=e._decorator,s=e.Component,h=e.Vec3,g=e.Collider},function(e){p=e.CharacterMovement}],execute:function(){var d,u,_,y,m,C,b,T,f,I,E,v,x;o._RF.push({},"9885ceCErJIUKnfKa3dT39W","VelocityAccelerator",void 0);const{ccclass:A,property:w}=l;let M=0,R=e("VelocityAccelerationDirection",function(e){return e[e.Up=0]="Up",e[e.Right=1]="Right",e[e.Forward=2]="Forward",e}({}));a(R);e("VelocityAccelerator",(d=A("VelocityAccelerator"),u=w({type:R}),_=w(n),y=w(n),m=w(c),C=w(c),d((f=t((T=class extends s{constructor(){super(...arguments),r(this,"direction",f,this),r(this,"disableGravity",I,this),r(this,"applyVelocityAsImpulse",E,this),r(this,"speed",v,this),r(this,"timeToMaxSpeed",x,this),i(this,"_collider",void 0),i(this,"_acceleration",new h),i(this,"_targetAcceleration",new h),i(this,"_timeInTrigger",0),i(this,"_currentRatio",0),i(this,"_acceleratorId",void 0),i(this,"_isCharacterInTrigger",!1)}onLoad(){let e;switch(this._collider=this.getComponent(g),this.direction){case R.Up:e=this.node.up;break;case R.Right:e=this.node.right;break;case R.Forward:e=this.node.forward}this._acceleratorId=`${this.node.name}-${M++}`,this._targetAcceleration.set(e).multiplyScalar(this.speed)}onEnable(){this._collider.on("onControllerTriggerEnter",this._onCharacterTriggerEnter,this),this._collider.on("onControllerTriggerExit",this._onCharacterTriggerExit,this)}onDisable(){this._collider.off("onControllerTriggerEnter",this._onCharacterTriggerEnter,this),this._collider.off("onControllerTriggerExit",this._onCharacterTriggerExit,this)}update(e){this._isCharacterInTrigger&&(0===this.timeToMaxSpeed?this._currentRatio=1:(this._currentRatio=this._timeInTrigger/this.timeToMaxSpeed,this._timeInTrigger=Math.min(this._timeInTrigger+e,this.timeToMaxSpeed)),this._acceleration.set(this._targetAcceleration).multiplyScalar(this._currentRatio))}_onCharacterTriggerEnter(e){const t=e.characterController.node.getComponent(p);t&&(this._isCharacterInTrigger=!0,t.addExternalAcceleration(this._acceleratorId,this._acceleration),this.disableGravity&&t.gravityEnabled&&(t.applyImpulse(t.gravityAcceleration),t.gravityEnabled=!1))}_onCharacterTriggerExit(e){const t=e.characterController.node.getComponent(p);t&&(this._timeInTrigger=0,this._isCharacterInTrigger=!1,this.disableGravity&&(t.gravityEnabled=!0),t.removeExternalAcceleration(this._acceleratorId),this.applyVelocityAsImpulse&&t.applyImpulse(this._acceleration))}}).prototype,"direction",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.Forward}}),I=t(T.prototype,"disableGravity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=t(T.prototype,"applyVelocityAsImpulse",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=t(T.prototype,"speed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=t(T.prototype,"timeToMaxSpeed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=T))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/Wallet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,s,t;return{setters:[function(e){r=e.defineProperty},function(e){s=e.cclegacy,t=e.EventTarget}],execute:function(){s._RF.push({},"52834tNfEVLKZ0eoYmkDktV","Wallet",void 0);class c extends t{constructor(){super(...arguments),r(this,"_currencies",{coins:0,cups:0})}get coins(){return this._currencies.coins}get cups(){return this._currencies.cups}add(e,r){this._isCurrencyExist(e)&&this._setCurrency(e,this._currencies[e]+r)}have(e,r){return!!this._isCurrencyExist(e)&&this._currencies[e]-r>=0}trySpend(e,r){return!(!this._isCurrencyExist(e)||this._currencies[e]<r)&&(this._setCurrency(e,this._currencies[e]-r),!0)}_isCurrencyExist(e){return void 0!==this._currencies[e]}_setCurrency(e,r){this._currencies[e]=r,this.emit(c.EVENT_CURRENCY_CHANGE,e,r)}}e("Wallet",c),r(c,"EVENT_CURRENCY_CHANGE","currency-changed"),s._RF.pop()}}}));

System.register("chunks:///_virtual/WalletView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProgress.ts","./Wallet.ts"],(function(e){var t,l,r,i,n,s,a,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.initializerDefineProperty},function(e){r=e.cclegacy,i=e.Label,n=e._decorator,s=e.Component},function(e){a=e.playerProgress},function(e){o=e.Wallet}],execute:function(){var c,u,p,b,y,h,C;r._RF.push({},"ae228ECqtZIpoM+iwr5bbOA","WalletView",void 0);const{ccclass:_,property:f}=n;e("WalletView",(c=_("WalletView"),u=f(i),p=f(i),c((h=t((y=class extends s{constructor(){super(...arguments),l(this,"coinsLabel",h,this),l(this,"cupsLabel",C,this)}onLoad(){a.wallet.on(o.EVENT_CURRENCY_CHANGE,this._updateCurrency,this)}onDestroy(){a.wallet.off(o.EVENT_CURRENCY_CHANGE,this._updateCurrency,this)}onEnable(){this._updateCurrency()}_updateCurrency(){this.coinsLabel.string=a.wallet.coins.toString(),this.cupsLabel.string=a.wallet.cups.toString()}}).prototype,"coinsLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"cupsLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/WaterLevelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Interactable.ts","./GameplayTweenSystem.ts","./AudioManager.ts"],(function(t){var e,r,n,i,o,a,l,s,c,u,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.Node,o=t.CCFloat,a=t._decorator,l=t.Component,s=t.tween,c=t.Vec3},function(t){u=t.Interactable},function(t){p=t.GAMEPLAY_TWEEN_TAG},function(t){d=t.audioManager}],execute:function(){var b,h,f,g,w,y,m,_,v,C,L;n._RF.push({},"39a8a8MWppDjpUQD/1wF6hJ","WaterLevelController",void 0);const{ccclass:N,property:D}=a;t("WaterLevelController",(b=N("WaterLevelController"),h=D(u),f=D(i),g=D(o),w=D(o),b((_=e((m=class extends l{constructor(){super(...arguments),r(this,"interactable",_,this),r(this,"waterSoundNode",v,this),r(this,"targetY",C,this),r(this,"duration",L,this)}onLoad(){this.interactable.on(u.EVENT_INTERACT,this._onInteract,this)}_onInteract(){d.playSound("water-stream",{position:this.waterSoundNode.worldPosition,maxDistance:250}),s(this.node).tag(p).by(this.duration,{position:new c(0,this.targetY,0)}).hide().start()}}).prototype,"interactable",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(m.prototype,"waterSoundNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(m.prototype,"targetY",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=e(m.prototype,"duration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),y=m))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/WindowId.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t.Enum}],execute:function(){n._RF.push({},"d8e97DYXEpDxrIdckmufMug","WindowId",void 0);let i=t("WindowId",function(t){return t[t.Settings=0]="Settings",t[t.Respawn=1]="Respawn",t[t.CharacterCustomization=2]="CharacterCustomization",t[t.Win=3]="Win",t}({}));e(i),n._RF.pop()}}}));

System.register("chunks:///_virtual/WindowsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIWindow.ts"],(function(n){var e,i,t,o;return{setters:[function(n){e=n.defineProperty},function(n){i=n.cclegacy,t=n.EventTarget},function(n){o=n.UIWindow}],execute:function(){i._RF.push({},"06d30yJC/FLlpntZXQu411v","WindowsManager",void 0);class s extends t{constructor(){super(...arguments),e(this,"_windows",new Map),e(this,"_currentOpenWindow",void 0),e(this,"isAnyWindowOpen",!1)}showWindow(n){const e=this._windows.get(n);return e?this._currentOpenWindow!==e?(this._currentOpenWindow&&this._currentOpenWindow.hideImmediate(),e.show(),e.once(o.EVENT_HIDE,(()=>{this.isAnyWindowOpen=!1,this._currentOpenWindow=null,this.emit(s.EVENT_WINDOW_HIDE,n)})),this.isAnyWindowOpen=!0,this._currentOpenWindow=e,this.emit(s.EVENT_WINDOW_SHOW,n),e):void 0:(console.error("Window not found: ",n),null)}registerWindow(n,e){this._windows.get(n)?console.error("Window already exists: ",n):(e.id=n,this._windows.set(n,e))}hideActiveWindow(){this._currentOpenWindow&&this._currentOpenWindow.hideImmediate()}}n("WindowsManager",s),e(s,"EVENT_WINDOW_SHOW","windowOpen"),e(s,"EVENT_WINDOW_HIDE","windowClose");n("windowsManager",new s);i._RF.pop()}}}));

System.register("chunks:///_virtual/WinWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIWindow.ts","./GameManager.ts"],(function(t){var e,n,o,i,r,s,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,r=t._decorator,s=t.Button},function(t){a=t.UIWindow},function(t){c=t.gameManager,u=t.GameplayEvents}],execute:function(){var l,d,p,W,f;o._RF.push({},"4a0b7tD/nVHTbRDT51M6qPW","WinWindow",void 0);const{ccclass:y,property:g}=r;t("WinWindow",(l=y("WinWindow"),d=g(i),l((f=e((W=class extends a{constructor(){super(...arguments),n(this,"restartButtonNode",f,this)}onLoad(){this.restartButtonNode.on(s.EventType.CLICK,this._onRestartButtonClick,this)}_onRestartButtonClick(){c.emit(u.RestartLevel)}}).prototype,"restartButtonNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=W))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/YandexGamesSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var s,n,d,a;return{setters:[function(e){s=e.defineProperty},function(e){n=e.cclegacy,d=e.EventTarget},function(e){a=e.gameManager}],execute:function(){n._RF.push({},"b169e1DHTVIpoQ/ZHgRDRvj","YandexGamesSDK",void 0);e("YandexGamesSDK",class extends d{constructor(){super(...arguments),s(this,"name","YandexGames"),s(this,"_sdk",void 0),s(this,"_canFireReady",!1)}get language(){return this._sdk.environment.i18n.lang}init(){return new Promise((e=>{if(window.ysdk)return this._sdk=window.ysdk,this._addEventListeners(),void e();window.addEventListener(window.EVENT_YSDK_READY,(()=>{this._sdk=window.ysdk,this._canFireReady&&this._sdk.features.LoadingAPI?.ready(),this._addEventListeners(),e()}),{once:!0})}))}fireGameReady(){this._sdk?this._sdk.features.LoadingAPI?.ready():this._canFireReady=!0}showRewardedVideo(e){this._sdk&&this._sdk.adv.showRewardedVideo({callbacks:e||{}})}showFullscreenAdv(e){this._sdk&&this._sdk.adv.showFullscreenAdv({callbacks:e||{}})}_addEventListeners(){this._sdk.on("game_api_pause",(()=>{a.pause()})),this._sdk.on("game_api_resume",(()=>{a.resume()}))}}),n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});